"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[2208],{5658:function(e,t,l){function a(){function e(e,l="axios"){const a=[];if("axios"==l&&e)for(let n in e){if(-1!==n.indexOf(".")){let l=t(n);a[l]=e[n][0]}else a[n]=e[n][0];a[n]=e[n][0]}return a}function t(e){const t=e.split(".").filter((e=>e)),l=e.split(".").filter((e=>!isNaN(e)));return t[2]+l.map(Number)}return{transformValidationErrors:e}}l.d(t,{Z:function(){return a}})},1187:function(e,t,l){l.d(t,{Z:function(){return o}});var a=l(3396);const n=["disabled","innerHTML"];var s={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("li",{class:"page-item",onClick:l[0]||(l[0]=l=>t.$emit("next",e.link))},[(0,a._)("span",{class:"page-link pointer",href:"#",disabled:!e.link.url,innerHTML:e.link.label},null,8,n)])]))}};const i=s;var o=i},2208:function(e,t,l){l.r(t),l.d(t,{default:function(){return ne}});l(560);var a=l(3396),n=l(7139),s=l(9242),i=l(4870),o=l(2191),u=l(6204),c=l(2483),r=l(5658),d=l(1187);const m={class:"container mt-2"},v={class:"row"},p={class:"col-md-7"},_={class:"card"},b={class:"card-header"},g={class:"row"},f=(0,a._)("div",{class:"col-md-6"}," Finished Products ",-1),h={class:"col-md-6"},w=(0,a._)("option",{value:"",selected:""},"Select Store",-1),y=["value"],k=["value"],q={class:"card-body"},D=(0,a._)("input",{type:"text",class:"form-control form-control-sm",placeholder:"search Item"},null,-1),x={class:"table-responsive"},C={class:"table-hover table-stripped table-bordered table"},H=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"SN"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Quantity"),(0,a._)("th",{align:"center"},[(0,a._)("i",{class:"bi bi-gear-fill"})])])],-1),z=["onClick"],Z=(0,a._)("i",{class:"bi bi-plus"},null,-1),V=[Z],N={class:"flex justify-center mt-4"},M={class:"relative justify-center rounded-md shadow pagination"},S={class:"col-md-5"},j={class:"card"},O={class:"card-body"},U={class:"border rounded-3 p-1",id:"requestBody"},Y=(0,a._)("legend",{class:"float-none w-auto px-2 h5"},"Request Items",-1),I={key:0,id:"itemForm"},K={class:"border rounded-3 p-2 m-1"},T={class:"form-group"},L={class:"form-label"},E={class:"input-group"},F={class:"bg-light p-1"},P=["onUpdate:modelValue"],Q=["onClick"],R=(0,a._)("i",{class:"bi bi-file-minus-fill"},null,-1),$=[R],A={key:0,class:"text-danger"},B={class:"row"},G={class:"col-md-12"},W=(0,a._)("label",{class:"form-label"},"Comment",-1),J={key:0,class:"text-danger"},X={class:"col-md-12"},ee=(0,a._)("label",{class:"form-label"},"DISCO",-1),te={key:0,class:"text-danger"};var le={__name:"CrOutView",setup(e){const{transformValidationErrors:t}=(0,r.Z)(),l=(0,c.tv)(),Z=(0,i.iH)({}),R=(0,i.iH)({}),le=(0,i.iH)({customer_pid:"",comment:"",items:[]}),ae=()=>{le.value={reciver:"",comment:"",store_pid:"",items:[]}},ne=e=>{var t=le.value.items.findIndex((t=>t.pid==e.pid));-1===t?le.value.items.push({pid:e.pid,quantity:1,qnt:e?.quantity,name:e.name}):le.value.items[t].quantity<e?.quantity?le.value.items[t].quantity++:o.Z.commit("notify",{message:`Quantity remaining is : ${le.value.items[t].quantity}`,type:"warning"})},se=e=>{le.value.items.splice(e,1)};function ie(){Z.value=[],o.Z.dispatch("postMethod",{url:"/item-cr-out",param:le.value}).then((e=>{422==e?.status?Z.value=t(e.data):201==e?.status&&(l.push({name:"CrOutRequestView"}),ae())})).catch((e=>{console.log(e)}))}function oe(e){o.Z.dispatch("getMethod",{url:"/load-cr-out-items/"+e}).then((e=>{R.value=200==e?.status?e.data:[]})).catch((e=>{console.log(e)}))}le.value.items&&ce();const ue=(0,i.iH)([]);function ce(){o.Z.dispatch("loadDropdown","customers").then((({data:e})=>{ue.value=e})).catch((e=>{console.log(e)}))}const re=(0,i.iH)({});function de(){o.Z.dispatch("loadDropdown","stores").then((({data:e})=>{1==e.length&&oe(e[0].id),re.value=e})).catch((e=>{console.log(e)}))}function me(e){e.url&&!e.active&&o.Z.dispatch("getMethod",{url:e.url}).then((e=>{R.value=200==e?.status?e.data:[]})).catch((e=>{console.log(e)}))}return de(),(e,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",m,[(0,a._)("div",v,[(0,a._)("div",p,[(0,a._)("div",_,[(0,a._)("div",b,[(0,a._)("div",g,[f,(0,a._)("div",h,[(0,a._)("select",{class:"form-control",onChange:t[0]||(t[0]=e=>oe(e.target.value))},[w,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(re.value,(e=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e.id},[1==re.value.length?((0,a.wg)(),(0,a.iD)("option",{key:0,selected:"",value:e.id},(0,n.zw)(e.text),9,y)):((0,a.wg)(),(0,a.iD)("option",{key:1,value:e.id},(0,n.zw)(e.text),9,k))],64)))),128))],32)])])]),(0,a._)("div",q,[D,(0,a._)("div",x,[(0,a._)("table",C,[H,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.value?.data,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,n.zw)(t+1),1),(0,a._)("td",null,(0,n.zw)(e.name),1),(0,a._)("td",null,(0,n.zw)(e?.quantity??0)+" "+(0,n.zw)(e.unit),1),(0,a._)("td",null,[e?.quantity>0?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t=>ne(e),type:"button",class:"btn btn-primary btn-sm"},V,8,z)):(0,a.kq)("",!0)])])))),128))])]),(0,a._)("div",N,[(0,a._)("nav",M,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.value.links,((e,t)=>((0,a.wg)(),(0,a.j4)(d.Z,{link:e,key:t,onNext:t=>me(e)},null,8,["link","onNext"])))),128))])])])])])]),(0,a._)("div",S,[(0,a._)("div",j,[(0,a._)("div",O,[(0,a._)("fieldset",U,[Y,le.value.items.length?((0,a.wg)(),(0,a.iD)("form",I,[(0,a._)("fieldset",K,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(le.value.items,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-12",key:t},[(0,a._)("div",T,[(0,a._)("label",L,(0,n.zw)(e.name),1),(0,a._)("div",E,[(0,a._)("span",F,"#"+(0,n.zw)(e.qnt),1),(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t=>e.quantity=t,class:"form-control",placeholder:"e.g 31"},null,8,P),[[s.nr,e.quantity]]),(0,a._)("button",{type:"button",class:"btn btn-danger btn-sm",onClick:e=>se(t)},$,8,Q)]),Z.value[t]?((0,a.wg)(),(0,a.iD)("p",A,(0,n.zw)(Z.value[t]),1)):(0,a.kq)("",!0)])])))),128))]),(0,a._)("div",B,[(0,a._)("div",G,[W,(0,a.wy)((0,a._)("textarea",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>le.value.comment=e),class:"form-control form-control-sm",placeholder:"e.g enjoy Grade A Meter"},null,512),[[s.nr,le.value.comment]]),Z.value?.comment?((0,a.wg)(),(0,a.iD)("p",J,(0,n.zw)(Z.value?.comment[0]),1)):(0,a.kq)("",!0)]),(0,a._)("div",X,[ee,(0,a.Wm)((0,i.SU)(u.Z),{modelValue:le.value.customer_pid,"onUpdate:modelValue":t[2]||(t[2]=e=>le.value.customer_pid=e),options:ue.value,settings:{width:"100%"}},null,8,["modelValue","options"]),Z.value?.customer_pid?((0,a.wg)(),(0,a.iD)("p",te,(0,n.zw)(Z.value?.customer_pid),1)):(0,a.kq)("",!0)])]),(0,a._)("div",{class:"float-end"},[(0,a._)("button",{type:"button",class:"btn btn-success btn-sm mt-2 mb-2",onClick:ie},"Submit")])])):(0,a.kq)("",!0)])])])])])])]))}};const ae=le;var ne=ae}}]);
//# sourceMappingURL=2208.afdddded.js.map