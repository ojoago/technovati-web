"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[5259],{1187:function(e,l,t){t.d(l,{Z:function(){return d}});var a=t(3396);const n=["disabled","innerHTML"];var s={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(e){return(l,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("li",{class:"page-item",onClick:t[0]||(t[0]=t=>l.$emit("next",e.link))},[(0,a._)("span",{class:"page-link pointer",href:"#",disabled:!e.link.url,innerHTML:e.link.label},null,8,n)])]))}};const i=s;var d=i},5259:function(e,l,t){t.r(l),t.d(l,{default:function(){return Q}});var a=t(3396),n=t(9242),s=t(7139),i=t(4870),d=t(2191),u=t(1187),o=t(6204);const c={class:"container mt-2"},r={class:"row"},_={class:"col-md-4"},v={class:"card"},m={class:"card-body"},p={class:"border rounded-3 p-2 m-1"},b=(0,a._)("legend",{class:"float-none w-auto px-2"},"Create Schedule",-1),g={id:"scheduleForm"},h={class:"row"},w={class:"col-md-12"},f={class:"form-group"},k=(0,a._)("label",{class:"form-label"},"Activity",-1),y={key:0,class:"text-danger"},D={class:"col-md-12"},x={class:"form-group"},S=(0,a._)("label",{class:"form-label"},"Begin Date",-1),z={key:0,class:"text-danger"},C={class:"col-md-12"},H={class:"form-group"},U=(0,a._)("label",{class:"form-label"},"End Date",-1),V={key:0,class:"text-danger"},T={class:"col-md-12"},Z={class:"form-group"},j=(0,a._)("label",{class:"form-label"},[(0,a.Uk)("Staff "),(0,a._)("span",{class:"text-danger"},"*")],-1),q={key:0,class:"text-danger"},M={class:"col-md-8"},A={class:"card"},E=(0,a._)("div",{class:"card-header"},"Senior Staff Schedules",-1),L={class:"card-body"},N={class:"table-responsive"},B={class:"table-hover table-stripped table-bordered table"},K=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"SN"),(0,a._)("th",null,"Activity"),(0,a._)("th",null,"Begin"),(0,a._)("th",null,"End"),(0,a._)("th",null,"STATUS"),(0,a._)("th",null,[(0,a._)("i",{class:"bi bi-gear-fill"})])])],-1),Y={class:"dropdown"},F=(0,a._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,a._)("i",{class:"bi bi-tools"})],-1),O={class:"dropdown-menu"},P=["onClick"],W=["onClick"],$={class:"flex justify-center mt-4"},G={class:"relative justify-center rounded-md shadow pagination"};var I={__name:"ScheduleView",setup(e){const l=(0,i.iH)({}),t=(0,i.iH)({}),I=(0,i.iH)({schedule:"",begin_time:"",end_time:"",user_pid:""}),J=()=>{I.value={schedule:"",begin_time:"",end_time:"",user_pid:""}},Q=e=>{I.value={schedule:e.schedule,begin_time:e.begin_time,end_time:e.end_time,user_pid:e.user_pid,id:e.id}};function R(){l.value=[],d.Z.dispatch("postMethod",{url:"/create-schedule",param:I.value}).then((e=>{422==e?.status?l.value=e.data:201==e?.status&&(J(),X())}))}function X(e="/load-schedules"){d.Z.dispatch("getMethod",{url:e}).then((e=>{200==e?.status&&(t.value=e.data)}))}const ee=(0,i.iH)([]);function le(){d.Z.dispatch("loadDropdown","users").then((({data:e})=>{ee.value=e})).catch((e=>{console.log(e)}))}function te(e){e.url&&!e.active&&X(e.url)}return le(),X(),(e,d)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",c,[(0,a._)("div",r,[(0,a._)("div",_,[(0,a._)("div",v,[(0,a._)("div",m,[(0,a._)("fieldset",p,[b,(0,a._)("form",g,[(0,a._)("div",h,[(0,a._)("div",w,[(0,a._)("div",f,[k,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":d[0]||(d[0]=e=>I.value.schedule=e),class:"form-control",placeholder:"e.g meeting by 10am"},null,512),[[n.nr,I.value.schedule]]),l.value?.schedule?((0,a.wg)(),(0,a.iD)("p",y,(0,s.zw)(l.value?.schedule[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",D,[(0,a._)("div",x,[S,(0,a.wy)((0,a._)("input",{type:"datetime-local","onUpdate:modelValue":d[1]||(d[1]=e=>I.value.begin_time=e),class:"form-control"},null,512),[[n.nr,I.value.begin_time]]),l.value?.begin_time?((0,a.wg)(),(0,a.iD)("p",z,(0,s.zw)(l.value?.begin_time[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",C,[(0,a._)("div",H,[U,(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":d[2]||(d[2]=e=>I.value.end_time=e),class:"form-control"},null,512),[[n.nr,I.value.end_time]]),l.value?.end_time?((0,a.wg)(),(0,a.iD)("p",V,(0,s.zw)(l.value?.end_time[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",T,[(0,a._)("div",Z,[j,(0,a.Wm)((0,i.SU)(o.Z),{modelValue:I.value.user_pid,"onUpdate:modelValue":d[3]||(d[3]=e=>I.value.user_pid=e),options:ee.value,settings:{width:"100%"}},null,8,["modelValue","options"]),l.value?.user_pid?((0,a.wg)(),(0,a.iD)("p",q,(0,s.zw)(l.value?.user_pid[0]),1)):(0,a.kq)("",!0)])])]),(0,a._)("button",{type:"button",class:"btn btn-success btn-sm mt-2",onClick:R},"Submit")])])])])]),(0,a._)("div",M,[(0,a._)("div",A,[E,(0,a._)("div",L,[(0,a._)("div",N,[(0,a._)("table",B,[K,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value.data,((l,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,s.zw)(t+1),1),(0,a._)("td",null,(0,s.zw)(l.schedule),1),(0,a._)("td",null,(0,s.zw)(l.begin),1),(0,a._)("td",null,(0,s.zw)(l.end),1),(0,a._)("td",null,(0,s.zw)(l.sch_status),1),(0,a._)("td",null,[(0,a._)("div",Y,[F,(0,a._)("ul",O,[(0,a._)("li",null,[(0,a._)("a",{class:"dropdown-item pointer bg-warning",onClick:e=>Q(l)},"Edit",8,P)]),(0,a._)("li",null,[(0,a._)("a",{class:"dropdown-item pointer bg-danger",onClick:t=>e.deleteSchedule(l.id)},"Delete",8,W)])])])])])))),128))])]),(0,a._)("div",$,[(0,a._)("nav",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value.links,((e,l)=>((0,a.wg)(),(0,a.j4)(u.Z,{link:e,key:l,onNext:l=>te(e)},null,8,["link","onNext"])))),128))])])])])])])])])]))}};const J=I;var Q=J}}]);
//# sourceMappingURL=5259.843b395a.js.map