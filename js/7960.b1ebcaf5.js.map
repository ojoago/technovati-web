{"version":3,"file":"js/7960.b1ebcaf5.js","mappings":"+fAGA,MAAMA,EAAc,EAEpB,O,qkDCsIA,MAAM,gBAAEC,EAAe,aAACC,IAAiBC,EAAAA,EAAAA,KACnCC,GAAWC,EAAAA,EAAAA,IAAI,CAAC,GAEtB,SAASC,IACLC,EAAAA,EAAMC,SAAS,YAAa,CAAEC,IAAK,uBAAwBC,MAAMC,IAC7D,GAAoB,KAAhBA,GAAMC,OAAe,CACrBR,EAASS,MAAQF,EAAKA,KACtB,IAAIG,EAAMH,GAAMA,KAAK,IAAIP,SAAS,IAAIU,IAClCC,EAAOJ,GAAMA,KAAK,IAAIP,SAAS,IAAIY,aACvCC,EAAYH,EAAIC,EACpB,MACIX,EAASS,MAAQ,CAAC,CACtB,IACDK,OAAMC,IACLC,QAAQC,IAAIF,EAAE,GAEtB,CAdAb,IAgBA,MAAMgB,GAAUjB,EAAAA,EAAAA,IAAI,MACdkB,GAAWlB,EAAAA,EAAAA,IAAI,CAAC,GAChBY,EAAcA,CAACH,EAAIC,KACrBO,EAAQT,MAAQE,EAChBS,EAAS,yBAAyBV,EAAK,EAG3C,SAASU,EAASf,GACdF,EAAAA,EAAMC,SAAS,YAAa,CAAEC,IAAKA,IAAOC,MAAMC,IAExCY,EAASV,MADO,KAAhBF,GAAMC,OACWD,GAAMA,KAEN,CAAC,CACtB,IACDO,OAAMC,IACLC,QAAQC,IAAIF,EAAE,GAGtB,CACA,SAASM,GAASC,GACTA,EAAKjB,MAAOiB,EAAKC,QAGtBH,EAASE,EAAKjB,IAClB,CAIA,MAAMmB,IAAcvB,EAAAA,EAAAA,KAAI,GAElBwB,GAAYA,KACdD,GAAYf,OAAQ,EACpBiB,IAAW,EAGTC,GAAaA,KACfH,GAAYf,OAAQ,EACpBiB,IAAW,EAETE,IAAU3B,EAAAA,EAAAA,IAAI,CAChBU,KAAM,GACNkB,YAAa,KAEXH,GAAYA,KACdE,GAAQnB,MAAQ,CACZE,KAAM,GACNkB,YAAa,GAChB,EAECC,IAAS7B,EAAAA,EAAAA,IAAI,CAAC,GAGd8B,GAAgBA,KACnBD,GAAOrB,MAAQ,GACdN,EAAAA,EAAMC,SAAS,aAAc,CAAEC,IAAK,uBAAwB2B,MAAOJ,GAAQnB,QAASH,MAAMC,IAClE,KAAhBA,GAAMC,OACNsB,GAAOrB,MAAQF,EAAKA,KACG,KAAhBA,GAAMC,SACbmB,KACAzB,IACJ,IACDY,OAAMC,IACLC,QAAQC,IAAIF,EAAE,GAChB,E,owGCtNN,MAAMnB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://Technovati/./src/components/PaginationLinks.vue","webpack://Technovati/./src/views/accounts/coa/AccountListView.vue","webpack://Technovati/./src/views/accounts/coa/AccountListView.vue?6dcb"],"sourcesContent":["import script from \"./PaginationLinks.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PaginationLinks.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div>\r\n        <div class=\"container mt-2\">\r\n\r\n            <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                    <h3>Accounts</h3>\r\n                    <button class=\"btn btn-primary btn-sm\" @click=\"openModal\">Add New</button> \r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-4\">\r\n                            <template v-for=\"(account,loop) in accounts\" :key=\"loop\">\r\n                                <div class=\"accordion\" id=\"accordionPanelsStayOpenExample\">\r\n                                    <div class=\"accordion-item\">\r\n                                        <h2 class=\"accordion-header\" :id=\"`panelsStayOpen-heading${loop}`\">\r\n                                            <button class=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                                                :data-bs-target=\"`#panelsStayOpen-collapse${loop}`\" aria-expanded=\"true\"\r\n                                                aria-controls=\"panelsStayOpen-collapseOne\">\r\n                                                {{account.name}}\r\n                                            </button>\r\n                                        </h2>\r\n                                        <div v-if=\"loop == 0\" :id=\"`panelsStayOpen-collapse${loop}`\"\r\n                                            class=\"accordion-collapse collapse show\"\r\n                                            aria-labelledby=\"panelsStayOpen-headingOne\">\r\n                                            <div class=\"accordion-body\">\r\n                                                <div class=\"account-detail\" v-for=\"(sub,i) in account.accounts\"\r\n                                                    @click=\"loadJournal(sub.pid, sub.account_name)\" :key=\"i\">\r\n                                                    <div class=\"pointer\">{{ sub.account_name }}</div>\r\n                                                    <div>{{ sub.balance }}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div v-else :id=\"`panelsStayOpen-collapse${loop}`\"\r\n                                            class=\"accordion-collapse collapse \"\r\n                                            aria-labelledby=\"panelsStayOpen-headingOne\">\r\n                                            <div class=\"accordion-body\">\r\n                                                <div class=\"account-detail\" v-for=\"(sub,i) in account.accounts\"\r\n                                                    @click=\"loadJournal(sub.pid,sub.account_name)\" :key=\"i\">\r\n                                                    <div class=\"pointer\">{{ sub.account_name }}</div>\r\n                                                    <div>{{ sub.balance }}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </template>\r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                            <fieldset class=\"border rounded-3 p-2 m-1\">\r\n                                <legend class=\"float-none w-auto px-2\">{{ formatUpperCase(journal) }}</legend>\r\n\r\n                                <div class=\"table-responsive\">\r\n                                    <table class=\"table-hover table-stripped table-bordered table\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>SN</th>\r\n                                                <th>Date</th>\r\n                                                <th>Ref</th>\r\n                                                <th>Debit</th>\r\n                                                <th>Credit</th>\r\n                                                <th>Note</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                       <tbody class=\"mb-2\" v-if=\"journals.data\">\r\n                                            <tr v-for=\"(data, loop) in journals.data\" :key=\"loop\">\r\n                                                <td>{{ loop + 1 }}</td>\r\n                                                <td>{{ data.journal?.dates }}</td>\r\n                                                <td>{{ data?.journal?.transaction_number }}</td>\r\n                                                <td>{{ numberFormat(data?.debit_amount) }}</td>\r\n                                                <td>{{ numberFormat(data?.credit_amount)}}</td>\r\n                                                <td>{{ data?.journal?.comments }}</td>\r\n                                               \r\n                                            </tr>\r\n                                        </tbody>\r\n                                        <tfoot v-else class=\"text-center\" style=\"width: 100%\" width=\"100%\">\r\n                                            <tr>\r\n                                                <td colspan=\"50\"><small class=\"small\">No Record Yet</small> </td>\r\n                                            </tr>\r\n                                        </tfoot>\r\n                                    </table>\r\n                                    <div class=\"flex justify-center mt-4\">\r\n                                        <nav class=\"relative justify-center rounded-md shadow pagination\">\r\n                                            <pagination-links v-for=\"(link, i) of journals.links\" :link=\"link\" :key=\"i\"\r\n                                                @next=\"nextPage(link)\"></pagination-links>\r\n                                        </nav>\r\n                                    </div>\r\n                                </div>\r\n                            </fieldset>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n          <o-modal :isOpen=\"toggleModal\" modal-class=\"modal-sm\" title=\"Sub Account\" @submit=\"createAccount\"\r\n            @modal-close=\"closeModal\">\r\n            <template #content>\r\n                <form >\r\n\r\n                    <div class=\"row\">\r\n                       \r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\">Account Type </label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" v-model=\"account.name\"\r\n                                    placeholder=\"e.g Salary Account\">\r\n                                <p v-if=\"errors.name\" class=\"text-danger\">{{ errors.name }} </p>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\">Description </label>\r\n                                <textarea type=\"text\" class=\"form-control form-control-sm\" v-model=\"account.description\"\r\n                                    placeholder=\"e.g Salary Account\"></textarea>\r\n                                <p v-if=\"errors.description\" class=\"text-danger\">{{ errors.description }} </p>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </form>\r\n            </template>\r\n        </o-modal>\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport store from \"@/store\";\r\nimport { ref } from \"vue\";\r\nimport PaginationLinks from \"@/components/PaginationLinks.vue\";\r\nimport OModal from \"@/components/OModal.vue\";\r\nimport { useHelper } from '@/composables/helper';\r\nconst { formatUpperCase,numberFormat } = useHelper()\r\nconst accounts = ref({})\r\nloadAccount()\r\nfunction loadAccount() {\r\n    store.dispatch('getMethod', { url: '/load-account-list' }).then((data) => {\r\n        if (data?.status == 200) {\r\n            accounts.value = data.data\r\n            let pid = data?.data[0]?.accounts[0]?.pid;\r\n            let name = data?.data[0]?.accounts[0]?.account_name;\r\n            loadJournal(pid,name)\r\n        }else{\r\n            accounts.value = {}\r\n        }\r\n    }).catch(e => {\r\n        console.log(e);\r\n    })\r\n}\r\n\r\nconst journal = ref(null)\r\nconst journals = ref({})\r\nconst loadJournal = (pid,name) =>{\r\n    journal.value = name;\r\n    loadData('/load-account-journal/'+pid )\r\n}\r\n\r\nfunction loadData(url) {\r\n    store.dispatch('getMethod', { url: url }).then((data) => {\r\n        if (data?.status == 200) {\r\n            journals.value = data?.data\r\n        } else {\r\n            journals.value = {}\r\n        }\r\n    }).catch(e => {\r\n        console.log(e);\r\n    })\r\n    \r\n}\r\nfunction nextPage(link) {\r\n    if (!link.url || link.active) {\r\n        return;\r\n    }\r\n    loadData(link.url)\r\n}\r\n\r\n// create account type \r\n\r\nconst toggleModal = ref(false)\r\n\r\nconst openModal = ()=>{\r\n    toggleModal.value = true\r\n    resetAttr()\r\n}\r\n\r\nconst closeModal = () => {\r\n    toggleModal.value = false\r\n    resetAttr()\r\n};\r\nconst account = ref({\r\n    name: '' , \r\n    description: '' , \r\n})\r\nconst resetAttr = () => {\r\n    account.value = {\r\n        name: '' , \r\n        description: '' , \r\n    }\r\n}\r\nconst errors = ref({});\r\n\r\n\r\nconst createAccount = () => {\r\n   errors.value = []\r\n    store.dispatch('postMethod', { url: '/create-account-type', param: account.value }).then((data) => {\r\n        if (data?.status == 422) {\r\n            errors.value = data.data\r\n        } else if (data?.status == 201) {\r\n            closeModal()\r\n            loadAccount()\r\n        }\r\n    }).catch(e => {\r\n        console.log(e);\r\n    })\r\n}\r\n\r\n\r\n// const editAccount = (data) => {\r\n//     account.value = {\r\n//         type_pid: data.type_pid,\r\n//         account_name: data.account_name,\r\n//         account_code: data.account_code,\r\n//         opening_balance: data.opening_balance,\r\n//         opening_balance_type: data.opening_balance_type,\r\n//         opening_date: data.opening_date,\r\n//         note: data.note ,\r\n//         status: data.status ,\r\n//         pid: data.pid ,\r\n//         edit: true  ,\r\n//     }\r\n//     toggleModal.value = true\r\n\r\n// }\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.accordion-button{\r\n    padding: 7px;\r\n    background: #f1f1f1;\r\n}\r\n\r\n.account-detail{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    border-bottom: 1px solid #f1f1f1;\r\n    background: #fff;\r\n}\r\n\r\n.accordion-body{\r\n    padding: 3px;\r\n}\r\n\r\n</style>","import script from \"./AccountListView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AccountListView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AccountListView.vue?vue&type=style&index=0&id=43272968&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-43272968\"]])\n\nexport default __exports__"],"names":["__exports__","formatUpperCase","numberFormat","useHelper","accounts","ref","loadAccount","store","dispatch","url","then","data","status","value","pid","name","account_name","loadJournal","catch","e","console","log","journal","journals","loadData","nextPage","link","active","toggleModal","openModal","resetAttr","closeModal","account","description","errors","createAccount","param"],"sourceRoot":""}