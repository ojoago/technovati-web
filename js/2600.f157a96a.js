"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[2600],{1187:function(l,e,a){a.d(e,{Z:function(){return i}});var t=a(3396);const s=["disabled","innerHTML"];var o={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(e,a)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>e.$emit("next",l.link))},[(0,t._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,s)])]))}};const n=o;var i=n},2793:function(l,e,a){a.d(e,{Z:function(){return Z}});var t=a(3396),s=a(9242),o=a(7139),n=a(2191),i=a(4870);const u={class:"row"},d={class:"col-md-12"},c={class:"form-group"},r=(0,t._)("label",{class:"form-label"},"Sub Task",-1),p={key:0,class:"text-danger"},m={class:"col-md-6"},v={class:"form-group"},_=(0,t._)("label",{class:"form-label"},"Begin Date",-1),k={key:0,class:"text-danger"},g={class:"col-md-6"},b={class:"form-group"},f=(0,t._)("label",{class:"form-label"},"End Date",-1),w={key:0,class:"text-danger"},h={class:"col-md-12"},y={class:"form-group"},D=(0,t._)("label",{class:"form-label"},"Description",-1),x={key:0,class:"text-danger"},T={class:"col-md-12"},C={class:"form-group"},S=(0,t._)("label",{class:"form-label"},"Assign",-1),z={class:"row"},H=["value"],U={for:"checkbox"},q={key:0,class:"text-danger"},V=(0,t._)("hr",null,null,-1);var A={__name:"SubTaskForm",props:{task:{type:Object}},emits:["customEvent"],setup(l,{emit:e}){const a=e,A=l,E=(0,i.iH)({task:"",description:"",from:"",to:"",teams:[],task_pid:A.task?.pid}),Z=()=>{E.value={task:"",description:"",from:"",to:"",teams:[],task_pid:A.task?.pid}},N=(0,i.iH)({});function M(){N.value=[],a("customEvent"),n.Z.dispatch("postMethod",{url:"/create-sub-task",param:E.value}).then((l=>{422==l?.status?N.value=l.data:201==l?.status&&Z()}))}const O=(0,i.iH)([]);function I(){n.Z.dispatch("loadDropdown","users").then((({data:l})=>{O.value=l}))}return I(),(e,a)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("form",null,[(0,t._)("div",u,[(0,t._)("div",d,[(0,t._)("div",c,[r,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=l=>E.value.name=l),class:"form-control",placeholder:"enter sub task"},null,512),[[s.nr,E.value.name]]),N.value?.name?((0,t.wg)(),(0,t.iD)("p",p,(0,o.zw)(N.value?.name[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",m,[(0,t._)("div",v,[_,(0,t.wy)((0,t._)("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=l=>E.value.from=l),class:"form-control"},null,512),[[s.nr,E.value.from]]),N.value?.from?((0,t.wg)(),(0,t.iD)("p",k,(0,o.zw)(N.value?.from[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",g,[(0,t._)("div",b,[f,(0,t.wy)((0,t._)("input",{type:"date","onUpdate:modelValue":a[2]||(a[2]=l=>E.value.to=l),class:"form-control"},null,512),[[s.nr,E.value.to]]),N.value?.to?((0,t.wg)(),(0,t.iD)("p",w,(0,o.zw)(N.value?.to[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",h,[(0,t._)("div",y,[D,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":a[3]||(a[3]=l=>E.value.description=l),class:"form-control",placeholder:"enter description"},null,512),[[s.nr,E.value.description]]),N.value?.description?((0,t.wg)(),(0,t.iD)("p",x,(0,o.zw)(N.value?.description[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",T,[(0,t._)("div",C,[S,(0,t._)("div",z,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.task.teams,(l=>((0,t.wg)(),(0,t.iD)("div",{class:"col-md-6",key:l.pid},[(0,t.wy)((0,t._)("input",{type:"checkbox",id:"checkbox",value:l,"onUpdate:modelValue":a[4]||(a[4]=l=>E.value.teams=l)},null,8,H),[[s.e8,E.value.teams]]),(0,t.Uk)(" Â  "),(0,t._)("label",U,(0,o.zw)(l.text),1)])))),128))]),N.value?.teams?((0,t.wg)(),(0,t.iD)("p",q,(0,o.zw)(N.value?.teams[0]),1)):(0,t.kq)("",!0)])])]),V,(0,t._)("button",{type:"button",class:"btn btn-success btn-sm mt-2",onClick:M},"Submit")])]))}};const E=A;var Z=E},2600:function(l,e,a){a.r(e),a.d(e,{default:function(){return sl}});a(560);var t=a(3396),s=a(7139),o=a(9242),n=a(4870),i=a(2191),u=a(6368),d=a(1187),c=a(2793),r=a(6091),p=a(2483);const m={class:"container mt-2"},v={class:"card"},_=(0,t._)("h3",null,"Tasks",-1),k={class:"card-body"},g={class:"table-responsive"},b={class:"table-hover table-stripped table-bordered table"},f=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"TASK"),(0,t._)("th",null,"SUB TASK"),(0,t._)("th",null,"DESCRIPTION"),(0,t._)("th",null,"Deadline"),(0,t._)("th",null,"STATUS"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-gear-fill"})])])],-1),w={class:"dropdown"},h=(0,t._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,t._)("i",{class:"bi bi-tools"})],-1),y={class:"dropdown-menu"},D=["onClick"],x=["onClick"],T=["onClick"],C=["onClick"],S={class:"flex justify-center mt-4"},z={class:"relative justify-center rounded-md shadow pagination"},H=(0,t._)("div",null,null,-1),U={class:"row"},q={class:"col-md-12"},V={class:"form-group"},A=(0,t._)("label",{class:"form-label"},"Task/Project",-1),E={key:0,class:"text-danger"},Z={class:"col-md-6"},N={class:"form-group"},M=(0,t._)("label",{class:"form-label"},"Description",-1),O={key:0,class:"text-danger"},I={class:"col-md-6"},P={class:"form-group"},j=(0,t._)("label",{class:"form-label"},"Status Heading",-1),K=(0,t._)("i",{class:"bi bi-info-cycle"},null,-1),L={key:0,class:"text-danger"},W={class:"col-md-6"},B={class:"form-group"},G=(0,t._)("label",{class:"form-label"},"Begin Date",-1),R={key:0,class:"text-danger"},Y={class:"col-md-6"},J={class:"form-group"},$=(0,t._)("label",{class:"form-label"},"End Date",-1),F={key:0,class:"text-danger"},Q={class:"col-md-12"},X={class:"form-group"},ll=(0,t._)("label",{class:"form-label"},"Assign",-1),el={key:0,class:"text-danger"};var al={__name:"TaskView",setup(l){const e=(0,p.tv)(),a=(0,n.iH)(null);a.value=i.Z?.state?.user?.data?.pid;const al=(0,n.iH)({}),tl=(0,n.iH)({}),sl=(0,n.iH)({task:"",description:"",from:"",to:"",teams:"",heading:""}),ol=(0,n.iH)(!1),nl=(0,n.iH)(!1),il=()=>{ol.value=!1,nl.value=!1,dl()},ul=()=>{nl.value=!0},dl=()=>{sl.value={task:"",description:"",from:"",to:"",teams:"",heading:""}};function cl(){al.value=[],i.Z.dispatch("postMethod",{url:"/create-task",param:sl.value}).then((l=>{422==l?.status?al.value=l.data:201==l?.status&&(al.value=[],il(),pl())})).catch((l=>{console.log(l),alert("weting be this")}))}function rl(l){confirm(`are you sure you want to delete ${l.task} ?`)&&i.Z.dispatch("getMethod",{url:"/delete-task/"+l.pid}).then((l=>{201==l?.status&&pl()})).catch((l=>{console.log(l)}))}function pl(l="/load-task"){i.Z.dispatch("getMethod",{url:l}).then((l=>{tl.value=200==l?.status?l.data:{}})).catch((l=>{console.log(l)}))}function ml(l){l.url&&!l.active&&pl(l.url)}function vl(l){localStorage.setItem("TVATI_TASK_DETAIL",JSON.stringify(l,null,2)),e.push({path:"task-detail",query:{task:l.pid}})}function _l(l){nl.value=!0,sl.value=l}pl();const kl=(0,n.iH)({});function gl(l){kl.value=l,ol.value=!0}const bl=(0,n.iH)([]);function fl(){i.Z.dispatch("loadDropdown","users").then((({data:l})=>{bl.value=l})).catch((l=>{console.log(l)}))}return fl(),(l,e)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",m,[(0,t._)("div",v,[(0,t._)("div",{class:"card-header"},[_,(0,t._)("button",{class:"btn btn-sm btn-primary",onClick:ul},"Add Task")]),(0,t._)("div",k,[(0,t._)("div",g,[(0,t._)("table",b,[f,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(tl.value.data,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,s.zw)(e+1),1),(0,t._)("td",null,(0,s.zw)(l.task),1),(0,t._)("td",null,(0,s.zw)(l.sub_task_count),1),(0,t._)("td",null,(0,s.zw)(l.description),1),(0,t._)("td",null,(0,s.zw)(l.end),1),(0,t._)("td",null,(0,s.zw)(0==l.status?"Not Completed":"Completed"),1),(0,t._)("td",null,[(0,t._)("div",w,[h,(0,t._)("ul",y,[(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer",onClick:e=>vl(l)},"Details",8,D)]),(0,t._)("li",null,[0==l.status?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"dropdown-item pointer",onClick:e=>gl(l)},"Add Sub Task",8,x)):(0,t.kq)("",!0)]),(0,t._)("li",null,[l.creator==a.value&&0==l.status?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"dropdown-item pointer",onClick:e=>_l(l)},"Edit Task",8,T)):(0,t.kq)("",!0)]),(0,t._)("li",null,[l.creator==a.value&&0==l.status?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"dropdown-item pointer bg-danger",onClick:e=>rl(l)},"Delete",8,C)):(0,t.kq)("",!0)])])])])])))),128))])]),(0,t._)("div",S,[(0,t._)("nav",z,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(tl.value.links,((l,e)=>((0,t.wg)(),(0,t.j4)(d.Z,{link:l,key:e,onNext:e=>ml(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,t.Wm)(r.Z,{isOpen:ol.value,"modal-class":"modal-sm",titles:"Add Sub Task",subtitle:"add sub task to task",onModalClose:il},{content:(0,t.w5)((()=>[(0,t.Wm)(c.Z,{task:kl.value,onCustomEvent:il},null,8,["task"])])),footer:(0,t.w5)((()=>[H])),_:1},8,["isOpen"]),(0,t.Wm)(r.Z,{isOpen:nl.value,"modal-class":"modal-lg",title:"Create Task",onSubmit:cl,onModalClose:il},{content:(0,t.w5)((()=>[(0,t._)("form",null,[(0,t._)("div",U,[(0,t._)("div",q,[(0,t._)("div",V,[A,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>sl.value.task=l),class:"form-control",placeholder:"e.g task one"},null,512),[[o.nr,sl.value.task]]),al.value?.task?((0,t.wg)(),(0,t.iD)("p",E,(0,s.zw)(al.value?.task[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Z,[(0,t._)("div",N,[M,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>sl.value.description=l),class:"form-control",placeholder:"e.g how to add task"},null,512),[[o.nr,sl.value.description]]),al.value?.description?((0,t.wg)(),(0,t.iD)("p",O,(0,s.zw)(al.value?.description[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",I,[(0,t._)("div",P,[j,(0,t.Uk)(),K,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>sl.value.headings=l),class:"form-control",placeholder:"e.g PENDING, IN PROGRESS, COMPLETED, DAMAGED"},null,512),[[o.nr,sl.value.headings]]),al.value?.headings?((0,t.wg)(),(0,t.iD)("p",L,(0,s.zw)(al.value?.headings[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",W,[(0,t._)("div",B,[G,(0,t.wy)((0,t._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=l=>sl.value.from=l),class:"form-control",placeholder:"Name of department"},null,512),[[o.nr,sl.value.from]]),al.value?.from?((0,t.wg)(),(0,t.iD)("p",R,(0,s.zw)(al.value?.from[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Y,[(0,t._)("div",J,[$,(0,t.wy)((0,t._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=l=>sl.value.to=l),class:"form-control",placeholder:"Name of department"},null,512),[[o.nr,sl.value.to]]),al.value?.to?((0,t.wg)(),(0,t.iD)("p",F,(0,s.zw)(al.value?.to[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Q,[(0,t._)("div",X,[ll,(0,t._)("div",null,[(0,t.Wm)((0,n.SU)(u.J),{modelValue:sl.value.teams,"onUpdate:modelValue":e[5]||(e[5]=l=>sl.value.teams=l),options:bl.value,multiple:!0,"close-on-select":!0,placeholder:"Pick Staff",label:"text","track-by":"id"},null,8,["modelValue","options"])]),al.value?.teams?((0,t.wg)(),(0,t.iD)("p",el,(0,s.zw)(al.value?.teams[0]),1)):(0,t.kq)("",!0)])])])])])),_:1},8,["isOpen"])]))}};const tl=al;var sl=tl}}]);
//# sourceMappingURL=2600.f157a96a.js.map