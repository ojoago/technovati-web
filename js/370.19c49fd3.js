"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[370],{370:function(t,e,l){l.r(e),l.d(e,{default:function(){return k}});l(560);var a=l(3396),u=l(7139),n=l(2191),s=l(4870),i=l(2483);const r={class:"container mt-2"},o={class:"card"},d=(0,a._)("div",{class:"card-header"},"Raw Material Request Details",-1),c={class:"card-body"},_={class:"table-responsive"},v={class:"table-hover table-stripped table-bordered table"},p={colspan:"2"},h=(0,a._)("th",null,"Item Count ",-1),b=(0,a._)("th",null,"Receiver ",-1),m=(0,a._)("th",null,"Date ",-1),w={class:"table-hover table-stripped table-bordered table"},y=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"SN"),(0,a._)("th",null,"Item Name"),(0,a._)("th",null,"Model"),(0,a._)("th",null,"Quantity Requested"),(0,a._)("th",null,"Quantity Supplied"),(0,a._)("th",null,"Quantity Returned")])],-1);var q={__name:"RawMaterialRequestDetails",setup(t){const e=(0,i.tv)(),l=(0,s.iH)(null);l.value=n.Z?.state?.user?.data?.pid;const q=(0,s.iH)({}),g=()=>{n.Z.dispatch("putMethod",{url:"/confirm-raw-material-received/"+q.value?.pid,prompt:"by clicking ok you accept that quantity indicated on the app tallies with quantity received phisycally"}).then((t=>{201==t?.status&&R(q.value?.pid)})).catch((t=>{console.log(t)}))},k=()=>{n.Z.dispatch("putMethod",{url:"/close-raw-material-request/"+q.value?.pid,prompt:"Mark Status Completed ?"}).then((t=>{201==t?.status&&R(q.value?.pid)})).catch((t=>{console.log(t)}))};function R(t){n.Z.dispatch("getMethod",{url:"/load-raw-material-receipt/"+t}).then((t=>{console.log(t),200==t?.status&&(q.value=t?.data)})).catch((t=>{console.log(t)}))}async function z(){await e.isReady()}return(0,a.bv)((()=>{q.value=localStorage.getItem("TVATI_RAW_MAT_RQ_DETAIL")?JSON.parse(localStorage.getItem("TVATI_RAW_MAT_RQ_DETAIL")):"null",console.log(q.value),"null"==q.value?e.push({path:"my-raw-material-request"}):void 0==q.value.item&&R(q.value.request_pid),z()})),(t,e)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",r,[(0,a._)("div",o,[d,(0,a._)("div",c,[(0,a._)("div",_,[(0,a._)("table",v,[(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",p,(0,u.zw)(q.value?.note),1)]),(0,a._)("tr",null,[h,(0,a._)("td",null,(0,u.zw)(q.value?.item_count),1)]),(0,a._)("tr",null,[b,(0,a._)("td",null,(0,u.zw)(q.value?.receiver?.username??q.value?.user?.username),1)]),(0,a._)("tr",null,[m,(0,a._)("td",null,[(0,a.Uk)((0,u.zw)(q.value?.request_time)+" ",1),(0,a._)("b",null,"Status: "+(0,u.zw)(q.value?.request_status),1)])])])]),(0,a._)("table",w,[y,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(q.value.item,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,u.zw)(e+1),1),(0,a._)("td",null,(0,u.zw)(t.name),1),(0,a._)("td",null,(0,u.zw)(t.model),1),(0,a._)("td",null,(0,u.zw)(t.quantity_requested),1),(0,a._)("td",null,(0,u.zw)(t.quantity_supplied),1),(0,a._)("td",null,(0,u.zw)(t.quantity_returned),1)])))),128))])])]),q.value?.request_by==l.value&&1==q.value.status?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-primary btn-sm",onClick:g},"Confirm")):(0,a.kq)("",!0),q.value?.request_by!=l.value&&3==q.value.status?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"btn btn-primary btn-sm",onClick:k},"Confirm Returned Items")):(0,a.kq)("",!0)])])])]))}};const g=q;var k=g}}]);
//# sourceMappingURL=370.19c49fd3.js.map