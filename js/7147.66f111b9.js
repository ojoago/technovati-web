"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[7147],{1187:function(l,e,a){a.d(e,{Z:function(){return o}});var n=a(3396);const s=["disabled","innerHTML"];var t={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(e,a)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>e.$emit("next",l.link))},[(0,n._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,s)])]))}};const i=t;var o=i},7147:function(l,e,a){a.r(e),a.d(e,{default:function(){return G}});a(560);var n=a(3396),s=a(7139),t=a(9242),i=a(2191),o=a(4870),r=a(2483),d=a(1187),u=a(6091);const c={class:"container mt-2"},p={class:"card"},m={class:"card-header"},v=(0,n._)("h3",null,"Suppliers",-1),_={class:"card-body"},g={class:"table-responsive"},b={class:"table-hover table-stripped table-bordered table"},w=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"SN"),(0,n._)("th",null,"name"),(0,n._)("th",null,"RC"),(0,n._)("th",null,"email"),(0,n._)("th",null,"Phone Number"),(0,n._)("th",null,"address"),(0,n._)("th",null,[(0,n._)("i",{class:"bi bi-pencil-fill"})])])],-1),h={class:"dropdown"},f=(0,n._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,n._)("i",{class:"bi bi-tools"})],-1),k={class:"dropdown-menu"},y=["onClick"],x=["onClick"],C=["onClick"],D={class:"flex justify-center mt-4"},z={class:"relative justify-center rounded-md shadow pagination"},H={id:"sForm"},N={class:"row"},S={class:"col-md-12"},T={class:"form-group"},V=(0,n._)("label",{class:"form-label"},"Name",-1),q={key:0,class:"text-danger"},M={class:"col-md-6"},U={class:"form-group"},Z=(0,n._)("label",{class:"form-label"},"RC",-1),j={key:0,class:"text-danger"},E={class:"col-md-6"},A={class:"form-group"},L=(0,n._)("label",{class:"form-label"},"Phone Number",-1),P={key:0,class:"text-danger"},I={class:"col-md-12"},R={class:"form-group"},K=(0,n._)("label",{class:"form-label"},"Email",-1),O={key:0,class:"text-danger"},Y={class:"col-md-12"},F={class:"form-group"},J=(0,n._)("label",{class:"form-label"},"Address",-1),W={key:0,class:"text-danger"};var $={__name:"SupplierView",setup(l){const e=(0,r.tv)(),a=(0,o.iH)(!1),$=()=>{a.value=!1,X()},B=(0,o.iH)({}),G=(0,o.iH)({}),Q=(0,o.iH)({name:"",rc:"",email:"",gsm:"",address:""}),X=()=>{Q.value={name:"",rc:"",email:"",gsm:"",address:""}},ll=l=>{Q.value={name:l.name,rc:l.rc,email:l.email,gsm:l.gsm,address:l.address,pid:l.pid},a.value=!0};function el(){B.value=[],i.Z.dispatch("postMethod",{url:"/create-supplier",param:Q.value}).then((l=>{422==l?.status?B.value=l.data:201==l?.status&&($(),al())}))}function al(l="/load-suppliers"){i.Z.dispatch("getMethod",{url:l}).then((l=>{200==l?.status?G.value=l.data:Q.value={}}))}function nl(l){i.Z.dispatch("deleteMethod",{url:"/delete-supplier/"+l}).then((l=>{console.log(l),201==l?.status&&(G.value=l.data,al())}))}function sl(l){localStorage.setItem("TVATI_SUP_DETAIL",JSON.stringify(l,null,2)),e.push({path:"supplier-detail",query:{supplier:l.pid}})}function tl(l){l.url&&!l.active&&al(l.url)}return al(),(l,e)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",c,[(0,n._)("div",p,[(0,n._)("div",m,[v,(0,n._)("button",{class:"btn btn-sm btn-primary",onClick:e[0]||(e[0]=l=>a.value=!0)}," Add New")]),(0,n._)("div",_,[(0,n._)("div",g,[(0,n._)("table",b,[w,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(G.value?.data,((l,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:e},[(0,n._)("td",null,(0,s.zw)(e+1),1),(0,n._)("td",null,(0,s.zw)(l.name),1),(0,n._)("td",null,(0,s.zw)(l.rc),1),(0,n._)("td",null,(0,s.zw)(l.email),1),(0,n._)("td",null,(0,s.zw)(l.gsm),1),(0,n._)("td",null,(0,s.zw)(l.address),1),(0,n._)("td",null,[(0,n._)("div",h,[f,(0,n._)("ul",k,[(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item pointer bg-info",onClick:e=>sl(l)},"Details",8,y)]),(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item pointer bg-warning",onClick:e=>ll(l)},"Edit",8,x)]),(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item pointer bg-danger",onClick:e=>nl(l?.pid)},"Delete",8,C)])])])])])))),128))])]),(0,n._)("div",D,[(0,n._)("nav",z,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(G.value.links,((l,e)=>((0,n.wg)(),(0,n.j4)(d.Z,{link:l,key:e,onNext:e=>tl(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,n.Wm)(u.Z,{"modal-class":"modal-md","is-open":a.value,onSubmit:el,title:"Create Supplier",onModalClose:$},{content:(0,n.w5)((()=>[(0,n._)("form",H,[(0,n._)("div",N,[(0,n._)("div",S,[(0,n._)("div",T,[V,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>Q.value.name=l),class:"form-control",placeholder:"e.g Ray Engineering"},null,512),[[t.nr,Q.value.name]]),B.value?.name?((0,n.wg)(),(0,n.iD)("p",q,(0,s.zw)(B.value?.name[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",M,[(0,n._)("div",U,[Z,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>Q.value.rc=l),class:"form-control",placeholder:"e.g 20121212"},null,512),[[t.nr,Q.value.rc]]),B.value?.rc?((0,n.wg)(),(0,n.iD)("p",j,(0,s.zw)(B.value?.rc[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",E,[(0,n._)("div",A,[L,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>Q.value.gsm=l),class:"form-control",placeholder:"Enter phone number"},null,512),[[t.nr,Q.value.gsm]]),B.value?.gsm?((0,n.wg)(),(0,n.iD)("p",P,(0,s.zw)(B.value?.gsm[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",I,[(0,n._)("div",R,[K,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>Q.value.email=l),class:"form-control",placeholder:"e.g ojoago@optimalsoft.com"},null,512),[[t.nr,Q.value.email]]),B.value?.email?((0,n.wg)(),(0,n.iD)("p",O,(0,s.zw)(B.value?.email[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",Y,[(0,n._)("div",F,[J,(0,n.wy)((0,n._)("textarea",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>Q.value.address=l),class:"form-control",placeholder:"e.g plot 99 lagos avenue"},null,512),[[t.nr,Q.value.address]]),B.value?.address?((0,n.wg)(),(0,n.iD)("p",W,(0,s.zw)(B.value?.address[0]),1)):(0,n.kq)("",!0)])])])])])),_:1},8,["is-open"])]))}};const B=$;var G=B}}]);
//# sourceMappingURL=7147.66f111b9.js.map