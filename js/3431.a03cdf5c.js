"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[3431],{3431:function(l,e,a){a.r(e),a.d(e,{default:function(){return T}});var t=a(3396),n=a(7139),s=a(4870),i=a(6204),u=a(2191),o=a(6091);const d={class:"container mt-2"},r={class:"card"},c={class:"card-body"},_=(0,t._)("div",{class:"card-header"},"Company Drivers",-1),v=(0,t._)("ul",{class:"nav nav-tabs d-flex",id:"myTabjustified",role:"tablist"},[(0,t._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,t._)("button",{class:"nav-link w-100 active",id:"worker-tab","data-bs-toggle":"tab","data-bs-target":"#worker",type:"button",role:"tab","aria-controls":"worker","aria-selected":"true"},"Drivers")]),(0,t._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,t._)("button",{class:"nav-link w-100",id:"casual-tab","data-bs-toggle":"tab","data-bs-target":"#casual",type:"button",role:"tab","aria-controls":"casual","aria-selected":"false"},"Vehicle Assigned History")])],-1),b={class:"tab-content pt-2",id:"myTabjustifiedContent"},h={class:"tab-pane fade show active",id:"worker",role:"tabpanel","aria-labelledby":"worker-tab"},p={class:"table-responsive"},m={class:"table-hover table-stripped table-bordered table"},w=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"Username"),(0,t._)("th",null,"Phone Number"),(0,t._)("th",null,"Email"),(0,t._)("th",null,"Vehicle"),(0,t._)("th",null,"Color"),(0,t._)("th",null,"plate number"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-gear-fill"})])])],-1),g=["onClick"],f={class:"flex justify-center mt-4"},k={class:"relative justify-center rounded-md shadow pagination"},y={class:"tab-pane fade",id:"casual",role:"tabpanel","aria-labelledby":"casual-tab"},z={class:"table-responsive"},D={class:"table-hover table-stripped table-bordered table"},x=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"Username"),(0,t._)("th",null,"Phone Number"),(0,t._)("th",null,"Email"),(0,t._)("th",null,"Vehicle"),(0,t._)("th",null,"Color"),(0,t._)("th",null,"plate number"),(0,t._)("th",null,"Date")])],-1),H={class:"flex justify-center mt-4"},V={class:"relative justify-center rounded-md shadow pagination"},C={id:"teamForm"},N={class:"row"},j={class:"col-md-12"},Z=(0,t._)("label",{class:"form-label"},"Staff",-1),S={key:0,class:"text-danger"},U={class:"col-md-12"},A=(0,t._)("label",{class:"form-label"},"Vehicle",-1),K={key:0,class:"text-danger"};var M={__name:"DriverView",setup(l){const e=()=>{a.value=!1,T()},a=(0,s.iH)(!1),M=()=>{a.value=!0,T()},P=(0,s.iH)({user_pid:"",vehicle_pid:""}),T=()=>{P.value={user_pid:"",vehicle_pid:""}},Y=l=>{P.value.user_pid=l,a.value=!0},W=(0,s.iH)({});function q(){W.value=[],u.Z.dispatch("postMethod",{url:"/add-driver",param:P.value}).then((l=>{422==l?.status?W.value=l.data:201==l.status&&(T(),O())})).catch((l=>{console.log(l)}))}const E=(0,s.iH)({});function O(){u.Z.dispatch("getMethod",{url:"/load-drivers"}).then((l=>{200==l?.status&&(E.value=l.data)})).catch((l=>{console.log(l)}))}O(),O();const F=(0,s.iH)({});function B(){u.Z.dispatch("getMethod",{url:"/load-driver-histories"}).then((l=>{200==l?.status&&(alert(),F.value=l.data)})).catch((l=>{console.log(l)}))}B();const G=(0,s.iH)({});function I(){u.Z.dispatch("loadDropdown","users").then((({data:l})=>{G.value=l})).catch((l=>{console.log(l)}))}I();const J=(0,s.iH)({});function L(){u.Z.dispatch("loadDropdown","vehicle").then((({data:l})=>{J.value=l})).catch((l=>{console.log(l)}))}return L(),(l,u)=>{const T=(0,t.up)("pagination-links");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",d,[(0,t._)("div",r,[(0,t._)("div",c,[_,v,(0,t._)("div",b,[(0,t._)("div",h,[(0,t._)("button",{class:"btn btn-primary btn-sm m-2",onClick:M},"Add New"),(0,t._)("div",p,[(0,t._)("table",m,[w,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(E.value.data,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,n.zw)(e+1),1),(0,t._)("td",null,(0,n.zw)(l?.user?.username),1),(0,t._)("td",null,(0,n.zw)(l?.user?.gsm),1),(0,t._)("td",null,(0,n.zw)(l?.user?.email),1),(0,t._)("td",null,(0,n.zw)(l?.vehicle?.name),1),(0,t._)("td",null,(0,n.zw)(l?.vehicle?.color),1),(0,t._)("td",null,(0,n.zw)(l?.vehicle?.plate_number),1),(0,t._)("td",null,[(0,t._)("button",{class:"btn btn-sm btn-primary",onClick:e=>Y(l.user_pid)},"Asign Vehicle",8,g)])])))),128))])]),(0,t._)("div",f,[(0,t._)("nav",k,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(E.value.links,((e,a)=>((0,t.wg)(),(0,t.j4)(T,{link:e,key:a,onNext:a=>l.nextPage(e)},null,8,["link","onNext"])))),128))])])])]),(0,t._)("div",y,[(0,t._)("div",z,[(0,t._)("table",D,[x,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(F.value.data,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,n.zw)(e+1),1),(0,t._)("td",null,(0,n.zw)(l?.user?.username),1),(0,t._)("td",null,(0,n.zw)(l?.user?.gsm),1),(0,t._)("td",null,(0,n.zw)(l?.user?.email),1),(0,t._)("td",null,(0,n.zw)(l?.vehicle?.name),1),(0,t._)("td",null,(0,n.zw)(l?.vehicle?.color),1),(0,t._)("td",null,(0,n.zw)(l?.vehicle?.plate_number),1),(0,t._)("td",null,(0,n.zw)(l?.created_at),1)])))),128))])]),(0,t._)("div",H,[(0,t._)("nav",V,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(F.value.links,((e,a)=>((0,t.wg)(),(0,t.j4)(T,{link:e,key:a,onNext:a=>l.nextHPage(e)},null,8,["link","onNext"])))),128))])])])])])])])]),(0,t.Wm)(o.Z,{isOpen:a.value,"modal-class":"modal-xs",title:"Add Driver",onSubmit:q,onModalClose:e},{content:(0,t.w5)((()=>[(0,t._)("form",C,[(0,t._)("div",N,[(0,t._)("div",j,[Z,(0,t.Wm)((0,s.SU)(i.Z),{modelValue:P.value.user_pid,"onUpdate:modelValue":u[0]||(u[0]=l=>P.value.user_pid=l),options:G.value},null,8,["modelValue","options"]),W.value?.user_pid?((0,t.wg)(),(0,t.iD)("p",S,(0,n.zw)(W.value?.user_pid[0]),1)):(0,t.kq)("",!0)]),(0,t._)("div",U,[A,(0,t.Wm)((0,s.SU)(i.Z),{modelValue:P.value.vehicle_pid,"onUpdate:modelValue":u[1]||(u[1]=l=>P.value.vehicle_pid=l),options:J.value},null,8,["modelValue","options"]),W.value?.vehicle_pid?((0,t.wg)(),(0,t.iD)("p",K,(0,n.zw)(W.value?.vehicle_pid[0]),1)):(0,t.kq)("",!0)])])])])),_:1},8,["isOpen"])])}}};const P=M;var T=P}}]);
//# sourceMappingURL=3431.a03cdf5c.js.map