"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[9879],{1796:function(e,t,l){l.d(t,{Z:function(){return b}});var a=l(3396),n=l(7139);const o=e=>((0,a.dD)("data-v-30586156"),e=e(),(0,a.Cn)(),e),i={class:"card com-card"},c={class:"card-header p-1"},s={class:"text-ellipsis"},u={class:"card-body p-2"},r={key:1,class:"icon bi bi-list"},d={class:"h3 count"},v={class:"card-footer p-1"},m={class:"float-end",for:""},h=o((()=>(0,a._)("i",{class:"bi bi-chevron-double-right small"},null,-1)));var g={__name:"CardComponent",props:{title:{type:String,default:"item"},count:{type:Number,default:0},link:{type:String,default:""},icon:{type:String,default:""}},setup(e){return(t,l)=>{const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",i,[(0,a._)("div",c,[(0,a._)("span",s,(0,n.zw)(e.title),1)]),(0,a._)("div",u,[e.icon?((0,a.wg)(),(0,a.iD)("i",{key:0,class:(0,n.C_)(["icon",e.icon])},null,2)):((0,a.wg)(),(0,a.iD)("i",r)),(0,a._)("strong",d,(0,n.zw)(e.count),1)]),(0,a._)("div",v,[(0,a._)("label",m,[(0,a.Wm)(o,{to:e.link,class:"nav-link"},{default:(0,a.w5)((()=>[h,(0,a.Uk)(" Details ")])),_:1},8,["to"])])])])])}}},_=l(89);const p=(0,_.Z)(g,[["__scopeId","data-v-30586156"]]);var b=p},6757:function(e,t,l){l.d(t,{Z:function(){return y}});var a=l(3396),n=l(7139),o=l(2191),i=l(6091),c=l(4870);const s=e=>((0,a.dD)("data-v-4b9f5ed4"),e=e(),(0,a.Cn)(),e),u={class:"attendance-card shadow"},r={class:"card-title h6 text-center"},d={class:"col-outer"},v={class:"col-inner"},m=s((()=>(0,a._)("hr",null,null,-1))),h={class:"col-inner"},g=s((()=>(0,a._)("hr",null,null,-1))),_={key:0,class:"container text-center"},p=["src"],b=s((()=>(0,a._)("div",null,null,-1)));var k={__name:"AttendanceComponent",setup(e){const t=(0,c.iH)(!1),l=(0,c.iH)(null);l.value=(new Date).toDateString();const s=(0,c.iH)();function k(){s.value=(new Date).toLocaleTimeString()}setInterval((()=>k()),1e3);const w=(0,c.iH)("--:--"),f=(0,c.iH)("--:--"),y=(0,c.iH)(null),C=()=>{t.value=!1,T()},D=()=>{t.value=!0,M()},H=(0,c.iH)(null),Z=(0,c.iH)(null),S=(0,c.iH)(null),W=(0,c.iH)(!1),U=(0,c.iH)(!0);let O=null;const x=(0,c.iH)({}),M=async()=>{try{S.value=null,W.value=!0,U.value=!0,O=await navigator.mediaDevices.getUserMedia({video:!0}),H.value.srcObject=O}catch(e){console.error("Error accessing webcam:",e)}},q=async()=>{z(),L();const e=Z.value.getContext("2d");e.drawImage(H.value,0,0,Z.value.width,Z.value.height),T(),S.value=Z.value.toDataURL("image/png"),x.value.image=S,B()},z=()=>{const e=navigator.platform;let t;t=e.toLowerCase().includes("win")?"Windows":e.toLowerCase().includes("mac")?"macOS":e.toLowerCase().includes("linux")?"Linux":"Unknown OS",x.value.platform=t},L=()=>{const e=navigator.userAgent;let t;t=e.includes("Chrome")?"Google Chrome":e.includes("Firefox")?"Mozilla Firefox":e.includes("Safari")?"Apple Safari":e.includes("Edge")?"Microsoft Edge":e.includes("Opera")||e.includes("OPR/")?"Opera":e.includes("Brave")?"Brave":"Unknown Browser",x.value.browser=t},T=()=>{O&&O.getTracks().forEach((e=>e.stop())),U.value=!1},A=(0,c.iH)(null),E=(0,c.iH)(null);(0,a.bv)((()=>{I()}));const I=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{A.value={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy},x.value.coordinates=A,console.log(e)}),(e=>{E.value=`Error getting location: ${e.message}`,x.value.coordinates=null}),{enableHighAccuracy:!0}):(x.value.coordinates=null,E.value="Geolocation is not supported by your browser.")};function B(){o.Z.dispatch("postMethod",{url:"/clock-in",param:x.value}).then((e=>{201==e?.status&&(y.value=!0,w.value=e?.data?.time_in,t.value=!1)}))}const F=()=>{o.Z.dispatch("getMethod",{url:"/last-check-in"}).then((e=>{200==e?.status&&N(e?.data)}))};(0,a.bv)((()=>{F()}));const R=()=>{o.Z.dispatch("putMethod",{url:"/clock-out",prompt:"are you sure you want to clock out?"}).then((e=>{201==e?.status&&N(e?.data)}))},N=e=>{null==e?y.value=!1:(w.value=e?.time_in,y.value=!0,null!=e.time_out&&(f.value=e?.time_out,y.value=null))};return(e,o)=>{const c=(0,a.up)("center");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",u,[(0,a._)("h5",r,[(0,a.Uk)((0,n.zw)(l.value)+" ",1),(0,a._)("span",null,"| "+(0,n.zw)(s.value),1)]),(0,a._)("div",d,[(0,a._)("div",v,[(0,a.Uk)(" Time in "),m,(0,a.Uk)(" "+(0,n.zw)(w.value),1)]),(0,a._)("div",h,[(0,a.Uk)(" time out "),g,(0,a.Uk)(" "+(0,n.zw)(f.value),1)])]),0==y.value?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:D,class:"btn btn-sm btn-primary actionBtn"},"Clock In")):(0,a.kq)("",!0),1==y.value?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:R,class:"btn btn-sm btn-danger actionBtn"},"Clock Out")):(0,a.kq)("",!0)]),(0,a.Wm)(i.Z,{isOpen:t.value,"modal-class":"modal-sm",title:"Take Attendance",onModalClose:C},{content:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[U.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:M,class:"btn btn-sm btn-success"},"Retake"))])),_:1}),W.value?((0,a.wg)(),(0,a.iD)("div",_,[U.value?((0,a.wg)(),(0,a.iD)("video",{key:0,ref_key:"video",ref:H,width:"250",height:"250",autoplay:""},null,512)):(0,a.kq)("",!0),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[U.value?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:q,class:"text-center btn btn-sm btn-success"},"CAPTURE")):(0,a.kq)("",!0)])),_:1}),(0,a._)("canvas",{ref_key:"canvas",ref:Z,width:"250",height:"250",style:{display:"none"}},null,512),S.value?((0,a.wg)(),(0,a.iD)("img",{key:1,src:S.value,alt:"Captured Image"},null,8,p)):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])),footer:(0,a.w5)((()=>[b])),_:1},8,["isOpen"])])}}},w=l(89);const f=(0,w.Z)(k,[["__scopeId","data-v-4b9f5ed4"]]);var y=f},9879:function(e,t,l){l.r(t),l.d(t,{default:function(){return D}});var a=l(3396),n=l(6757),o=l(2191),i=l(4870),c=l(1796);const s={class:"container mt-2"},u={class:"card"},r={class:"card-body"},d={class:"row"},v={class:"col-md-4"},m={class:"col-md-8"},h={class:"row"},g={class:"col-md-6"},_={class:"col-md-6"},p={class:"row"},b={class:"col-md-3 mb-1"},k={class:"col-md-3 mb-1"},w={class:"col-md-3 mb-1"},f={class:"col-md-3 mb-1"};var y={__name:"LogisticsDashboard",setup(e){const t=(0,i.iH)({}),l=()=>{o.Z.dispatch("getMethod",{url:"/load-logistics-count"}).then((e=>{200==e?.status&&(t.value=e.data)}))};return(0,a.bv)((()=>{l()})),(e,l)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",s,[(0,a._)("div",u,[(0,a._)("div",r,[(0,a._)("div",d,[(0,a._)("div",v,[(0,a.Wm)(n.Z)]),(0,a._)("div",m,[(0,a._)("div",h,[(0,a._)("div",g,[(0,a.Wm)(c.Z,{title:"Number of Vehicle",link:"vehicle",count:t.value.vehicle,icon:"bi-hash"},null,8,["count"])]),(0,a._)("div",_,[(0,a.Wm)(c.Z,{title:"Drivers",count:t.value.vehicle,icon:"bi-hash"},null,8,["count"])])])])]),(0,a._)("div",p,[(0,a._)("div",b,[(0,a.Wm)(c.Z,{title:"Number of Vehicles",count:t.value.vehicle,icon:"bi-hash"},null,8,["count"])]),(0,a._)("div",k,[(0,a.Wm)(c.Z,{title:"Spent on Fuel, this month",count:t.value.fuel_month,icon:"bi-cash"},null,8,["count"])]),(0,a._)("div",w,[(0,a.Wm)(c.Z,{title:"Spent on Fuel, this year",count:t.value.fuel_year,icon:"bi-cash"},null,8,["count"])]),(0,a._)("div",f,[(0,a.Wm)(c.Z,{title:"Spent on Oil, this month",count:t.value.oil_month,icon:"bi-cash"},null,8,["count"])])])])])])]))}};const C=y;var D=C}}]);
//# sourceMappingURL=9879.d7a91fcd.js.map