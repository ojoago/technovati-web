"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[7783],{7783:function(e,l,t){t.r(l),t.d(l,{default:function(){return le}});t(560);var a=t(3396),s=t(7139),n=t(9242),o=t(4870),i=t(2191),d=t(6204);const c=(0,a._)("option",{value:"",selected:""},"Make Selection",-1),u=["value"],r=["value"];var m={__name:"StoreDropdown",setup(e){const l=(0,o.iH)({});function t(){i.Z.dispatch("loadDropdown","stores").then((({data:e})=>{l.value=e})).catch((e=>{console.log(e)}))}return t(),(e,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("select",{class:"form-control",onInput:t[0]||(t[0]=l=>e.$emit("update:modelValue",l.target.value))},[c,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.value,(e=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e.id},[1==l.value.length?((0,a.wg)(),(0,a.iD)("option",{key:0,selected:"",value:e.id},(0,s.zw)(e.text),9,u)):((0,a.wg)(),(0,a.iD)("option",{key:1,value:e.id},(0,s.zw)(e.text),9,r))],64)))),128))],32)]))}};const v=m;var p=v;const _=e=>((0,a.dD)("data-v-2edeef9f"),e=e(),(0,a.Cn)(),e),b={class:"container mt-2"},w={class:"row"},h={class:"col-md-7"},g={class:"card"},f=_((()=>(0,a._)("div",{class:"card-header"},"Receiving Items to Inventory",-1))),y={class:"card-body"},k=_((()=>(0,a._)("input",{type:"text",class:"form-control form-control-sm",placeholder:"search Item"},null,-1))),D={class:"table-responsive"},q={class:"table-hover table-stripped table-bordered table"},V=_((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{width:"5%"},"SN"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Quantity"),(0,a._)("th",{align:"center"},[(0,a._)("i",{class:"bi bi-gear-fill"})])])],-1))),x=["onClick"],z=_((()=>(0,a._)("i",{class:"bi bi-plus"},null,-1))),C=[z],H={class:"col-md-5"},I={class:"card"},U={class:"card-body"},Z={class:"border rounded-3 p-2 m-1",id:"requestBody"},S=_((()=>(0,a._)("legend",{class:"float-none w-auto px-2 h5"},"Request Items",-1))),R={key:0,id:"itemForm"},Y={class:"border rounded-3 p-2 m-1"},K={class:"form-label"},M={class:"input-group"},B=["onUpdate:modelValue"],N=["onClick"],T=_((()=>(0,a._)("i",{class:"bi bi-file-minus-fill"},null,-1))),W=[T],A={class:"row"},F={class:"col-md-12"},Q=_((()=>(0,a._)("label",{class:"form-label"},"Comment",-1))),$={key:0,class:"text-danger"},j={class:"col-md-12"},E=_((()=>(0,a._)("label",{class:"form-label"},"Receiving Store",-1))),G={key:0,class:"text-danger"},J={class:"col-md-12"},L=_((()=>(0,a._)("label",{class:"form-label"},"Receiver",-1))),O={key:0,class:"text-danger"};var P={__name:"CrInView",setup(e){const l=(0,o.iH)({}),t=(0,o.iH)({}),c=(0,o.iH)({reciver:"",comment:"",store_pid:"",items:[]}),u=()=>{c.value={reciver:"",comment:"",store_pid:"",items:[]}},r=e=>{var l=c.value.items.findIndex((l=>l.pid==e.pid));-1===l?c.value.items.push({pid:e.pid,quantity:1,name:e.name}):c.value.items[l].quantity++},m=e=>{c.value.items.splice(e,1)};function v(){l.value=[],i.Z.dispatch("postMethod",{url:"/item-cr-in",param:c.value}).then((e=>{422==e?.status?l.value=e.data:201==e?.status&&(u(),_())}))}function _(){i.Z.dispatch("getMethod",{url:"/load-cr-in-items"}).then((e=>{i.Z.commit("setSpinner",!1),200==e?.status&&(t.value=e.data)}))}_();const z=(0,o.iH)({});function T(){i.Z.dispatch("loadDropdown","users").then((({data:e})=>{z.value=e})).catch((e=>{console.log(e)}))}return T(),(e,i)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",b,[(0,a._)("div",w,[(0,a._)("div",h,[(0,a._)("div",g,[f,(0,a._)("div",y,[k,(0,a._)("div",D,[(0,a._)("table",q,[V,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value?.data,((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:l},[(0,a._)("td",null,(0,s.zw)(l+1),1),(0,a._)("td",null,(0,s.zw)(e.name),1),(0,a._)("td",null,(0,s.zw)(e.item?.quantity)+" "+(0,s.zw)(e.unit),1),(0,a._)("td",null,[(0,a._)("button",{onClick:l=>r(e),type:"button",class:"btn btn-primary btn-sm"},C,8,x)])])))),128))])])])])])]),(0,a._)("div",H,[(0,a._)("div",I,[(0,a._)("div",U,[(0,a._)("fieldset",Z,[S,c.value.items.length?((0,a.wg)(),(0,a.iD)("form",R,[(0,a._)("fieldset",Y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.value.items,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-12",key:l},[(0,a._)("label",K,(0,s.zw)(e.name),1),(0,a._)("div",M,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":l=>e.quantity=l,class:"form-control",placeholder:"e.g ABU Zaria"},null,8,B),[[n.nr,e.quantity]]),(0,a._)("button",{type:"button",class:"btn btn-danger btn-sm",onClick:e=>m(l)},W,8,N)])])))),128))]),(0,a._)("div",A,[(0,a._)("div",F,[Q,(0,a.wy)((0,a._)("textarea",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>c.value.comment=e),class:"form-control form-control-sm",placeholder:"e.g UIU"},null,512),[[n.nr,c.value.comment]]),l.value?.comment?((0,a.wg)(),(0,a.iD)("p",$,(0,s.zw)(l.value?.comment[0]),1)):(0,a.kq)("",!0)]),(0,a._)("div",j,[E,(0,a.Wm)(p,{modelValue:c.value.store_pid,"onUpdate:modelValue":i[1]||(i[1]=e=>c.value.store_pid=e)},null,8,["modelValue"]),l.value?.store_pid?((0,a.wg)(),(0,a.iD)("p",G,(0,s.zw)(l.value?.store_pid[0]),1)):(0,a.kq)("",!0)]),(0,a._)("div",J,[L,(0,a.Wm)((0,o.SU)(d.Z),{modelValue:c.value.reciver,"onUpdate:modelValue":i[2]||(i[2]=e=>c.value.reciver=e),options:z.value,settings:{width:"100%"}},null,8,["modelValue","options"]),l.value?.reciver?((0,a.wg)(),(0,a.iD)("p",O,(0,s.zw)(l.value?.reciver[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",{class:"float-end"},[(0,a._)("button",{type:"button",class:"btn btn-success btn-sm mt-2 mb-2",onClick:v},"Submit")])])):(0,a.kq)("",!0)])])])])])])]))}},X=t(89);const ee=(0,X.Z)(P,[["__scopeId","data-v-2edeef9f"]]);var le=ee}}]);
//# sourceMappingURL=7783.1ae1401c.js.map