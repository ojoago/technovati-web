"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[4174],{5658:function(t,e,a){function l(){function t(t,a="axios"){const l=[];if("axios"==a&&t)for(let n in t){if(-1!==n.indexOf(".")){let a=e(n);l[a]=t[n][0]}else l[n]=t[n][0];l[n]=t[n][0]}return l}function e(t){const e=t.split(".").filter((t=>t)),a=t.split(".").filter((t=>!isNaN(t)));return e[2]+a.map(Number)}return{transformValidationErrors:t}}a.d(e,{Z:function(){return l}})},4174:function(t,e,a){a.r(e),a.d(e,{default:function(){return Qt}});var l=a(3396),n=(a(560),a(7139)),i=a(9242),s=a(4870),o=a(2191),u=a(6204),r=a(5658);const d={class:"container mt-2"},c={class:"row"},m={class:"col-md-7"},v={class:"border rounded-3 p-2 m-1"},p=(0,l._)("input",{type:"text",class:"form-control form-control-sm",placeholder:"search Item"},null,-1),b={class:"table-responsive"},_={class:"table-hover table-stripped table-bordered table"},y=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"SN"),(0,l._)("th",null,"Name"),(0,l._)("th",null,"Unit"),(0,l._)("th",null,"Description"),(0,l._)("th",{align:"center"},[(0,l._)("i",{class:"bi bi-gear-fill"})])])],-1),w=["onClick"],f=(0,l._)("i",{class:"bi bi-plus"},null,-1),g=[f],h={class:"col-md-5"},q={class:"card"},k={class:"card-body"},D={class:"border rounded-3 p-2 m-1"},x=(0,l._)("legend",{class:"float-none w-auto px-2 h5"},"Request Items",-1),z={key:0,id:"itemForm"},V={class:"border rounded-3 p-2 m-1"},C={class:"form-label"},I={class:"input-group"},H=["onUpdate:modelValue"],U=["onClick"],Z=(0,l._)("i",{class:"bi bi-patch-minus"},null,-1),R=[Z],N={key:0,class:"text-danger"},S={class:"row"},$={class:"col-md-12"},M=(0,l._)("label",{class:"form-label"},"Note",-1),K={key:0,class:"text-danger"},Y={class:"col-md-12"},Q=(0,l._)("label",{class:"form-label"},"Receiver",-1),T={key:0,class:"text-danger"};var W={__name:"RawMaterialRequestView",setup(t){const{transformValidationErrors:e}=(0,r.Z)(),a=(0,s.iH)({}),f=(0,s.iH)({}),Z=(0,s.iH)({note:"",reciver:"",comment:"",items:[]}),W=t=>{var e=Z.value.items.findIndex((e=>e.pid==t?.quantity?.pid));-1===e?Z.value.items.push({pid:t?.quantity?.pid,quantity:1,name:t.name,qnt:t?.quantity?.quantity}):Z.value.items[e].quantity<t?.quantity?.quantity?Z.value.items[e].quantity++:o.Z.commit("notify",{message:`Quantity remaining is : ${Z.value.items[e].qnt}`,type:"warning"})},E=t=>{Z.value.items.splice(t,1)};function j(){a.value=[],o.Z.dispatch("postMethod",{url:"/request-materials",param:Z.value}).then((t=>{422==t?.status?(console.log(t.data),a.value=e(t.data)):201==t?.status&&(O(),F())}))}function F(){o.Z.dispatch("getMethod",{url:"/load-materials"}).then((t=>{200==t?.status&&(f.value=t.data)}))}F();const O=()=>{Z.value={note:"",reciver:"",comment:"",items:[]}},A=(0,s.iH)({});function B(){o.Z.dispatch("loadDropdown","users").then((({data:t})=>{A.value=t}))}return B(),(t,e)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",d,[(0,l._)("div",c,[(0,l._)("div",m,[(0,l._)("fieldset",v,[p,(0,l._)("div",b,[(0,l._)("table",_,[y,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.value?.data,((t,e)=>((0,l.wg)(),(0,l.iD)("tr",{key:e},[(0,l._)("td",null,(0,n.zw)(e+1),1),(0,l._)("td",null,(0,n.zw)(t.name),1),(0,l._)("td",null,(0,n.zw)(t.model),1),(0,l._)("td",null,(0,n.zw)(t?.quantity?.quantity)+" "+(0,n.zw)(t?.unit?.name),1),(0,l._)("td",null,[t?.quantity?.quantity>0?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:e=>W(t),type:"button",class:"btn btn-primary btn-sm"},g,8,w)):(0,l.kq)("",!0)])])))),128))])])])])]),(0,l._)("div",h,[(0,l._)("div",q,[(0,l._)("div",k,[(0,l._)("fieldset",D,[x,Z.value.items.length?((0,l.wg)(),(0,l.iD)("form",z,[(0,l._)("fieldset",V,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Z.value.items,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"col-md-12",key:e},[(0,l._)("label",C,(0,n.zw)(t.name),1),(0,l._)("div",I,[(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,class:"form-control",placeholder:"e.g 30"},null,8,H),[[i.nr,t.quantity]]),(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm",onClick:t=>E(e)},R,8,U)]),a.value[`quantity${e}`]?((0,l.wg)(),(0,l.iD)("p",N,(0,n.zw)(a.value[`quantity${e}`]),1)):(0,l.kq)("",!0)])))),128))]),(0,l._)("div",S,[(0,l._)("div",$,[M,(0,l.wy)((0,l._)("textarea",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>Z.value.note=t),class:"form-control form-control-sm",placeholder:"e.g UIU"},null,512),[[i.nr,Z.value.note]]),a.value?.note?((0,l.wg)(),(0,l.iD)("p",K,(0,n.zw)(a.value?.note),1)):(0,l.kq)("",!0)]),(0,l._)("div",Y,[Q,(0,l.Wm)((0,s.SU)(u.Z),{modelValue:Z.value.reciver,"onUpdate:modelValue":e[1]||(e[1]=t=>Z.value.reciver=t),options:A.value,settings:{width:"100%"}},null,8,["modelValue","options"]),a.value?.reciver?((0,l.wg)(),(0,l.iD)("p",T,(0,n.zw)(a.value?.reciver),1)):(0,l.kq)("",!0)])]),(0,l._)("div",{class:"float-end"},[(0,l._)("button",{type:"button",class:"btn btn-success btn-sm mt-2",onClick:j},"Submit")])])):(0,l.kq)("",!0)])])])])])])]))}};const E=W;var j=E;const F={class:"container mt-2"},O={class:"row"},A={class:"col-md-7"},B={class:"border rounded-3 p-2 m-1"},G=(0,l._)("legend",{class:"float-none w-auto px-2 h5"},"Items",-1),J=(0,l._)("option",{disabled:"",selected:""},"Select Store",-1),L=["value"],P=(0,l._)("input",{type:"text",class:"mt-1 form-control form-control-sm",placeholder:"search Item"},null,-1),X={class:"table-responsive"},tt={class:"table-hover table-stripped table-bordered table"},et=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"5%"},"SN"),(0,l._)("th",null,"Name"),(0,l._)("th",null,"Quantity"),(0,l._)("th",{align:"center"},[(0,l._)("i",{class:"bi bi-gear-fill"})])])],-1),at=["onClick"],lt=(0,l._)("i",{class:"bi bi-plus"},null,-1),nt=[lt],it={class:"col-md-5"},st={class:"card"},ot={class:"card-body"},ut={class:"border rounded-3 p-2 m-1"},rt=(0,l._)("legend",{class:"float-none w-auto px-2 h5"},"Request Items",-1),dt={key:0,id:"itemForm"},ct={class:"border rounded-3 p-2 m-1"},mt={class:"form-label"},vt={class:"input-group"},pt={class:"bg-light p-1"},bt=["onChange","onUpdate:modelValue"],_t=["onClick"],yt=(0,l._)("i",{class:"bi bi-patch-minus"},null,-1),wt=[yt],ft={key:0,class:"text-danger"},gt={class:"row"},ht={class:"col-md-12"},qt=(0,l._)("label",{class:"form-label"},"Comment",-1),kt={key:0,class:"text-danger"},Dt={class:"col-md-12"},xt=(0,l._)("label",{class:"form-label"},"Receiver",-1),zt={key:0,class:"text-danger"};var Vt={__name:"InventoryItemView",setup(t){const{transformValidationErrors:e}=(0,r.Z)(),a=(0,s.iH)({}),d=(0,s.iH)({}),c=(0,s.iH)({}),m=(0,s.iH)({receiver:"",comment:"",store_pid:c,items:[]}),v=()=>{m.value={receiver:"",comment:"",store_pid:c,items:[]}},p=t=>{c.value=t.target.value,f(t.target.value)},b=t=>{var e=m.value.items.findIndex((e=>e.pid==t.pid));-1===e?m.value.items.push({pid:t.pid,quantity:1,qnt:t?.quantity,name:t.name}):m.value.items[e].quantity<t?.quantity?m.value.items[e].quantity++:o.Z.commit("notify",{message:`Quantity remaining is : ${m.value.items[e].quantity}`,type:"warning"})},_=t=>{if(t.quantity>t.qnt){var e=m.value.items.findIndex((e=>e.pid==t.pid));m.value.items[e].quantity=t.qnt,o.Z.commit("notify",{message:`Quantity remaining is : ${t.qnt}`,type:"warning"})}},y=t=>{m.value.items.splice(t,1)};function w(){a.value=[],o.Z.dispatch("postMethod",{url:"/request-items",param:m.value}).then((t=>{422==t?.status?a.value=e(t.data):201==t?.status&&(f(c.value),v())}))}function f(t){o.Z.dispatch("getMethod",{url:"/load-cr-out-items/"+t}).then((t=>{d.value=200==t?.status?t.data:{}}))}m.value.items&&h();const g=(0,s.iH)([]);function h(){o.Z.dispatch("loadDropdown","users").then((({data:t})=>{g.value=t}))}const q=(0,s.iH)([]);function k(){o.Z.dispatch("loadDropdown","stores").then((({data:t})=>{q.value=t}))}return k(),(t,e)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",F,[(0,l._)("div",O,[(0,l._)("div",A,[(0,l._)("fieldset",B,[G,(0,l._)("select",{class:"form-control",onChange:e[0]||(e[0]=t=>p(t))},[J,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(q.value,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t.id,value:t.id},(0,n.zw)(t.text),9,L)))),128))],32),P,(0,l._)("div",X,[(0,l._)("table",tt,[et,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.value?.data,((t,e)=>((0,l.wg)(),(0,l.iD)("tr",{key:e},[(0,l._)("td",null,(0,n.zw)(e+1),1),(0,l._)("td",null,(0,n.zw)(t.name),1),(0,l._)("td",null,(0,n.zw)(t?.quantity)+" "+(0,n.zw)(t.unit),1),(0,l._)("td",null,[t?.quantity>0?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:e=>b(t),type:"button",class:"btn btn-primary btn-sm"},nt,8,at)):(0,l.kq)("",!0)])])))),128))])])])])]),(0,l._)("div",it,[(0,l._)("div",st,[(0,l._)("div",ot,[(0,l._)("fieldset",ut,[rt,m.value.items.length?((0,l.wg)(),(0,l.iD)("form",dt,[(0,l._)("fieldset",ct,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value.items,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"col-md-12",key:e},[(0,l._)("label",mt,(0,n.zw)(t.name),1),(0,l._)("div",vt,[(0,l._)("span",pt,"#"+(0,n.zw)(t.qnt),1),(0,l.wy)((0,l._)("input",{type:"number",step:"0.1",onChange:e=>_(t),"onUpdate:modelValue":e=>t.quantity=e,class:"form-control",placeholder:"e.g 15"},null,40,bt),[[i.nr,t.quantity]]),(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm",onClick:t=>y(e)},wt,8,_t)]),a.value[`quantity${e}`]?((0,l.wg)(),(0,l.iD)("p",ft,(0,n.zw)(a.value[`quantity${e}`]),1)):(0,l.kq)("",!0)])))),128))]),(0,l._)("div",gt,[(0,l._)("div",ht,[qt,(0,l.wy)((0,l._)("textarea",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>m.value.comment=t),class:"form-control form-control-sm",placeholder:"e.g UIU"},null,512),[[i.nr,m.value.comment]]),a.value?.comment?((0,l.wg)(),(0,l.iD)("p",kt,(0,n.zw)(a.value?.comment),1)):(0,l.kq)("",!0)]),(0,l._)("div",Dt,[xt,(0,l.Wm)((0,s.SU)(u.Z),{modelValue:m.value.receiver,"onUpdate:modelValue":e[2]||(e[2]=t=>m.value.receiver=t),options:g.value,settings:{width:"100%"}},null,8,["modelValue","options"]),a.value?.receiver?((0,l.wg)(),(0,l.iD)("p",zt,(0,n.zw)(a.value?.receiver),1)):(0,l.kq)("",!0)])]),(0,l._)("div",{class:"float-end"},[(0,l._)("button",{type:"button",class:"btn btn-success btn-sm mt-2",onClick:w},"Submit")])])):(0,l.kq)("",!0)])])])])])])]))}};const Ct=Vt;var It=Ct;const Ht={class:"container-fluid mt-2"},Ut={class:"card"},Zt={class:"card-body"},Rt=(0,l._)("h5",{class:"card-title"},"Item Request ",-1),Nt=(0,l._)("ul",{class:"nav nav-tabs d-flex",id:"myTabjustified",role:"tablist"},[(0,l._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,l._)("button",{class:"nav-link w-100 active",id:"raw-tab","data-bs-toggle":"tab","data-bs-target":"#raw",type:"button",role:"tab","aria-controls":"raw","aria-selected":"true"},"Raw Materials")]),(0,l._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,l._)("button",{class:"nav-link w-100",id:"inventory-tab","data-bs-toggle":"tab","data-bs-target":"#inventory",type:"button",role:"tab","aria-controls":"inventory","aria-selected":"false"},"Inventory Item")])],-1),St={class:"tab-content pt-2",id:"myTabjustifiedContent"},$t={class:"tab-pane fade show active",id:"raw",role:"tabpanel","aria-labelledby":"raw-tab"},Mt={class:"tab-pane fade",id:"inventory",role:"tabpanel","aria-labelledby":"inventory-tab"};var Kt={__name:"ItemRequestView",setup(t){return(t,e)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",Ht,[(0,l._)("div",Ut,[(0,l._)("div",Zt,[Rt,Nt,(0,l._)("div",St,[(0,l._)("div",$t,[(0,l.Wm)(j)]),(0,l._)("div",Mt,[(0,l.Wm)(It)])])])])])]))}};const Yt=Kt;var Qt=Yt}}]);
//# sourceMappingURL=4174.038ab2f6.js.map