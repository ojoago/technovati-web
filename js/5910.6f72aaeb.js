"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[5910],{1187:function(e,t,a){a.d(t,{Z:function(){return i}});var l=a(3396);const n=["disabled","innerHTML"];var s={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(e){return(t,a)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>t.$emit("next",e.link))},[(0,l._)("span",{class:"page-link pointer",href:"#",disabled:!e.link.url,innerHTML:e.link.label},null,8,n)])]))}};const d=s;var i=d},5910:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ge}});var l=a(3396),n=a(7139),s=a(9242),d=a(4870),i=a(2191),o=a(6204),u=a(6091);const r={class:"table-responsive"},p={class:"table-hover table-stripped table-bordered table"},c=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"SN"),(0,l._)("th",null,"DEPARTMENT"),(0,l._)("th",null,"Sub Department"),(0,l._)("th",null,"HEAD"),(0,l._)("th",null,[(0,l._)("i",{class:"bi bi-gear-fill"})])])],-1),m={class:"dropdown"},_=(0,l._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,l._)("i",{class:"bi bi-tools"})],-1),v={class:"dropdown-menu"},b=["onClick"],g={class:"row"},h={class:"col-md-12"},w={class:"form-group"},f=(0,l._)("label",{class:"form-label"},"Department",-1),k={key:0,class:"text-danger"},D={class:"col-md-12"},y={class:"form-group"},x=(0,l._)("label",{class:"form-label"},"Sub Department",-1),H={key:0,class:"text-danger"},S={class:"col-md-12"},C={class:"form-group"},Z=(0,l._)("label",{class:"form-label"},"Head of Department",-1),z={key:0,class:"text-danger"};var V={__name:"SubDepartment",setup(e){const t=(0,d.iH)({department_pid:"",name:"",description:"",head_pid:""}),a=(0,d.iH)(!1),V=()=>{I(),a.value=!0,T()},N=()=>{a.value=!1},E=e=>{t.value={department_pid:e.department_pid,name:e.name,description:e.description,head_pid:e.head_pid,pid:e.pid},a.value=!0},T=()=>{t.value={department_pid:"",name:"",description:"",head_pid:""}},U=(0,d.iH)({});function M(){U.value=[],i.Z.dispatch("postMethod",{url:"/create-sub-department",param:t.value}).then((e=>{422==e?.status?U.value=e.data:201==e?.status&&(a.value=!1,T())}))}q();const A=(0,d.iH)({});function q(){i.Z.dispatch("getMethod",{url:"/load-sub-departments"}).then((e=>{200==e?.status&&(A.value=e.data)}))}const O=(0,d.iH)([]);function j(){i.Z.dispatch("loadDropdown","users").then((({data:e})=>{O.value=e})).catch((e=>{console.log(e)}))}j();const W=(0,d.iH)([]);function I(){i.Z.dispatch("loadDropdown","departments").then((({data:e})=>{W.value=e}))}return I(),(e,i)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("button",{class:"btn btn-sm btn-primary mb-1",onClick:V},"Add New"),(0,l._)("div",r,[(0,l._)("table",p,[c,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.value.data,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.pid},[(0,l._)("td",null,(0,n.zw)(t+1),1),(0,l._)("td",null,(0,n.zw)(e?.department?.department),1),(0,l._)("td",null,(0,n.zw)(e.name),1),(0,l._)("td",null,(0,n.zw)(e?.head?.username),1),(0,l._)("td",null,[(0,l._)("div",m,[_,(0,l._)("ul",v,[(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item pointer",onClick:t=>E(e)},"Edit",8,b)])])])])])))),128))])])]),(0,l.Wm)(u.Z,{isOpen:a.value,"modal-class":"modal-xs",onSubmit:M,title:"Create Sub Department",onModalClose:N},{content:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("form",null,[(0,l._)("div",g,[(0,l._)("div",h,[(0,l._)("div",w,[f,(0,l.Wm)((0,d.SU)(o.Z),{modelValue:t.value.department_pid,"onUpdate:modelValue":i[0]||(i[0]=e=>t.value.department_pid=e),options:W.value,settings:{width:"100%"}},null,8,["modelValue","options"]),U.value?.department_pid?((0,l.wg)(),(0,l.iD)("p",k,(0,n.zw)(U.value?.department_pid[0]),1)):(0,l.kq)("",!0)])]),(0,l._)("div",D,[(0,l._)("div",y,[x,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":i[1]||(i[1]=e=>t.value.name=e),class:"form-control",placeholder:"e.g sub operation"},null,512),[[s.nr,t.value.name]]),U.value?.name?((0,l.wg)(),(0,l.iD)("p",H,(0,n.zw)(U.value?.name[0]),1)):(0,l.kq)("",!0)])]),(0,l._)("div",S,[(0,l._)("div",C,[Z,(0,l.Wm)((0,d.SU)(o.Z),{modelValue:t.value.head_pid,"onUpdate:modelValue":i[2]||(i[2]=e=>t.value.head_pid=e),options:O.value,settings:{width:"100%"}},null,8,["modelValue","options"]),U.value?.head_pid?((0,l.wg)(),(0,l.iD)("p",z,(0,n.zw)(U.value?.head_pid[0]),1)):(0,l.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const N=V;var E=N,T=a(1187);const U={class:"container mt-2"},M={class:"card"},A={class:"card-body"},q=(0,l._)("div",{class:"card-header"},[(0,l._)("h3",null,"Departments")],-1),O=(0,l._)("ul",{class:"nav nav-tabs d-flex",id:"myTabjustified",role:"tablist"},[(0,l._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,l._)("button",{class:"nav-link w-100 active",id:"department-tab","data-bs-toggle":"tab","data-bs-target":"#department",type:"button",role:"tab","aria-controls":"department","aria-selected":"true"},"Department")]),(0,l._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,l._)("button",{class:"nav-link w-100",id:"sub-tab","data-bs-toggle":"tab","data-bs-target":"#sub",type:"button",role:"tab","aria-controls":"sub","aria-selected":"false"},"Sub Department")]),(0,l._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,l._)("button",{class:"nav-link w-100",id:"desig-tab","data-bs-toggle":"tab","data-bs-target":"#desig",type:"button",role:"tab","aria-controls":"desig","aria-selected":"false"},"Designation")])],-1),j={class:"tab-content pt-2",id:"myTabjustifiedContent"},W={class:"tab-pane fade show active",id:"department",role:"tabpanel","aria-labelledby":"department-tab"},I={class:"table-responsive"},L={class:"table-hover table-stripped table-bordered table"},P=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"SN"),(0,l._)("th",null,"DEPARTMENT"),(0,l._)("th",null,"Sub DEPARTMENT"),(0,l._)("th",null,"DESCRIPTION"),(0,l._)("th",null,"HEAD"),(0,l._)("th",null,[(0,l._)("i",{class:"bi bi-gear-fill"})])])],-1),K={class:"dropdown"},R=(0,l._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,l._)("i",{class:"bi bi-tools"})],-1),Y={class:"dropdown-menu"},B=["onClick"],G=["onClick"],$={class:"flex justify-center mt-4"},F={class:"relative justify-center rounded-md shadow pagination"},J={class:"tab-pane fade",id:"sub",role:"tabpanel","aria-labelledby":"sub-tab"},Q={class:"tab-pane fade",id:"desig",role:"tabpanel","aria-labelledby":"desig-tab"},X={class:"row"},ee={class:"col-md-4"},te={class:"border rounded-3 p-2 m-1"},ae=(0,l._)("legend",{class:"float-none w-auto px-2 h5"},"Create Designation",-1),le={class:"row"},ne={class:"col-md-12"},se={class:"form-group"},de=(0,l._)("label",{class:"form-label"},"Designation",-1),ie={key:0,class:"text-danger"},oe={class:"col-md-12"},ue={class:"form-group"},re=(0,l._)("label",{class:"form-label"},"Description",-1),pe={key:0,class:"text-danger"},ce={class:"col-md-8"},me={class:"table-responsive"},_e={class:"table-hover table-stripped table-bordered table"},ve=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"SN"),(0,l._)("th",null,"DESIGNATION"),(0,l._)("th",null,"STATUS"),(0,l._)("th",null,"DESCRIPTION"),(0,l._)("th",null,[(0,l._)("i",{class:"bi bi-gear-fill"})])])],-1),be={class:"dropdown"},ge=(0,l._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,l._)("i",{class:"bi bi-tools"})],-1),he={class:"dropdown-menu"},we=["onClick"],fe=["onClick"],ke={class:"flex justify-center mt-4"},De={class:"relative justify-center rounded-md shadow pagination"},ye=(0,l._)("p",{class:"text-danger small"},"Note Head of Department must have the role of [HOD]",-1),xe={class:"row"},He={class:"col-md-12"},Se={class:"form-group"},Ce=(0,l._)("label",{class:"form-label"},"Department",-1),Ze={key:0,class:"text-danger"},ze={class:"col-md-12"},Ve={class:"form-group"},Ne=(0,l._)("label",{class:"form-label"},"Description",-1),Ee={key:0,class:"text-danger"},Te={class:"col-md-12"},Ue={class:"form-group"},Me=(0,l._)("label",{class:"form-label"},"Head of Department",-1),Ae={key:0,class:"text-danger"},qe={class:"row"},Oe={class:"col-md-12"},je={class:"form-group"},We=(0,l._)("label",{class:"form-label"},"Sub Department ",-1),Ie={key:0,class:"text-danger"},Le={class:"col-md-12"},Pe={class:"form-group"},Ke=(0,l._)("label",{class:"form-label"},[(0,l.Uk)("Staff "),(0,l._)("span",null,"*")],-1),Re={key:0,class:"text-danger"};var Ye={__name:"DepartmentView",setup(e){const t=(0,d.iH)(!1),a=e=>{t.value=!0,v.value.department_pid=e,$e(e)},r=()=>{t.value=!1,p.value=!1,_()},p=(0,d.iH)(!1),c=(0,d.iH)({}),m=(0,d.iH)({department:"",description:"",head_pid:""}),_=()=>{m.value={department:"",description:"",head_pid:""}},v=(0,d.iH)({department_pid:"",sub_department:"",user_pid:""});function b(e){m.value={department:e.department,description:e.description,head_pid:e.head_pid,pid:e.pid},p.value=!0}const g=(0,d.iH)({});function h(){g.value=[],i.Z.dispatch("postMethod",{url:"/create-department",param:m.value}).then((e=>{422==e?.status?g.value=e.data:201==e?.status&&(r(),C())}))}const w=(0,d.iH)({sub_department:"",user_pid:""}),f=(0,d.iH)({});function k(){f.value=[],i.Z.dispatch("postMethod",{url:"/assign-department",param:m.value}).then((e=>{422==e?.status&&(f.value=e.data)}))}const D=(0,d.iH)({name:"",description:""}),y=e=>{D.value={name:e.name,description:e.description,pid:e.pid,status:e.status}},x=e=>{confirm("are you sure you want to delete this ?")&&i.Z.dispatch("deleteMethod",{url:"/delete-designation/"+e}).then((()=>{z()}))},H=(0,d.iH)(!1);function S(){H.value=[],i.Z.dispatch("postMethod",{url:"/create-designation",param:D.value}).then((e=>{422==e?.status?H.value=e.data:201==e?.status&&(w.value.name="",w.value.description="",z())}))}function C(e="/load-departments"){i.Z.dispatch("getMethod",{url:e}).then((e=>{200==e?.status&&(c.value=e.data)}))}C();const Z=(0,d.iH)({});function z(e="/load-designation"){i.Z.dispatch("getMethod",{url:e}).then((e=>{Z.value=200==e?.status?e.data:{}}))}const V=(0,d.iH)([]);function N(){i.Z.dispatch("loadDropdown","hod").then((({data:e})=>{V.value=e})).catch((e=>{console.log(e)}))}N();const Ye=(0,d.iH)([]);function Be(){i.Z.dispatch("loadDropdown","departments").then((({data:e})=>{Ye.value=e}))}Be();const Ge=(0,d.iH)([]);function $e(e){i.Z.dispatch("loadDropdown","sub-departments/"+e).then((({data:e})=>{Ge.value=e})).catch((e=>{console.log(e)}))}function Fe(e){e.url&&!e.active&&C(e.url)}function Je(e){e.url&&!e.active&&z(e.url)}return(0,l.bv)((()=>{const e=document.querySelector("#desig-tab");e.addEventListener("click",(()=>{z()}))})),(e,i)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",U,[(0,l._)("div",M,[(0,l._)("div",A,[q,O,(0,l._)("div",j,[(0,l._)("div",W,[(0,l._)("button",{class:"btn btn-sm btn-primary mb-1",onClick:i[0]||(i[0]=e=>p.value=!0)},"Add New"),(0,l._)("div",I,[(0,l._)("table",L,[P,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value.data,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.pid},[(0,l._)("td",null,(0,n.zw)(t+1),1),(0,l._)("td",null,(0,n.zw)(e.department),1),(0,l._)("td",null,(0,n.zw)(e.sub_count),1),(0,l._)("td",null,(0,n.zw)(e.description),1),(0,l._)("td",null,(0,n.zw)(e.head?.username),1),(0,l._)("td",null,[(0,l._)("div",K,[R,(0,l._)("ul",Y,[(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item pointer",onClick:t=>b(e)},"Edit",8,B)]),(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item pointer",onClick:t=>a(e.pid)},"Assign",8,G)])])])])])))),128))])]),(0,l._)("div",$,[(0,l._)("nav",F,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value.links,((e,t)=>((0,l.wg)(),(0,l.j4)(T.Z,{link:e,key:t,onNext:t=>Fe(t,e)},null,8,["link","onNext"])))),128))])])])]),(0,l._)("div",J,[(0,l.Wm)(E)]),(0,l._)("div",Q,[(0,l._)("div",X,[(0,l._)("div",ee,[(0,l._)("fieldset",te,[ae,(0,l._)("form",null,[(0,l._)("div",le,[(0,l._)("div",ne,[(0,l._)("div",se,[de,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":i[1]||(i[1]=e=>D.value.name=e),class:"form-control",placeholder:"e.g graduate trainy"},null,512),[[s.nr,D.value.name]]),H.value?.name?((0,l.wg)(),(0,l.iD)("p",ie,(0,n.zw)(H.value?.name[0]),1)):(0,l.kq)("",!0)])]),(0,l._)("div",oe,[(0,l._)("div",ue,[re,(0,l.wy)((0,l._)("textarea",{type:"text","onUpdate:modelValue":i[2]||(i[2]=e=>D.value.description=e),class:"form-control",placeholder:"any description"},null,512),[[s.nr,D.value.description]]),H.value?.description?((0,l.wg)(),(0,l.iD)("p",pe,(0,n.zw)(H.value?.description[0]),1)):(0,l.kq)("",!0)])])]),(0,l._)("button",{type:"button",class:"btn btn-success btn-sm mt-2",onClick:S},"Submit")])])]),(0,l._)("div",ce,[(0,l._)("div",me,[(0,l._)("table",_e,[ve,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Z.value.data,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.pid},[(0,l._)("td",null,(0,n.zw)(t+1),1),(0,l._)("td",null,(0,n.zw)(e.name),1),(0,l._)("td",null,(0,n.zw)(1==e.status?"ENABLED":"DISABLED"),1),(0,l._)("td",null,(0,n.zw)(e.description),1),(0,l._)("td",null,[(0,l._)("div",be,[ge,(0,l._)("ul",he,[(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item pointer",onClick:t=>y(e)},"Edit",8,we)]),(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item pointer bg-danger",onClick:t=>x(e.pid)},"Delete",8,fe)])])])])])))),128))])]),(0,l._)("div",ke,[(0,l._)("nav",De,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Z.value.links,((e,t)=>((0,l.wg)(),(0,l.j4)(T.Z,{link:e,key:t,onNext:t=>Je(t,e)},null,8,["link","onNext"])))),128))])])])])])])])])])]),(0,l.Wm)(u.Z,{isOpen:p.value,"modal-class":"modal-xs",onSubmit:h,title:"Create Department",onModalClose:r},{content:(0,l.w5)((()=>[(0,l._)("div",null,[ye,(0,l._)("form",null,[(0,l._)("div",xe,[(0,l._)("div",He,[(0,l._)("div",Se,[Ce,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":i[3]||(i[3]=e=>m.value.department=e),class:"form-control",placeholder:"Name of department"},null,512),[[s.nr,m.value.department]]),g.value?.department?((0,l.wg)(),(0,l.iD)("p",Ze,(0,n.zw)(g.value?.department[0]),1)):(0,l.kq)("",!0)])]),(0,l._)("div",ze,[(0,l._)("div",Ve,[Ne,(0,l.wy)((0,l._)("textarea",{type:"text","onUpdate:modelValue":i[4]||(i[4]=e=>m.value.description=e),class:"form-control",placeholder:"Name of department"},null,512),[[s.nr,m.value.description]]),g.value?.description?((0,l.wg)(),(0,l.iD)("p",Ee,(0,n.zw)(g.value?.description[0]),1)):(0,l.kq)("",!0)])]),(0,l._)("div",Te,[(0,l._)("div",Ue,[Me,(0,l.Wm)((0,d.SU)(o.Z),{modelValue:m.value.head_pid,"onUpdate:modelValue":i[5]||(i[5]=e=>m.value.head_pid=e),options:V.value,settings:{width:"100%"}},null,8,["modelValue","options"]),g.value?.head?((0,l.wg)(),(0,l.iD)("p",Ae,(0,n.zw)(g.value?.head[0]),1)):(0,l.kq)("",!0)])])])])])])),_:1},8,["isOpen"]),(0,l.Wm)(u.Z,{isOpen:t.value,"modal-class":"modal-xs",onSubmit:k,title:"Assign Department",onModalClose:r},{content:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("form",null,[(0,l._)("div",qe,[(0,l._)("div",Oe,[(0,l._)("div",je,[We,(0,l.Wm)((0,d.SU)(o.Z),{modelValue:m.value.sub_department,"onUpdate:modelValue":i[6]||(i[6]=e=>m.value.sub_department=e),options:Ge.value,settings:{width:"100%"}},null,8,["modelValue","options"]),f.value?.sub_department?((0,l.wg)(),(0,l.iD)("p",Ie,(0,n.zw)(f.value?.sub_department[0]),1)):(0,l.kq)("",!0)])]),(0,l._)("div",Le,[(0,l._)("div",Pe,[Ke,(0,l.Wm)((0,d.SU)(o.Z),{modelValue:m.value.user_pid,"onUpdate:modelValue":i[7]||(i[7]=e=>m.value.user_pid=e),options:V.value,settings:{width:"100%"}},null,8,["modelValue","options"]),f.value?.user_pid?((0,l.wg)(),(0,l.iD)("p",Re,(0,n.zw)(f.value?.user_pid[0]),1)):(0,l.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const Be=Ye;var Ge=Be}}]);
//# sourceMappingURL=5910.6f72aaeb.js.map