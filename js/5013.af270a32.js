"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[5013],{5013:function(a,l,e){e.r(l),e.d(l,{default:function(){return Q}});var t=e(3396),o=e(7139),n=e(9242),s=e(4870),i=e(6204),d=e(2191),r=e(6091);const c={class:"container mt-2"},u={class:"card"},p={class:"card-body"},m=(0,t._)("div",{class:"card-header"},"Engineering Tools",-1),b=(0,t._)("ul",{class:"nav nav-tabs d-flex",id:"myTabjustified",role:"tablist"},[(0,t._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,t._)("button",{class:"nav-link w-100 active",id:"worker-tab","data-bs-toggle":"tab","data-bs-target":"#worker",type:"button",role:"tab","aria-controls":"worker","aria-selected":"true"},"Tool")]),(0,t._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,t._)("button",{class:"nav-link w-100",id:"casual-tab","data-bs-toggle":"tab","data-bs-target":"#casual",type:"button",role:"tab","aria-controls":"casual","aria-selected":"false"},"Tools History")])],-1),_={class:"tab-content pt-2",id:"myTabjustifiedContent"},v={class:"tab-pane fade show active",id:"worker",role:"tabpanel","aria-labelledby":"worker-tab"},g={class:"table-responsive"},w={class:"table-hover table-stripped table-bordered table"},f=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Tool"),(0,t._)("th",null,"Description"),(0,t._)("th",null,"quantity"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-gear-fill"})])])],-1),h={class:"dropdown"},k=(0,t._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,t._)("i",{class:"bi bi-tools"})],-1),y={class:"dropdown-menu"},C=["onClick"],T=["onClick"],x=["onClick"],D=(0,t._)("div",{class:"tab-pane fade",id:"casual",role:"tabpanel","aria-labelledby":"casual-tab"},[(0,t._)("fieldset",{class:"border rounded-3 p-2 m-1"},[(0,t._)("legend",{class:"float-none w-auto px-2"},"Add Casual Workers")])],-1),H={id:"toolForm"},W={class:"row"},S={class:"col-md-12"},Z=(0,t._)("label",{class:"form-label"},"Tool",-1),q={key:0,class:"text-danger"},z={class:"col-md-12"},A=(0,t._)("label",{class:"form-label"},"Description",-1),V={key:0,class:"text-danger"},M={id:"assignForm"},O={class:"row"},U={class:"col-md-12"},F=(0,t._)("label",{class:"form-label"},"Team",-1),j={key:0,class:"text-danger"},E="modal-xs";var N={__name:"ToolsView",setup(a){const l=(0,s.iH)(!1),e=(0,s.iH)(!1),N=(0,s.iH)(!1),K=()=>{l.value=!1,N.value=!1,e.value=!1},Q=(0,s.iH)({name:"",description:""}),Y=(0,s.iH)({});function B(){Y.value=[],d.Z.dispatch("postMethod",{url:"/create-tool",param:Q.value}).then((a=>{if(422==a?.status)Y.value=a.data;else if(201==a?.status){let a=document.querySelector("#toolForm");a.reset(),J()}})).catch((a=>{console.log(a)}))}const G=a=>{Q.value={name:a.name,description:a.description,pid:a.pid},e.value=!0},I=(0,s.iH)({});function J(){d.Z.dispatch("getMethod",{url:"/load-tools"}).then((a=>{200==a?.status&&(I.value=a.data)})).catch((a=>{console.log(a)}))}J();const L=(0,s.iH)({});function P(){d.Z.dispatch("loadDropdown","team").then((({data:a})=>{L.value=a})).catch((a=>{console.log(a),alert("Something Went Wrong")}))}P();const R=(0,s.iH)({});function X(){d.Z.dispatch("loadDropdown","departments").then((({data:a})=>{R.value=a})).catch((a=>{console.log(a),alert("Something Went Wrong")}))}return X(),(a,l)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",c,[(0,t._)("div",u,[(0,t._)("div",p,[m,b,(0,t._)("div",_,[(0,t._)("div",v,[(0,t._)("button",{class:"btn btn-primary btn-sm m-2",onClick:l[0]||(l[0]=a=>e.value=!0)},"Add New"),(0,t._)("div",g,[(0,t._)("table",w,[f,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(I.value.data,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,o.zw)(l.name),1),(0,t._)("td",null,(0,o.zw)(l?.description),1),(0,t._)("td",null,(0,o.zw)(l.quantity),1),(0,t._)("td",null,[(0,t._)("div",h,[k,(0,t._)("ul",y,[(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-warning",onClick:a=>G(l)},"Edit",8,C)]),(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-primary",onClick:e=>a.staffDetail(l)},"Add Quantity",8,T)]),(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-info",onClick:e=>a.assignWorker(l.pid)},"Assign ",8,x)])])])])])))),128))])])])]),D])])])]),(0,t.Wm)(r.Z,{isOpen:e.value,"modal-class":"modal-xs",title:"Add New Tool",onSubmit:B,onModalClose:K},{content:(0,t.w5)((()=>[(0,t._)("form",H,[(0,t._)("div",W,[(0,t._)("div",S,[Z,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=a=>Q.value.name=a),placeholder:"e.g tape",class:"form-control form-control-sm"},null,512),[[n.nr,Q.value.name]]),Y.value?.name?((0,t.wg)(),(0,t.iD)("p",q,(0,o.zw)(Y.value?.name[0]),1)):(0,t.kq)("",!0)]),(0,t._)("div",z,[A,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":l[2]||(l[2]=a=>Q.value.description=a),placeholder:"e.g for measuring",class:"form-control form-control-sm"},null,512),[[n.nr,Q.value.description]]),Y.value?.description?((0,t.wg)(),(0,t.iD)("p",V,(0,o.zw)(Y.value?.description[0]),1)):(0,t.kq)("",!0)])])])])),_:1},8,["isOpen"]),(0,t.Wm)(r.Z,{isOpen:N.value,"modal-class":E,title:"Assign Staff to team",onSubmit:a.addTeam,onModalClose:K},{content:(0,t.w5)((()=>[(0,t._)("form",M,[(0,t._)("div",O,[(0,t._)("div",U,[F,(0,t.Wm)((0,s.SU)(i.Z),{modelValue:a.team.team_pid,"onUpdate:modelValue":l[3]||(l[3]=l=>a.team.team_pid=l),options:L.value},null,8,["modelValue","options"]),Y.value?.team_pid?((0,t.wg)(),(0,t.iD)("p",j,(0,o.zw)(Y.value?.team_pid[0]),1)):(0,t.kq)("",!0)])])])])),_:1},8,["isOpen","onSubmit"])]))}};const K=N;var Q=K}}]);
//# sourceMappingURL=5013.af270a32.js.map