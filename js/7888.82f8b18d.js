"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[7888],{1187:function(a,n,l){l.d(n,{Z:function(){return u}});var e=l(3396);const t=["disabled","innerHTML"];var o={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(a){return(n,l)=>((0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("li",{class:"page-item",onClick:l[0]||(l[0]=l=>n.$emit("next",a.link))},[(0,e._)("span",{class:"page-link pointer",href:"#",disabled:!a.link.url,innerHTML:a.link.label},null,8,t)])]))}};const c=o;var u=c},7888:function(a,n,l){l.r(n),l.d(n,{default:function(){return X}});var e=l(3396),t=l(7139),o=l(4870),c=l(9242),u=l(2191),d=l(1187),i=l(6204),s=l(6091);const r={class:"container mt-2"},_={class:"card"},p=(0,e._)("h3",{class:"mx-4"},"Deduction Account",-1),m={class:"card-body"},b={class:"table-responsive"},v={class:"table-hover table-stripped table-bordered table"},k=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"SN"),(0,e._)("th",null,"Deduction"),(0,e._)("th",null,"Department"),(0,e._)("th",null,"Account Number"),(0,e._)("th",null,"Account Nmae"),(0,e._)("th",null,"Bank"),(0,e._)("th",null,"Branch"),(0,e._)("th",null,[(0,e._)("i",{class:"bi bi-gear-fill"})])])],-1),h={class:"dropdown"},g=(0,e._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,e._)("i",{class:"bi bi-tools"})],-1),w={class:"dropdown-menu"},f=["onClick"],x=["onClick"],y={class:"flex justify-center mt-4"},D={class:"relative justify-center rounded-md shadow pagination"},z={class:"row"},V={class:"col-md-6"},H={class:"form-group"},C=(0,e._)("label",{class:"form-label"},"Department",-1),Z={key:0,class:"text-danger"},A={class:"col-md-6"},N={class:"form-group"},U=(0,e._)("label",{class:"form-label"},"Deduction",-1),q={key:0,class:"text-danger"},T={class:"col-md-6"},j={class:"form-group"},B=(0,e._)("label",{class:"form-label"},"Account Number",-1),M={key:0,class:"text-danger"},L={class:"col-md-6"},S={class:"form-group"},O=(0,e._)("label",{class:"form-label"},"Account Name",-1),W={key:0,class:"text-danger"},K={class:"col-md-6"},Y={class:"form-group"},E=(0,e._)("label",{class:"form-label"},"Bank",-1),J={key:0,class:"text-danger"},P={class:"col-md-6"},$={class:"form-group"},F=(0,e._)("label",{class:"form-label"},"Branch",-1),G={key:0,class:"text-danger"},I="modal-lg";var Q={__name:"DeductionAccountView",setup(a){const n=(0,o.iH)(!1),l=()=>{n.value=!0},Q=()=>{n.value=!1,na()},R=(0,o.iH)({}),X=(0,o.iH)({department_pid:"",deduction_pid:"",amount:"",account_number:"",account_name:"",bank:"",bank_branch:""}),aa=a=>{X.value={department_pid:a.department_pid,deduction_pid:a.deduction_pid,amount:a.amount,account_number:a.account_number,account_name:a.account_name,bank:a.bank,bank_branch:a.bank_branch,pid:a.pid},n.value=!0},na=()=>{X.value={department_pid:"",deduction_pid:"",amount:"",account_number:"",account_name:"",bank:"",bank_branch:""}},la=a=>{alert(a)};function ea(){R.value=[],u.Z.dispatch("postMethod",{url:"/create-deduction-account",param:X.value}).then((a=>{422==a?.status?R.value=a.data:201==a?.status&&(Q(),oa())})).catch((a=>{console.log(a)}))}const ta=(0,o.iH)({});function oa(a="/load-deduction-accounts"){u.Z.dispatch("getMethod",{url:a}).then((a=>{200==a?.status&&(ta.value=a.data)})).catch((a=>{console.log(a)}))}const ca=(0,o.iH)([]);function ua(){u.Z.dispatch("loadDropdown","departments").then((({data:a})=>{ca.value=a})).catch((a=>{console.log(a)}))}ua();const da=(0,o.iH)([]);function ia(){u.Z.dispatch("loadDropdown","deduction-names").then((({data:a})=>{da.value=a})).catch((a=>{console.log(a)}))}function sa(a){a.url&&!a.active&&oa(a.url)}return ia(),oa(),(a,u)=>((0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",r,[(0,e._)("div",_,[(0,e._)("div",{class:"card-header"},[p,(0,e._)("button",{class:"btn btn-sm btn-primary",onClick:l},"Add New")]),(0,e._)("div",m,[(0,e._)("div",b,[(0,e._)("table",v,[k,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(ta.value.data,((a,n)=>((0,e.wg)(),(0,e.iD)("tr",{key:n},[(0,e._)("td",null,(0,t.zw)(n+1),1),(0,e._)("td",null,(0,t.zw)(a.deduction.name),1),(0,e._)("td",null,(0,t.zw)(a.department.department),1),(0,e._)("td",null,(0,t.zw)(a.account_number),1),(0,e._)("td",null,(0,t.zw)(a.account_name),1),(0,e._)("td",null,(0,t.zw)(a.bank_branch),1),(0,e._)("td",null,(0,t.zw)(a.bank),1),(0,e._)("td",null,[(0,e._)("div",h,[g,(0,e._)("ul",w,[(0,e._)("li",null,[(0,e._)("a",{class:"dropdown-item pointer bg-warning",onClick:n=>aa(a)},"Edit",8,f)]),(0,e._)("li",null,[(0,e._)("a",{class:"dropdown-item pointer bg-danger",onClick:n=>la(a.id)},"Delete",8,x)])])])])])))),128))])]),(0,e._)("div",y,[(0,e._)("nav",D,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(ta.value.links,((a,n)=>((0,e.wg)(),(0,e.j4)(d.Z,{link:a,key:n,onNext:n=>sa(a)},null,8,["link","onNext"])))),128))])])])])])]),(0,e.Wm)(s.Z,{isOpen:n.value,onSubmit:ea,"modal-class":I,title:"Deduction Account",onModalClose:Q},{content:(0,e.w5)((()=>[(0,e._)("div",null,[(0,e._)("form",null,[(0,e._)("div",z,[(0,e._)("div",V,[(0,e._)("div",H,[C,(0,e.Wm)((0,o.SU)(i.Z),{modelValue:X.value.department_pid,"onUpdate:modelValue":u[0]||(u[0]=a=>X.value.department_pid=a),options:ca.value,settings:{width:"100%"}},null,8,["modelValue","options"]),R.value?.department_pid?((0,e.wg)(),(0,e.iD)("p",Z,(0,t.zw)(R.value?.department_pid[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",A,[(0,e._)("div",N,[U,(0,e.Wm)((0,o.SU)(i.Z),{modelValue:X.value.deduction_pid,"onUpdate:modelValue":u[1]||(u[1]=a=>X.value.deduction_pid=a),options:da.value,settings:{width:"100%"}},null,8,["modelValue","options"]),R.value?.deduction_pid?((0,e.wg)(),(0,e.iD)("p",q,(0,t.zw)(R.value?.deduction_pid[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",T,[(0,e._)("div",j,[B,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":u[2]||(u[2]=a=>X.value.account_number=a),class:"form-control",maxlength:"10",placeholder:"e.g xxxxxxxxxx"},null,512),[[c.nr,X.value.account_number]]),R.value?.account_number?((0,e.wg)(),(0,e.iD)("p",M,(0,t.zw)(R.value?.account_number[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",L,[(0,e._)("div",S,[O,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":u[3]||(u[3]=a=>X.value.account_name=a),class:"form-control",placeholder:"e.g Technovati Ltd"},null,512),[[c.nr,X.value.account_name]]),R.value?.account_name?((0,e.wg)(),(0,e.iD)("p",W,(0,t.zw)(R.value?.account_name[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",K,[(0,e._)("div",Y,[E,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":u[4]||(u[4]=a=>X.value.bank=a),class:"form-control",placeholder:"e.g Taj Bank"},null,512),[[c.nr,X.value.bank]]),R.value?.bank?((0,e.wg)(),(0,e.iD)("p",J,(0,t.zw)(R.value?.bank[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",P,[(0,e._)("div",$,[F,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":u[5]||(u[5]=a=>X.value.bank_branch=a),class:"form-control",placeholder:"e.g Jos"},null,512),[[c.nr,X.value.bank_branch]]),R.value?.bank_branch?((0,e.wg)(),(0,e.iD)("p",G,(0,t.zw)(R.value?.bank_branch[0]),1)):(0,e.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const R=Q;var X=R}}]);
//# sourceMappingURL=7888.82f8b18d.js.map