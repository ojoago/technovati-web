"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[7197],{1187:function(l,e,a){a.d(e,{Z:function(){return i}});var n=a(3396);const o=["disabled","innerHTML"];var t={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(e,a)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>e.$emit("next",l.link))},[(0,n._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,o)])]))}};const s=t;var i=s},7197:function(l,e,a){a.r(e),a.d(e,{default:function(){return G}});var n=a(3396),o=a(7139),t=a(4870),s=a(9242),i=a(2191),d=a(1187),c=a(6368),u=a(6091),r=a(6204);const p={class:"container mt-2"},_={class:"card"},m={class:"card-header"},v=(0,n._)("h3",{class:"mx-4"},"Allowance Exclusions",-1),w={class:"card-body"},b={class:"table-responsive"},g={class:"table-hover table-stripped table-bordered table"},h=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"SN"),(0,n._)("th",null,"Allowance"),(0,n._)("th",null," Employees"),(0,n._)("th",null," start"),(0,n._)("th",null," End"),(0,n._)("th",null,[(0,n._)("i",{class:"bi bi-pencil-fill"})])])],-1),k={class:"dropdown"},f=(0,n._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,n._)("i",{class:"bi bi-tools"})],-1),y={class:"dropdown-menu"},x={class:"bg-warning"},D=["onClick"],H={class:"bg-danger"},z=["onClick"],C={class:"flex justify-center mt-4"},E={class:"relative justify-center rounded-md shadow pagination"},V={id:"excForm"},Z={class:"row"},A={class:"col-md-12"},M={class:"form-group"},U=(0,n._)("label",{class:"form-label"},"Allowance",-1),S={key:0,class:"text-danger"},j={class:"col-md-6"},q={class:"form-group"},N=(0,n._)("label",{class:"form-label"},"Start month",-1),T={key:0,class:"text-danger"},K={class:"col-md-6"},L={class:"form-group"},O=(0,n._)("label",{class:"form-label"},"End Month",-1),W={key:0,class:"text-danger"},Y={class:"col-md-12"},P={class:"form-group"},F=(0,n._)("label",{class:"form-label"},"Employee Excluded",-1),J={key:0,class:"text-danger"};var $={__name:"AllowanceExclusionView",setup(l){const e=(0,t.iH)(!1),a=()=>{e.value=!1,I()},$=(0,t.iH)({}),B=(0,t.iH)({allowance_pid:"",employees:"",begin:"",end:""}),G=l=>{B.value={allowance_pid:l.allowance_pid,employees:l.employees,begin:l.begin,end:l.end,pid:l.pid},e.value=!0},I=()=>{B.value={allowance_pid:"",employees:"",begin:"",end:"",pid:""}},Q=l=>{alert(l)};function R(){$.value=[],i.Z.dispatch("postMethod",{url:"/create-allowance-exclusion",param:B.value}).then((l=>{422==l?.status?$.value=l.data:201==l?.status&&(a(),ll())})).catch((l=>{console.log(l)}))}const X=(0,t.iH)({});function ll(l="/load-allowance-exclusion"){i.Z.dispatch("getMethod",{url:l}).then((l=>{X.value=200==l?.status?l.data:{}})).catch((l=>{console.log(l)}))}ll();const el=(0,t.iH)([]);function al(){i.Z.dispatch("loadDropdown","users").then((({data:l})=>{el.value=l})).catch((l=>{console.log(l)}))}al();const nl=(0,t.iH)([]);function ol(){i.Z.dispatch("loadDropdown","allowance-names").then((({data:l})=>{nl.value=l})).catch((l=>{console.log(l)}))}function tl(l){l.url&&!l.active&&ll(l.url)}return ol(),(l,i)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",p,[(0,n._)("div",_,[(0,n._)("div",m,[v,(0,n._)("button",{class:"btn btn-sm btn-primary",onClick:i[0]||(i[0]=l=>e.value=!0)},"Add New")]),(0,n._)("div",w,[(0,n._)("div",b,[(0,n._)("table",g,[h,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(X.value.data,((l,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:e},[(0,n._)("td",null,(0,o.zw)(e+1),1),(0,n._)("td",null,(0,o.zw)(l.allowance.name),1),(0,n._)("td",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.employees,(l=>((0,n.wg)(),(0,n.iD)("span",{key:l.pid,class:"badge bg-dark p-1 m-1"},(0,o.zw)(l.text),1)))),128))]),(0,n._)("td",null,(0,o.zw)(l.from),1),(0,n._)("td",null,(0,o.zw)(l.to),1),(0,n._)("td",null,[(0,n._)("div",k,[f,(0,n._)("ul",y,[(0,n._)("li",x,[(0,n._)("a",{class:"dropdown-item pointer",onClick:e=>G(l)},"Edit",8,D)]),(0,n._)("li",H,[(0,n._)("a",{class:"dropdown-item pointer",onClick:e=>Q(l.id)},"Delete",8,z)])])])])])))),128))])]),(0,n._)("div",C,[(0,n._)("nav",E,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(X.value.links,((l,e)=>((0,n.wg)(),(0,n.j4)(d.Z,{link:l,key:e,onNext:e=>tl(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,n.Wm)(u.Z,{isOpen:e.value,onSubmit:R,"modal-class":"modal-sm",title:"Allowance Exclusion",onModalClose:a},{content:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n._)("form",V,[(0,n._)("div",Z,[(0,n._)("div",A,[(0,n._)("div",M,[U,(0,n.Wm)((0,t.SU)(r.Z),{modelValue:B.value.allowance_pid,"onUpdate:modelValue":i[1]||(i[1]=l=>B.value.allowance_pid=l),options:nl.value,settings:{width:"100%"}},null,8,["modelValue","options"]),$.value?.allowance_pid?((0,n.wg)(),(0,n.iD)("p",S,(0,o.zw)($.value?.allowance_pid[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",j,[(0,n._)("div",q,[N,(0,n.wy)((0,n._)("input",{type:"date","onUpdate:modelValue":i[2]||(i[2]=l=>B.value.begin=l),class:"form-control"},null,512),[[s.nr,B.value.begin]]),$.value?.begin?((0,n.wg)(),(0,n.iD)("p",T,(0,o.zw)($.value?.begin[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",K,[(0,n._)("div",L,[O,(0,n.wy)((0,n._)("input",{type:"date","onUpdate:modelValue":i[3]||(i[3]=l=>B.value.end=l),class:"form-control"},null,512),[[s.nr,B.value.end]]),$.value?.end?((0,n.wg)(),(0,n.iD)("p",W,(0,o.zw)($.value?.end[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",Y,[(0,n._)("div",P,[F,(0,n._)("div",null,[(0,n.Wm)((0,t.SU)(c.J),{modelValue:B.value.employees,"onUpdate:modelValue":i[4]||(i[4]=l=>B.value.employees=l),options:el.value,multiple:!0,"close-on-select":!0,placeholder:"Pick staff",label:"text","track-by":"id"},null,8,["modelValue","options"])]),$.value?.employees?((0,n.wg)(),(0,n.iD)("p",J,(0,o.zw)($.value?.employees[0]),1)):(0,n.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const B=$;var G=B}}]);
//# sourceMappingURL=7197.cdef11a2.js.map