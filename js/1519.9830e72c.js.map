{"version":3,"file":"js/1519.9830e72c.js","mappings":"+fAGA,MAAMA,EAAc,EAEpB,O,0kDCmHA,MAAMC,GAASC,EAAAA,EAAAA,MAETC,GAAYC,EAAAA,EAAAA,KAAI,GAChBC,GAAcD,EAAAA,EAAAA,KAAI,GAClBE,EAAgBA,KAClBH,EAAUI,OAAQ,CAAI,EAGpBC,EAAaA,KACfL,EAAUI,OAAQ,EAClBF,EAAYE,OAAQ,CAAK,EAGvBE,GAASL,EAAAA,EAAAA,IAAI,CAAC,GACdM,GAAYN,EAAAA,EAAAA,IAAI,CAAC,GACjBO,GAAOP,EAAAA,EAAAA,IAAI,CACbO,KAAO,GACPC,YAAc,GACdC,UAAY,GACZC,IAAM,KAGJC,EAAYA,KACdJ,EAAKJ,MAAQ,CACT,KAAQ,GACR,YAAe,GACf,UAAa,GACb,IAAO,IAEXJ,EAAUI,OAAQ,CAAK,EAErBS,GAAYC,IACdN,EAAKJ,MAAQ,CACT,KAAQU,EAAGN,KACX,YAAeM,EAAGL,YAClB,UAAaK,EAAGJ,UAChB,IAAOI,EAAGH,KAEdX,EAAUI,OAAQ,CAAI,EAGpBW,GAAcJ,IACdK,EAAAA,EAAMC,SAAS,YAAa,CAAEC,IAAK,uBAAuBP,IAAOQ,MAAMC,IACtE,GAAoB,KAAhBA,GAAMC,OAAe,CACpB,IAAIC,EAAOC,SAASC,cAAc,aAClCF,EAAKG,OACT,IACF,EAWAC,GAAcN,IAChBO,aAAaC,QAAQ,oBAAqBC,KAAKC,UAAUV,EAAM,KAAM,IACrEtB,EAAOiC,KAAK,CAAEC,KAAM,cAAeC,MAAO,CAAEzB,KAAMY,EAAKT,MAAQ,EASnE,SAASuB,KACL5B,EAAOF,MAAQ,GACXY,EAAAA,EAAMC,SAAS,aAAc,CAAEC,IAAK,eAAgBiB,MAAO3B,EAAKJ,QAASe,MAAMC,IAC3D,KAAhBA,GAAMC,OACNf,EAAOF,MAAQgB,EAAKA,KACG,KAAhBA,GAAMC,SACbT,IACAwB,KACJ,GAER,CAEA,SAASA,KACLpB,EAAAA,EAAMC,SAAS,YAAa,CAAEC,IAAK,cAAgBF,EAAAA,GAAOqB,OAAOC,aAAcnB,MAAMC,IAC7D,KAAhBA,GAAMC,SACNd,EAAUH,MAAQgB,EAAKA,KAC3B,IACDmB,OAAMC,IACLC,QAAQC,IAAIF,EAAE,GAGtB,CAGAJ,KAGA,MAAMO,IAAW1C,EAAAA,EAAAA,IAAI,CAAC,GACtB,SAAS2C,KACL5B,EAAAA,EAAMC,SAAS,eAAgB,SAASE,MAAK,EAAGC,WAC5CuB,GAASvC,MAAQgB,CAAI,IACtBmB,OAAMC,IACLC,QAAQC,IAAIF,EAAE,GAGtB,CAGA,SAASK,GAASC,GACdC,QACKD,EAAK5B,MAAO4B,EAAKE,QAGtBD,MAAMD,EAAK5B,IACf,C,OARA0B,K,04FC9NA,MAAM/C,EAAc,EAEpB,O","sources":["webpack://Technovati/./src/components/PaginationLinks.vue","webpack://Technovati/./src/views/workers/TeamView.vue","webpack://Technovati/./src/views/workers/TeamView.vue?0038"],"sourcesContent":["import script from \"./PaginationLinks.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PaginationLinks.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div>\r\n        <div class=\"container mt-2\">\r\n          \r\n                    <div class=\"card\">\r\n                        <div class=\"card-header h3\">Teams</div>\r\n                        <div class=\"card-body\">\r\n                            <button class=\"btn btn-sm btn-primary m-2\" @click=\"openTeamModal\">Add New</button>\r\n                            <div class=\"table-responsive\">\r\n                                <table class=\"table-hover table-stripped table-bordered table\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>SN</th>\r\n                                            <th>TASK</th>\r\n                                            <th>DESCRIPTION</th>\r\n                                            <th>TEAM lead</th>\r\n                                            <th>Status</th>\r\n                                            <th>Member</th>\r\n                                            <th> <i class=\"bi bi-gear-fill\"></i> </th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr v-for=\"(team, loop) in team_data.data\" :key=\"loop\">\r\n                                            <td>{{ loop + 1 }}</td>\r\n                                            <td>{{ team.team }}</td>\r\n                                            <td>{{ team.description }}</td>\r\n                                            <td>{{ team?.lead?.username }}</td>\r\n                                            <td>{{ team.team_status }}</td>\r\n                                            <td>{{ team.teams_count }}</td>\r\n                                            <td>\r\n                                                <div class=\"dropdown\">\r\n                                                    <button type=\"button\" class=\"btn btn-primary btn-sm dropdown-toggle\"\r\n                                                        data-bs-toggle=\"dropdown\">\r\n                                                        <i class=\"bi bi-tools\"></i>\r\n                                                    </button>\r\n                                                    <ul class=\"dropdown-menu\">\r\n                                                        <li><a class=\"dropdown-item pointer bg-info\" @click=\"teamDetail(team)\">Details</a> </li>\r\n                                                        <!-- <li><a class=\"dropdown-item pointer\" @click=\"addMember(team.pid)\">Add Member</a> </li> -->\r\n                                                        <li><a class=\"dropdown-item pointer bg-warning\" @click=\"editTeam(team)\">Edit Team</a> </li>\r\n                                                        <li><a class=\"bg-danger dropdown-item pointer\" @click=\"detletTeam(team.pid)\">Delete Team</a> </li>\r\n                                                      \r\n                                                    </ul>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <div class=\"flex justify-center mt-4\">\r\n                                                <nav class=\"relative justify-center rounded-md shadow pagination\">\r\n                                                    <pagination-links v-for=\"(link, i) of team_data.links\" :link=\"link\" :key=\"i\"\r\n                                                        @next=\"nextPage(link)\"></pagination-links>\r\n                                                </nav>\r\n                                            </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n          \r\n         <o-modal :isOpen=\"teamModal\" modal-class=\"modal-xs\" title=\"Create Team\" @submit=\"createTeam\" @modal-close=\"closeModal\" >\r\n                <template #content>\r\n                    <form id=\"teamForm\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Team</label>\r\n                                    <input type=\"text\" v-model=\"team.team\" class=\"form-control\"\r\n                                        placeholder=\"e.g Team A\">\r\n                                    <p class=\"text-danger \" v-if=\"errors?.team\">{{ errors?.team[0] }}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Description</label>\r\n                                    <textarea type=\"text\" v-model=\"team.description\" class=\"form-control\" placeholder=\"describe the team\"></textarea>\r\n                                    <p class=\"text-danger \" v-if=\"errors?.description\">{{ errors?.description[0] }}</p>\r\n                                </div>\r\n                            </div>\r\n                                <div class=\"col-md-12\">\r\n                                <label class=\"form-label\">Team Lead</label>\r\n                                <Select2 v-model=\"team.team_lead\" :options=\"userDrop\"  />\r\n                                <p class=\"text-danger \" v-if=\"errors?.team_lead\">{{ errors?.team_lead[0] }} </p>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </template>\r\n        \r\n        </o-modal>\r\n\r\n         <o-modal :isOpen=\"assignModal\" modal-class=\"modal-xs\" title=\"Create Team\" @submit=\"createTeam\" @modal-close=\"closeModal\" >\r\n                <template #content>\r\n                    <form id=\"teamForm\">\r\n                        <div class=\"row\">\r\n                            \r\n                            <div class=\"col-md-12\">\r\n                                                <Multiselect class=\"zindex\" :options=\"userDrop\" :multiple=\"true\"\r\n                                                    :close-on-select=\"true\" placeholder=\"Pick Department\" label=\"text\"\r\n                                                    track-by=\"id\" />\r\n                            </div>\r\n                                <div class=\"col-md-12\">\r\n                                <label class=\"form-label\">Team Lead</label>\r\n                                <Select2 v-model=\"team.team_lead\" :options=\"userDrop\"  />\r\n                                <p class=\"text-danger \" v-if=\"errors?.team_lead\">{{ errors?.team_lead[0] }} </p>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </template>\r\n        \r\n        </o-modal>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport store from \"@/store\";\r\nimport { ref } from \"vue\";\r\nimport Select2 from 'vue3-select2-component';\r\nimport PaginationLinks from \"@/components/PaginationLinks.vue\";\r\nimport OModal from \"@/components/OModal.vue\";\r\nimport { Multiselect } from 'vue-multiselect';\r\n\r\nimport { useRouter } from 'vue-router';\r\nconst router = useRouter()\r\n\r\nconst teamModal = ref(false)\r\nconst assignModal = ref(false)\r\nconst openTeamModal = () => {\r\n    teamModal.value = true;\r\n};\r\n\r\nconst closeModal = () => {\r\n    teamModal.value = false;\r\n    assignModal.value = false;\r\n};\r\n\r\nconst errors = ref({});\r\nconst team_data = ref({});\r\nconst team = ref({\r\n    team : '',\r\n    description : '',\r\n    team_lead : '',\r\n    pid : '',\r\n});\r\n\r\nconst resetAttr = () =>{\r\n    team.value = {\r\n        'team': '' ,\r\n        'description': '' ,\r\n        'team_lead': '' ,\r\n        'pid': '' ,\r\n    }\r\n    teamModal.value = false;\r\n}\r\nconst editTeam = (tm)=>{\r\n    team.value = {\r\n        'team': tm.team ,\r\n        'description': tm.description ,\r\n        'team_lead': tm.team_lead ,\r\n        'pid': tm.pid ,\r\n    }\r\n    teamModal.value = true;\r\n}\r\n\r\nconst detletTeam = (pid) => {\r\n      store.dispatch('putMethod', { url: '/toggle-team-status/'+pid }).then((data) => {\r\n       if (data?.status == 201) {\r\n            let form = document.querySelector('#teamForm');\r\n            form.reset();\r\n        }\r\n    })\r\n}\r\n// function editDept(data) {\r\n//     task.value = {\r\n//         'department': data.task,\r\n//         'description': data.description,\r\n//         'from': data.from,\r\n//         'to': data.to,\r\n//         'pid': data.pid\r\n//     }\r\n// }\r\nconst teamDetail = (data) =>{\r\n    localStorage.setItem('TVATI_TEAM_DETAIL', JSON.stringify(data, null, 2))\r\n    router.push({ path: 'team-detail', query: { team: data.pid } })\r\n}\r\n\r\n// const member = ref({})\r\n// const addMember = (pid) => {\r\n//     assignModal.value = true;\r\n//     member.value.team_pid = pid\r\n// }\r\n\r\nfunction createTeam() {\r\n    errors.value = []\r\n        store.dispatch('postMethod', { url: '/create-team', param: team.value }).then((data) => {\r\n        if (data?.status == 422) {\r\n            errors.value = data.data\r\n        } else if (data?.status == 201) {\r\n            resetAttr();\r\n            loadTeam()\r\n        }\r\n    })\r\n}\r\n\r\nfunction loadTeam() {\r\n    store.dispatch('getMethod', { url: '/load-team/' + store?.state?.activeRole }).then((data) => {\r\n        if (data?.status == 200) {\r\n            team_data.value = data.data;\r\n        }\r\n    }).catch(e => {\r\n        console.log(e);\r\n    })\r\n   \r\n}\r\n\r\n\r\nloadTeam()\r\n\r\n\r\nconst userDrop = ref({});\r\nfunction dropdownUser() {\r\n    store.dispatch('loadDropdown', 'users').then(({ data }) => {\r\n        userDrop.value = data;\r\n    }).catch(e => {\r\n        console.log(e);\r\n        \r\n    })\r\n}\r\ndropdownUser()\r\n\r\nfunction nextPage(link) {\r\n    alert()\r\n    if (!link.url || link.active) {\r\n        return;\r\n    }\r\n    alert(link.url)\r\n}\r\n\r\n</script>\r\n\r\n<style scoped></style>","import script from \"./TeamView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TeamView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["__exports__","router","useRouter","teamModal","ref","assignModal","openTeamModal","value","closeModal","errors","team_data","team","description","team_lead","pid","resetAttr","editTeam","tm","detletTeam","store","dispatch","url","then","data","status","form","document","querySelector","reset","teamDetail","localStorage","setItem","JSON","stringify","push","path","query","createTeam","param","loadTeam","state","activeRole","catch","e","console","log","userDrop","dropdownUser","nextPage","link","alert","active"],"sourceRoot":""}