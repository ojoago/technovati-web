"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[10],{10:function(l,t,a){a.r(t),a.d(t,{default:function(){return ht}});a(560);var e=a(3396),s=a(7139),o=a(9242),i=a(4870),n=a(2191),d=a(2483),c=a(6368),r=a(6091),u=a(3886);const _=l=>((0,e.dD)("data-v-5d19f4c1"),l=l(),(0,e.Cn)(),l),f={class:"border rounded-3 p-1 m-1"},p=_((()=>(0,e._)("legend",{class:"float-none w-auto px-1"},"Shift Holidays",-1))),v={id:"formHoliday"},h={class:"row"},m={class:"col-md-12"},g=_((()=>(0,e._)("label",{for:""},"Shift",-1))),b={class:"form-group"},w=_((()=>(0,e._)("option",{value:"",selected:""},"Select Shift",-1))),k=["value"],y={key:0,class:"text-danger"},D={class:"col-md-12"},x=_((()=>(0,e._)("label",{for:""},"Tittle",-1))),S={class:"form-group"},z={key:0,class:"text-danger"},H={class:"col-md-12"},U=_((()=>(0,e._)("label",{for:""},"Start",-1))),V={class:"form-group"},q={key:0,class:"text-danger"},C={class:"col-md-12"},Z=_((()=>(0,e._)("label",{for:""},"End",-1))),M={class:"form-group"},W={key:0,class:"text-danger"},O={class:"col-md-12"},A=_((()=>(0,e._)("label",{for:""},"Note",-1))),Y={class:"form-group"},E={key:0,class:"text-danger"};var K={__name:"HolidayView",setup(l){const t=(0,i.iH)(!1),a=()=>{t.value=!0},d=()=>{t.value=!1},c=(0,i.iH)({}),_=new Date;let K=_.getDate(),T=_.getMonth()+1,$=_.getFullYear();c.value=`${$}-${T}-${K}`;const j=(0,i.iH)({}),I=(0,i.iH)({shif_pid:"",tittle:"",note:"",start:"",end:""}),J=()=>{I.value={shif_pid:"",tittle:"",note:"",start:"",end:""}};function L(){j.value=[],n.Z.dispatch("postMethod",{param:I.value,url:"mark-shift-holiday"}).then((l=>{422==l?.status?j.value=l.data:201==l?.status&&(P(),J())}))}P();const N=(0,i.iH)([]);function P(){n.Z.dispatch("getMethod",{url:"/load-shift-holidays"}).then((l=>{200==l?.status&&l.data.forEach((l=>{N.value.push({title:l.tittle,start:l.start,end:l.end,class:"blue-event",content:`<i class="bi bi-alarm">${l.shift.shift} ${l.note}</i>`})}))}))}const F=(0,i.iH)({});function B(){n.Z.dispatch("loadDropdown","shifts").then((({data:l})=>{F.value=l}))}return B(),(l,n)=>((0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("fieldset",f,[p,(0,e._)("button",{class:"btn btn-sm btn-primary m-1",onClick:a},"Add Holiday"),(0,e.Wm)((0,i.SU)(u.Z),{"selected-date":c.value,"time-from":540,"disable-views":["years","year","week","day"],"active-view":"month","hide-weekends":"","events-on-month-view":"short",events:N.value,style:{height:"600px"}},null,8,["selected-date","events"])]),(0,e.Wm)(r.Z,{isOpen:t.value,"modal-class":"modal-sm",title:"Add Holiday to Shift",onSubmit:L,onModalClose:d},{content:(0,e.w5)((()=>[(0,e._)("form",v,[(0,e._)("div",h,[(0,e._)("div",m,[g,(0,e._)("div",b,[(0,e.wy)((0,e._)("select",{class:"form-control","onUpdate:modelValue":n[0]||(n[0]=l=>I.value.shift_pid=l)},[w,((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(F.value,(l=>((0,e.wg)(),(0,e.iD)("option",{key:l.pid,value:l.pid},(0,s.zw)(l.shift),9,k)))),128))],512),[[o.bM,I.value.shift_pid]]),j.value?.shift_pid?((0,e.wg)(),(0,e.iD)("p",y,(0,s.zw)(j.value?.shift_pid[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",D,[x,(0,e._)("div",S,[(0,e.wy)((0,e._)("input",{class:"form-control",maxlength:"30","onUpdate:modelValue":n[1]||(n[1]=l=>I.value.tittle=l),placeholder:"e.g burnout break"},null,512),[[o.nr,I.value.tittle]]),j.value?.tittle?((0,e.wg)(),(0,e.iD)("p",z,(0,s.zw)(j.value?.holiday[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",H,[U,(0,e._)("div",V,[(0,e.wy)((0,e._)("input",{type:"date",class:"form-control","onUpdate:modelValue":n[2]||(n[2]=l=>I.value.start=l)},null,512),[[o.nr,I.value.start]]),j.value?.start?((0,e.wg)(),(0,e.iD)("p",q,(0,s.zw)(j.value?.start[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",C,[Z,(0,e._)("div",M,[(0,e.wy)((0,e._)("input",{type:"date",class:"form-control","onUpdate:modelValue":n[3]||(n[3]=l=>I.value.end=l)},null,512),[[o.nr,I.value.end]]),j.value?.end?((0,e.wg)(),(0,e.iD)("p",W,(0,s.zw)(j.value?.end[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",O,[A,(0,e._)("div",Y,[(0,e.wy)((0,e._)("textarea",{class:"form-control",maxlength:"30","onUpdate:modelValue":n[4]||(n[4]=l=>I.value.note=l),placeholder:"e.g burnout note"},null,512),[[o.nr,I.value.note]]),j.value?.note?((0,e.wg)(),(0,e.iD)("p",E,(0,s.zw)(j.value?.note[0]),1)):(0,e.kq)("",!0)])])])])])),_:1},8,["isOpen"])]))}},T=a(89);const $=(0,T.Z)(K,[["__scopeId","data-v-5d19f4c1"]]);var j=$;const I={class:"container-fluid mt-2 mb-2"},J={class:"card"},L={class:"card-body"},N=(0,e._)("h3",{class:"card-title"},"Manage Shifts ",-1),P=(0,e._)("ul",{class:"nav nav-tabs d-flex",id:"myTabjustified",role:"tablist"},[(0,e._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,e._)("button",{class:"nav-link w-100 active",id:"shifts-tab","data-bs-toggle":"tab","data-bs-target":"#shifts",type:"button",role:"tab","aria-controls":"shifts","aria-selected":"true"},"Shift")]),(0,e._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,e._)("button",{class:"nav-link w-100",id:"shift-allocation-tab","data-bs-toggle":"tab","data-bs-target":"#shift-allocation",type:"button",role:"tab","aria-controls":"shift-allocation","aria-selected":"false"},"Shift Allocation")]),(0,e._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,e._)("button",{class:"nav-link w-100",id:"shift-holiday-tab","data-bs-toggle":"tab","data-bs-target":"#shift-holiday",type:"button",role:"tab","aria-controls":"shift-holiday","aria-selected":"false"},"Shift Holidays")])],-1),F={class:"tab-content pt-2",id:"myTabjustifiedContent"},B={class:"tab-pane fade show active",id:"shifts",role:"tabpanel","aria-labelledby":"shifts-tab"},G={class:"border rounded-3 p-2 m-1"},Q=(0,e._)("legend",{class:"float-none w-auto px-2"},"Shifts",-1),R={class:"table-responsive"},X={class:"table-hover table-stripped table-bordered table"},ll=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"SN"),(0,e._)("th",null,"shift"),(0,e._)("th",null,"Office Start"),(0,e._)("th",null,"Office Close"),(0,e._)("th",null,"clock in start"),(0,e._)("th",null,"shift start"),(0,e._)("th",null,"shift end"),(0,e._)("th",null,"working days"),(0,e._)("th",null,"late"),(0,e._)("th",null,[(0,e._)("i",{class:"bi bi-gear-fill"})])])],-1),tl={class:"dropdown"},al=(0,e._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,e._)("i",{class:"bi bi-tools"})],-1),el={class:"dropdown-menu"},sl=["onClick"],ol={class:"tab-pane fade",id:"shift-allocation",role:"tabpanel","aria-labelledby":"shift-allocation-tab"},il={class:"border rounded-3 p-2 m-1"},nl=(0,e._)("legend",{class:"float-none w-auto px-2"},"Shift Allocation",-1),dl={class:"float-none w-auto px-2 h5"},cl={class:"border rounded-3"},rl={class:"tab-pane fade",id:"shift-holiday",role:"tabpanel","aria-labelledby":"shift-holiday-tab"},ul={class:"row"},_l={class:"col-md-4"},fl={class:"form-group"},pl=(0,e._)("label",{class:"form-label"},[(0,e.Uk)("Shift "),(0,e._)("span",{class:"text-danger"},"*")],-1),vl={key:0,class:"text-danger"},hl={class:"col-md-4"},ml={class:"form-group"},gl=(0,e._)("label",{class:"form-label"},[(0,e.Uk)("shift Start "),(0,e._)("span",{class:"text-danger"},"*")],-1),bl={key:0,class:"text-danger"},wl={class:"col-md-4"},kl={class:"form-group"},yl=(0,e._)("label",{class:"form-label"},[(0,e.Uk)("End of shift "),(0,e._)("span",{class:"text-danger"},"*")],-1),Dl={key:0,class:"text-danger"},xl={class:"col-md-4"},Sl={class:"form-group"},zl=(0,e._)("label",{class:"form-label"},"Work Starts",-1),Hl={key:0,class:"text-danger"},Ul={class:"col-md-4"},Vl={class:"form-group"},ql=(0,e._)("label",{class:"form-label"},[(0,e.Uk)("Work ends"),(0,e._)("span",{class:"text-danger"},"*")],-1),Cl={key:0,class:"text-danger"},Zl={class:"col-md-4"},Ml={class:"form-group"},Wl=(0,e._)("label",{class:"form-label"},"clocking Start ",-1),Ol={key:0,class:"text-danger"},Al={class:"col-md-4"},Yl={class:"form-group"},El=(0,e._)("label",{class:"form-label"},[(0,e.Uk)("Late Start"),(0,e._)("span",{class:"text-danger"},"*")],-1),Kl={key:0,class:"text-danger"},Tl={class:"col-md-4"},$l={class:"form-group"},jl=(0,e._)("label",{class:"form-label"},"Working Days ",-1),Il={key:0,class:"text-danger"},Jl={class:"row"},Ll={class:"col-md-12 mt-3"},Nl=(0,e._)("label",{for:""},"Shifts",-1),Pl={class:"form-group"},Fl=(0,e._)("option",{value:"",selected:""},"Select Shift",-1),Bl=["value"],Gl={key:0,class:"text-danger"},Ql={class:"col-md-12 mt-3"},Rl=(0,e._)("label",{for:""},"Category",-1),Xl={class:"form-group"},lt=(0,e._)("option",{value:"",selected:""},"Select Option",-1),tt=(0,e._)("option",{value:"1"},"All Staff",-1),at=(0,e._)("option",{value:"2"},"Department",-1),et=(0,e._)("option",{value:"3"},"Individual",-1),st=[lt,tt,at,et],ot={key:0,class:"text-danger"},it={key:0,class:"col-md-12 mt-3"},nt=(0,e._)("label",{for:""},"Staff",-1),dt={class:"form-group"},ct={key:0,class:"text-danger"},rt={key:1,class:"col-md-12 mt-3"},ut=(0,e._)("label",{for:""},"Departments",-1),_t={class:"form-group"},ft={key:0,class:"text-danger"};var pt={__name:"ShiftConfig",setup(l){const t=(0,d.tv)();let a={};t.push({query:a});const u=(0,i.iH)(!1),_=()=>{u.value=!0},f=(0,i.iH)(!1),p=()=>{f.value=!0},v=()=>{u.value=!1,f.value=!1,w()},h=(0,i.iH)({}),m=(0,i.iH)({}),g=(0,i.iH)({}),b=(0,i.iH)({shift:"",begin_clock:"",clock_in_start:"",end_clock:"",shift_start:"",shift_end:"",shift_days:"",working_days:"",late:""}),w=()=>{b.value={shift:"",begin_clock:"",clock_in_start:"",end_clock:"",shift_start:"",shift_end:"",shift_days:"",working_days:"",late:""}},k=l=>{b.value={shift:l.shift,begin_clock:l.begin_clock,clock_in_start:l.clock_in_start,end_clock:l.end_clock,shift_start:l.shift_start,shift_end:l.shift_end,shift_days:l.shift_days,working_days:l.working_days,late:l.late,pid:l.pid},u.value=!0},y=(0,i.iH)({shift_pid:"",staff:"",departments:"",category:""}),D=()=>{y.value={shift_pid:"",staff:"",departments:"",category:""}};function x(){h.value=[],n.Z.dispatch("postMethod",{url:"/create-shift",param:b.value}).then((l=>{422==l?.status?h.value=l.data:201==l?.status&&(v(),S())}))}function S(){n.Z.dispatch("getMethod",{url:"/load-shifts"}).then((l=>{200==l?.status&&(g.value=l.data)}))}const z=(0,i.iH)({});function H(){n.Z.dispatch("getMethod",{url:"/load-shift-allocation"}).then((l=>{200==l?.status&&(z.value=l.data)}))}function U(){m.value=[],n.Z.dispatch("postMethod",{url:"/allocate-shift",param:y.value}).then((l=>{422==l?.status?m.value=l.data:201==l?.status&&(D(),f.value=!1,H())}))}S();const V=(0,i.iH)({});function q(){n.Z.dispatch("loadDropdown","shifts").then((({data:l})=>{V.value=l}))}q();const C=(0,i.iH)([]);function Z(){n.Z.dispatch("loadDropdown","users").then((({data:l})=>{C.value=l}))}Z();const M=(0,i.iH)([]);function W(){n.Z.dispatch("loadDropdown","departments").then((({data:l})=>{M.value=l}))}return W(),(0,e.bv)((()=>{let l=document.querySelector("#shift-allocation-tab");l.addEventListener("click",(()=>{H()}))})),(l,t)=>((0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",I,[(0,e._)("div",J,[(0,e._)("div",L,[N,P,(0,e._)("div",F,[(0,e._)("div",B,[(0,e._)("fieldset",G,[Q,(0,e._)("button",{class:"btn btn-sm btn-primary m-2",onClick:_},"Add Shift"),(0,e._)("div",R,[(0,e._)("table",X,[ll,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(g.value?.data,((l,t)=>((0,e.wg)(),(0,e.iD)("tr",{key:t},[(0,e._)("td",null,(0,s.zw)(t+1),1),(0,e._)("td",null,(0,s.zw)(l.shift),1),(0,e._)("td",null,(0,s.zw)(l.begin_clock),1),(0,e._)("td",null,(0,s.zw)(l.end_clock),1),(0,e._)("td",null,(0,s.zw)(l.clock_in_start),1),(0,e._)("td",null,(0,s.zw)(l.begin),1),(0,e._)("td",null,(0,s.zw)(l.end),1),(0,e._)("td",null,(0,s.zw)(l.working_days),1),(0,e._)("td",null,(0,s.zw)(l.late),1),(0,e._)("td",null,[(0,e._)("div",tl,[al,(0,e._)("ul",el,[(0,e._)("li",null,[(0,e._)("a",{class:"bg-warning dropdown-item pointer",onClick:t=>k(l)},"Edit ",8,sl)])])])])])))),128))])])])])]),(0,e._)("div",ol,[(0,e._)("fieldset",il,[nl,(0,e._)("button",{class:"btn btn-sm btn-primary m-2",onClick:p},"Allocate"),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(z.value,((l,t)=>((0,e.wg)(),(0,e.iD)("fieldset",{class:"border rounded-3 p-2 m-1",key:t},[(0,e._)("legend",dl,(0,s.zw)(l.shift.toUpperCase()),1),(0,e._)("fieldset",cl,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.staff,((l,t)=>((0,e.wg)(),(0,e.iD)("span",{key:t,class:"badge bg-dark p-1 m-1 ellipsis"},(0,s.zw)(l.toUpperCase()),1)))),128))])])))),128))])]),(0,e._)("div",rl,[(0,e.Wm)(j)])])])])]),(0,e.Wm)(r.Z,{isOpen:u.value,"modal-class":"modal-lg",title:"Create Shift",onSubmit:x,onModalClose:v},{content:(0,e.w5)((()=>[(0,e._)("form",null,[(0,e._)("div",ul,[(0,e._)("div",_l,[(0,e._)("div",fl,[pl,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>b.value.shift=l),class:"form-control",placeholder:"e.g morning shift"},null,512),[[o.nr,b.value.shift]]),h.value?.shift?((0,e.wg)(),(0,e.iD)("p",vl,(0,s.zw)(h.value?.shift[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",hl,[(0,e._)("div",ml,[gl,(0,e.wy)((0,e._)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=l=>b.value.shift_start=l),class:"form-control"},null,512),[[o.nr,b.value.shift_start]]),h.value?.shift_start?((0,e.wg)(),(0,e.iD)("p",bl,(0,s.zw)(h.value?.shift_start[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",wl,[(0,e._)("div",kl,[yl,(0,e.wy)((0,e._)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=l=>b.value.shift_end=l),class:"form-control"},null,512),[[o.nr,b.value.shift_end]]),h.value?.shift_end?((0,e.wg)(),(0,e.iD)("p",Dl,(0,s.zw)(h.value?.shift_end[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",xl,[(0,e._)("div",Sl,[zl,(0,e.wy)((0,e._)("input",{type:"time","onUpdate:modelValue":t[3]||(t[3]=l=>b.value.begin_clock=l),class:"form-control"},null,512),[[o.nr,b.value.begin_clock]]),h.value?.begin_clock?((0,e.wg)(),(0,e.iD)("p",Hl,(0,s.zw)(h.value?.begin_clock[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",Ul,[(0,e._)("div",Vl,[ql,(0,e.wy)((0,e._)("input",{type:"time","onUpdate:modelValue":t[4]||(t[4]=l=>b.value.end_clock=l),class:"form-control"},null,512),[[o.nr,b.value.end_clock]]),h.value?.end_clock?((0,e.wg)(),(0,e.iD)("p",Cl,(0,s.zw)(h.value?.end_clock[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",Zl,[(0,e._)("div",Ml,[Wl,(0,e.wy)((0,e._)("input",{type:"time","onUpdate:modelValue":t[5]||(t[5]=l=>b.value.clock_in_start=l),class:"form-control"},null,512),[[o.nr,b.value.clock_in_start]]),h.value?.clock_in_start?((0,e.wg)(),(0,e.iD)("p",Ol,(0,s.zw)(h.value?.clock_in_start[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",Al,[(0,e._)("div",Yl,[El,(0,e.wy)((0,e._)("input",{type:"time","onUpdate:modelValue":t[6]||(t[6]=l=>b.value.late=l),class:"form-control"},null,512),[[o.nr,b.value.late]]),h.value?.late?((0,e.wg)(),(0,e.iD)("p",Kl,(0,s.zw)(h.value?.late[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",Tl,[(0,e._)("div",$l,[jl,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=l=>b.value.working_days=l),class:"form-control",placeholder:"e.g 388 "},null,512),[[o.nr,b.value.working_days]]),h.value?.working_days?((0,e.wg)(),(0,e.iD)("p",Il,(0,s.zw)(h.value?.working_days[0]),1)):(0,e.kq)("",!0)])])])])])),_:1},8,["isOpen"]),(0,e.Wm)(r.Z,{isOpen:f.value,"modal-class":"modal-xs",title:"Allocate Shift",onSubmit:U,onModalClose:v},{content:(0,e.w5)((()=>[(0,e._)("form",null,[(0,e._)("div",Jl,[(0,e._)("div",Ll,[Nl,(0,e._)("div",Pl,[(0,e.wy)((0,e._)("select",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=l=>y.value.shift_pid=l)},[Fl,((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(V.value,(l=>((0,e.wg)(),(0,e.iD)("option",{key:l.pid,value:l.pid},(0,s.zw)(l.shift),9,Bl)))),128))],512),[[o.bM,y.value.shift_pid]]),m.value?.shift_pid?((0,e.wg)(),(0,e.iD)("p",Gl,(0,s.zw)(m.value?.shift_pid[0]),1)):(0,e.kq)("",!0)])]),(0,e._)("div",Ql,[Rl,(0,e._)("div",Xl,[(0,e.wy)((0,e._)("select",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=l=>y.value.category=l)},st,512),[[o.bM,y.value.category]]),m.value?.category?((0,e.wg)(),(0,e.iD)("p",ot,(0,s.zw)(m.value?.category[0]),1)):(0,e.kq)("",!0)])]),3==y.value.category?((0,e.wg)(),(0,e.iD)("div",it,[nt,(0,e._)("div",dt,[(0,e._)("div",null,[(0,e.Wm)((0,i.SU)(c.J),{modelValue:y.value.staff,"onUpdate:modelValue":t[10]||(t[10]=l=>y.value.staff=l),options:C.value,multiple:!0,"close-on-select":!0,placeholder:"Pick Staff",label:"text","track-by":"id"},null,8,["modelValue","options"])]),m.value?.staff?((0,e.wg)(),(0,e.iD)("p",ct,(0,s.zw)(m.value?.staff[0]),1)):(0,e.kq)("",!0)])])):(0,e.kq)("",!0),2==y.value.category?((0,e.wg)(),(0,e.iD)("div",rt,[ut,(0,e._)("div",_t,[(0,e._)("div",null,[(0,e.Wm)((0,i.SU)(c.J),{modelValue:y.value.departments,"onUpdate:modelValue":t[11]||(t[11]=l=>y.value.departments=l),options:M.value,multiple:!0,"close-on-select":!0,placeholder:"Pick Department",label:"text","track-by":"id"},null,8,["modelValue","options"])]),m.value?.departments?((0,e.wg)(),(0,e.iD)("p",ft,(0,s.zw)(m.value?.departments[0]),1)):(0,e.kq)("",!0)])])):(0,e.kq)("",!0)])])])),_:1},8,["isOpen"])]))}};const vt=pt;var ht=vt}}]);
//# sourceMappingURL=10.1671ef86.js.map