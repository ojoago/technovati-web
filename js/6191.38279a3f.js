"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[6191],{6191:function(l,e,a){a.r(e),a.d(e,{default:function(){return L}});a(560);var t=a(3396),s=a(7139),n=a(9242),o=a(2191),i=a(4870);const u={class:"container mt-2"},c=(0,t._)("h3",{class:"mx-4"},"Appraisal KPIs",-1),d={class:"row"},r={class:"col-md-6"},p={class:"card"},b={class:"card-body"},v={class:"border rounded-3 p-2 m-1"},_=(0,t._)("legend",{class:"float-none w-auto px-2 h5"},"Add Appraisal KPIs",-1),y={class:"col-md-12"},m=(0,t._)("label",{class:"form-label"},"Appraisal Type",-1),k=(0,t._)("option",{disabled:"",selected:""},"Make Selection",-1),h=["value"],g=(0,t._)("p",{class:"text-danger email_error"},null,-1),w={key:0},f={class:"row"},z={class:"col-md-8"},D={class:"form-group"},H=(0,t._)("label",{class:"form-label"},"Key",-1),C=["onUpdate:modelValue"],K={class:"col-md-4"},A={class:"form-group"},S=(0,t._)("label",{class:"form-label"},"Obtainable Score",-1),U={class:"input-group"},x=["onUpdate:modelValue"],T=["onClick"],V=(0,t._)("i",{class:"bi bi-patch-minus"},null,-1),Z=[V],q=(0,t._)("i",{class:"bi bi-plus"},null,-1),M=[q],Y=(0,t._)("hr",null,null,-1),I={class:"col-md-6"},N={class:"card"},O=(0,t._)("div",{class:"card-header"},"Appraisal Type",-1),P={class:"card-body"},j=(0,t._)("hr",null,null,-1),B={class:"table-responsive"},E={class:"table-hover table-stripped table-bordered table"},F=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"Key"),(0,t._)("th",null,"Score")])],-1);var G={__name:"AppraisalKpi",setup(l){const e=(0,i.iH)({}),a=(0,i.iH)({}),V=(0,i.iH)({}),q=(0,i.iH)({}),G=(0,i.iH)({keys:[{key:"",obtainable:""}],type_pid:"",obtainable:0}),J=()=>{G.value.keys.push({key:"",obtainable:""})},L=l=>{let e=G.value.keys.length;1!==e?(G.value.keys.splice(l,1),R()):o.Z.commit("notify",{message:"One key is required to proceed",type:"warning"})},Q=(0,i.iH)(0),R=()=>{Q.value=G.value.keys.reduce(((l,{obtainable:e})=>l+Number(e)),0)};function W(){e.value=[],o.Z.dispatch("postMethod",{url:"/create-appraisal-kpi",param:G.value}).then((l=>{422==l?.status?e.value=l.data:201==l?.status&&(G.value.keys=[{key:"",obtainable:""}])})).catch((l=>{console.log(l)}))}function X(l){o.Z.dispatch("getMethod",{url:"/load-section-kpi/"+l.target.value}).then((e=>{200==e?.status&&(a.value=e.data,V.value=e.data.keys,e?.data?.keys.length?G.value.keys=e.data.keys:G.value.keys=[{key:"",obtainable:""}],G.value.type_pid=l.target.value,G.value.obtainable=e.data.obtainable,R())})).catch((l=>{console.log(l)}))}function $(){o.Z.dispatch("loadDropdown","appraisal-section").then((({data:l})=>{q.value=l})).catch((l=>{console.log(l)}))}return $(),(l,e)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",u,[c,(0,t._)("div",d,[(0,t._)("div",r,[(0,t._)("div",p,[(0,t._)("div",b,[(0,t._)("fieldset",v,[_,(0,t._)("div",y,[m,(0,t._)("select",{class:"form-control",onChange:e[0]||(e[0]=l=>X(l))},[k,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(q.value,(l=>((0,t.wg)(),(0,t.iD)("option",{key:l.pid,value:l.pid},(0,s.zw)(l.name)+" -- "+(0,s.zw)(l.obtainable),9,h)))),128))],32),g]),G.value.type_pid?((0,t.wg)(),(0,t.iD)("form",w,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(G.value.keys,((l,e)=>((0,t.wg)(),(0,t.iD)("fieldset",{key:e},[(0,t._)("div",f,[(0,t._)("div",z,[(0,t._)("div",D,[H,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e=>l.key=e,class:"form-control",placeholder:"e.g mode of request"},null,8,C),[[n.nr,l.key]])])]),(0,t._)("div",K,[(0,t._)("div",A,[S,(0,t._)("div",U,[(0,t.wy)((0,t._)("input",{type:"number",step:"0.1",onChange:R,"onUpdate:modelValue":e=>l.obtainable=e,class:"form-control",placeholder:"e.g 3"},null,40,x),[[n.nr,l.obtainable]]),(0,t._)("button",{type:"button",class:"btn btn-sm btn-warning",onClick:l=>L(e)},Z,8,T)])])])])])))),128)),(0,t.Uk)(" "+(0,s.zw)(Q.value)+" /"+(0,s.zw)(G.value?.obtainable)+" ",1),(0,t._)("button",{type:"button",class:"btn btn-sm btn-primary mt-2",onClick:J},M),Y,(0,t._)("div",{class:"float-end"},[(0,t._)("button",{type:"button",class:"btn btn-success btn-sm mt-2",onClick:W},"Submit")])])):(0,t.kq)("",!0)])])])]),(0,t._)("div",I,[(0,t._)("div",N,[O,(0,t._)("div",P,[(0,t._)("h4",null,(0,s.zw)(a.value.name),1),j,(0,t._)("p",null,(0,s.zw)(a.value.note),1),(0,t._)("div",B,[(0,t._)("table",E,[F,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(V.value,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,s.zw)(e+1),1),(0,t._)("td",null,(0,s.zw)(l.key),1),(0,t._)("td",null,(0,s.zw)(l.obtainable),1)])))),128))])])])])])])])])]))}};const J=G;var L=J}}]);
//# sourceMappingURL=6191.38279a3f.js.map