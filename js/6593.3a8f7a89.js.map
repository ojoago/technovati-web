{"version":3,"file":"js/6593.3a8f7a89.js","mappings":"00BAoDI,MAAMA,GAASC,EAAAA,EAAAA,MACTC,EAAO,CACT,MAAS,GACT,SAAY,GACZ,UAAY,GAEVC,GAASC,EAAAA,EAAAA,IAAI,CAAC,GACpB,SAASC,IACLF,EAAOG,MAAQ,GACfC,EAAAA,EAAMC,SAAS,SAAUN,GAAMO,MAAMC,IACjC,GAAiB,KAAdA,GAAMC,OAEL,OADAR,EAAOG,MAAQI,GAAMA,MACd,EAEN,GAAmB,KAAhBA,GAAMC,OAEV,OADAJ,EAAAA,EAAMK,OAAO,SAAU,CAAEC,QAASH,GAAMG,QAASC,KAAM,YAChD,EAEX,IAAIC,EAAOL,GAAMA,MAAMM,MAAM,GAChB,iBAARD,EACDA,EAAO,WAEM,uBAARA,IACLA,EAAO,cAEXA,EAAOA,EAAK,GAAGE,cAAgBF,EAAKG,UAAU,GAAG,YACjDlB,EAAOmB,KAAK,CAAEJ,KAAMA,GAAO,IAC5BK,OAAMC,IACLd,EAAAA,EAAMK,OAAO,cAAc,GACb,iBAAXS,GAAGC,MACFf,EAAAA,EAAMK,OAAO,SAAU,CAAEC,QAASQ,GAAGR,QAASC,KAAM,WAExDS,QAAQC,IAAIH,EAAE,GAEtB,CAGJ,MAAMI,GAASrB,EAAAA,EAAAA,IAAI,CAACsB,OAAO,KAErBC,GAAcvB,EAAAA,EAAAA,KAAI,GAElBwB,EAAaA,KACfD,EAAYrB,OAAQ,CAAK,EAGvBuB,EAAiBA,KACnBF,EAAYrB,OAAQ,CAAI,EAItBwB,EAAoBA,KACtB3B,EAAOG,MAAQ,GACfC,EAAAA,EAAMC,SAAS,aAAc,CAAEuB,IAAK,mBAAoBC,MAAOP,EAAOnB,QAASG,MAAMC,IAC7D,KAAhBA,GAAMC,OACNR,EAAOG,MAAQI,EAAKA,KACG,KAAhBA,GAAMC,SACbc,EAAOnB,MAAMoB,OAAS,GAC1B,IACDN,OAAMC,IACLd,EAAAA,EAAMK,OAAO,SAAU,CAAEC,QAASQ,GAAGR,QAASC,KAAM,WACpDS,QAAQC,IAAIH,EAAE,GAChB,E,ivCC3GN,MAAMY,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://Technovati/./src/views/guest/SignIn.vue","webpack://Technovati/./src/views/guest/SignIn.vue?cc8e"],"sourcesContent":["<template>\r\n    <div id=\"outer\">\r\n        <div class=\"form\">\r\n            <!-- <h1>Technovati</h1> -->\r\n            <div class=\"ctainer\">\r\n                <div class=\"main\">\r\n                    <div class=\"content\">\r\n                        <h2>Sign In</h2>\r\n                        <form @submit.prevent=\"login\">\r\n                            <input type=\"text\" v-model=\"user.email\" placeholder=\"Enter Email/Username/GSM\">\r\n                            <p class=\"text-danger \" v-if=\"errors?.email\">{{ errors?.email[0] }}</p>\r\n                            <input type=\"password\" v-model=\"user.password\" name=\"\" placeholder=\"Enter Password\">\r\n                            <p class=\"text-danger \" v-if=\"errors?.password\">{{ errors?.password[0] }}</p>\r\n                            <button class=\"btn\">Sign In</button>\r\n                            <p class=\"pointer text-info\" @click=\"forgotPassword\">Forgot Password?</p>\r\n                        </form>\r\n                    </div>\r\n\r\n                    <div class=\"form-img\">\r\n                        <img src=\"../../assets/images/logo.jpg\" class=\"invite-img\" alt=\"tv Logo\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <o-modal :isOpen=\"toggleModal\" modal-class=\"modal-sm\" title=\"Forgot Password\" @submit=\"resetPasswordLink\"\r\n            @modal-close=\"closeModal\">\r\n            <template #content>\r\n                <form id=\"anForm\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-12\">\r\n                            <label class=\"form-label\">Email</label>\r\n                            <input type=\"text\"  class=\"form-control form-control-sm\"\r\n                                placeholder=\"Registred EMail\" v-model=\"forgot.email_\">\r\n                            <p class=\"text-danger \" v-if=\"errors?.email_\">{{ errors?.email_[0] }} </p>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </form>\r\n            </template>\r\n\r\n        </o-modal>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { ref } from 'vue';\r\n    import store from \"../../store\";\r\n    import { useRouter } from 'vue-router';\r\n    import OModal from \"@/components/OModal.vue\";\r\n\r\n    const router = useRouter()\r\n    const user = {\r\n        'email': '',\r\n        'password': '',\r\n        'remember': false\r\n    }\r\n    const errors = ref({})\r\n    function login() {\r\n        errors.value = [];\r\n        store.dispatch('signIn', user).then((data) => {\r\n            if(data?.status==422){\r\n                errors.value = data?.data;\r\n                return false\r\n            }\r\n            else if(data?.status == 204){\r\n                store.commit('notify', { message: data?.message, type: 'danger' })\r\n                return false\r\n            }\r\n            let name = data?.data?.roles[0];\r\n             if (name == 'head_engineer'){\r\n                name = 'Engineer'\r\n            }\r\n            else if (name == 'engineer_supervisor') {\r\n                name = 'Supervisor'\r\n            }\r\n            name = name[0].toUpperCase() + name.substring(1)+'Dashboard'\r\n            router.push({ name: name })\r\n        }).catch(e => {\r\n            store.commit('setSpinner', false)\r\n            if(e?.code == '\"ERR_NETWORK\"'){\r\n                store.commit('notify', { message: e?.message, type: 'danger' })\r\n            }\r\n            console.log(e);\r\n        })\r\n    }\r\n\r\n\r\nconst forgot = ref({email_:''})\r\n\r\nconst toggleModal = ref(false);\r\n\r\nconst closeModal = () => {\r\n    toggleModal.value = false;\r\n};\r\n\r\nconst forgotPassword = () => {\r\n    toggleModal.value = true;\r\n}\r\n\r\n\r\nconst resetPasswordLink = () => {\r\n    errors.value = []\r\n    store.dispatch('postMethod', { url: '/forgot-password', param: forgot.value }).then((data) => {\r\n        if (data?.status == 422) {\r\n            errors.value = data.data\r\n        } else if (data?.status == 201) {\r\n            forgot.value.email_ = ''\r\n        }\r\n    }).catch(e => {\r\n        store.commit('notify', { message: e?.message, type: 'danger' })\r\n        console.log(e);\r\n    })\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n*{\r\n    box-sizing: border-box;\r\n    font-family: sans-serif;\r\n    padding: 0;\r\n    margin: 0;\r\n    /* height: 100vh; */\r\n}\r\n\r\n\r\n.ctainer{\r\n    height: 100%;\r\n}\r\n\r\n.form{\r\n    position: relative;\r\n    z-index: 0;\r\n    background: #000;\r\n    padding: 30px;\r\n    justify-content: center;\r\n    display: grid;\r\n    /* grid-template-rows: 1fr auto 1fr; */\r\n    align-items: center;\r\n}\r\n\r\n\r\n.ctainer{\r\n    max-width: 700px;\r\n    margin-top: 0 auto;\r\n}\r\n\r\n\r\n.form h1{\r\n    text-align: center;\r\n    font-size: 2.5rem;\r\n    font-weight: 400;\r\n    color: #fff;\r\n    font-family: sans-serif;\r\n    text-transform: uppercase;\r\n}\r\n\r\n\r\n.form h2{\r\n    line-height: 40px;\r\n    margin-bottom: 5px;\r\n    font-size: 30px;\r\n    font-weight: 500;\r\n    text-align: center;\r\n}\r\n\r\n\r\n.form .main{\r\n    position: relative;\r\n    display: flex;\r\n    margin: 30px 0;\r\n}\r\n\r\n\r\n.content{\r\n    flex-basis: 50%;\r\n    padding: 3em 3em;\r\n    box-shadow: 2px 9px 49px -17px rgba(0, 0, 0, .1) ;\r\n    border-top-left-radius: 8px;\r\n    border-bottom-left-radius: 8px;\r\n    background: #fff;\r\n    margin: 2px;\r\n}\r\n\r\n.form-img{\r\n    margin: 2px;\r\n    flex-basis: 50%;\r\n    background: #f0f4f8;\r\n    background-size: cover;\r\n    padding: 40px;\r\n    border-top-right-radius: 8px;\r\n    border-bottom-right-radius: 8px;\r\n    align-items: center;\r\n    display: grid;\r\n}\r\n\r\n\r\n.form-img img{\r\n    max-width: 100%;\r\n}\r\n\r\n\r\n.btn,button,input{\r\n    border-radius: 35px;\r\n}\r\n.btn:hover,button:hover{\r\n    color: #272346;\r\n    transition: .5 ease;\r\n}\r\n\r\n/* \r\n.form form{\r\n    margin: 30px 0;\r\n} */\r\n\r\nform input{\r\n    outline: none;\r\n    margin-bottom: 15px;\r\n    font-stretch: 16px;\r\n    color: #999;\r\n    padding: 14px 20px;\r\n    width: 100%;\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    border: none;\r\n    background: #fcfcfc;\r\n    transition: 0.3s ease;\r\n    border: 1px solid #69275c;\r\n}\r\nform input:focus{\r\n    background: transparent;\r\n    border: 1px solid #69275c;\r\n}\r\n\r\n.form button{\r\n    font-size: 18px;\r\n    color: #fff;\r\n    width: 100%;\r\n    background: #69275c; \r\n    font-weight: 600;\r\n    transition: .3 ease;\r\n    padding: 14px 20px;\r\n}\r\n\r\n\r\n@media(max-width: 756px){\r\n    .form .main{\r\n        flex-direction: column;\r\n    }\r\n\r\n    .form form{\r\n        margin-top: 30px;\r\n        margin-bottom: 10px;\r\n    }\r\n    .form-img{\r\n        /* border-radius: 0; */\r\n        border-radius: 15px;\r\n        /* border-bottom-right-radius: 8px; */\r\n        order: 1;\r\n        padding: 20px;\r\n        justify-content: center;\r\n        align-items: center;\r\n        text-align: center !important;\r\n    }\r\n\r\n\r\n    .content{\r\n        order: 2;\r\n        border-radius: 20px;\r\n        /* border-top-right-radius: 8px; */\r\n    }\r\n}\r\n\r\n\r\n</style>","import script from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignIn.vue?vue&type=style&index=0&id=c68c12aa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c68c12aa\"]])\n\nexport default __exports__"],"names":["router","useRouter","user","errors","ref","login","value","store","dispatch","then","data","status","commit","message","type","name","roles","toUpperCase","substring","push","catch","e","code","console","log","forgot","email_","toggleModal","closeModal","forgotPassword","resetPasswordLink","url","param","__exports__"],"sourceRoot":""}