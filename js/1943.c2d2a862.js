"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[1943],{739:function(t,e,a){a.d(e,{PQ:function(){return m}});var n=a(3396),l=a(4870),o=a(9242);const i="https://www.gstatic.com/charts/loader.js";let s=null;const u=new Map;function r(){return void 0!==window.google?Promise.resolve(window.google.charts):(null===s&&(s=new Promise((t=>{const e=document.querySelector('script[src="'.concat(i,'"]')),a=e||document.createElement("script");e||(a.src=i,a.type="text/javascript",document.head.append(a)),a.onload=()=>{void 0!==window.google&&t(window.google.charts)}}))),s)}async function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",{packages:e=["corechart","controls"],language:a="en",mapsApiKey:n}=arguments.length>1?arguments[1]:void 0;const l=await r(),o="".concat(t,"_").concat(e.join("_"),"_").concat(a);if(u.has(o))return u.get(o);const i=new Promise((o=>{l.load(t,{packages:e,language:a,mapsApiKey:n}),l.setOnLoadCallback((()=>o(window.google)))}));return u.set(o,i),i}function d(t,e,a){return null!==t&&e instanceof t.visualization.DataTable||null!==t&&e instanceof t.visualization.DataView?e:null!==t&&Array.isArray(e)?t.visualization.arrayToDataTable(e,a):null!==t&&null!==e&&"object"===typeof e?new t.visualization.DataTable(e):null}function v(t,e,a,n,l,o){const i=(t,e,a)=>{if(void 0===a)throw new Error("please, provide chart type property");return new e.visualization[a](t)};if(null===t)throw new Error("please, provide charts lib property");if(null===a)throw new Error("please, provide chart element property");const s=o||i;return e=s(a,t,n),p(t,e,l),e}function p(t,e,a){if(null!==a)for(const[n,l]of Object.entries(a))null!==t&&null!==e&&t.visualization.events.addListener(e,n,l)}function h(t){let e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;function n(){return a}const l=function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];const i=this,s=function(){e=void 0,t.apply(i,l)};void 0!==e&&clearTimeout(e),e=setTimeout(s,n())};return l}let g=null;const m=(0,n.aZ)({name:"GChart",props:{type:{type:String,required:!0},data:{type:[Array,Object,null],default:()=>[]},isFirstRowLabels:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},version:{type:String,default:"current"},settings:{type:Object,default:()=>({packages:["corechart","table"]})},events:{type:Object,default:null},createChart:{type:Function,default:void 0},resizeDebounce:{type:Number,default:200}},setup(t,e){let{emit:a}=e;const o=(0,l.iH)(null),i=(0,l.iH)(null);function s(){if(null===g||null===o.value)return;const e=d(g,t.data,t.isFirstRowLabels);var a;null!==e&&(null===(a=o.value)||void 0===a||a.draw(e,t.options))}return(0,n.YP)((()=>t.data),(()=>s()),{deep:!0}),(0,n.YP)((()=>t.options),(()=>s()),{deep:!0}),(0,n.YP)((()=>t.type),(()=>{o.value=v(g,o.value,i.value,t.type,t.events,t.createChart),s()})),(0,n.bv)((()=>{c(t.version,t.settings).then((e=>{void 0!==e&&(g=e,o.value=v(g,o.value,i.value,t.type,t.events,t.createChart),a("ready",o.value,e),s())})),t.resizeDebounce>0&&window.addEventListener("resize",h(s,t.resizeDebounce))})),(0,n.Jd)((()=>{null!==o.value&&"function"===typeof o.value.clearChart&&o.value.clearChart(),t.resizeDebounce>0&&window.removeEventListener("resize",h(s,t.resizeDebounce))})),()=>(0,n.h)("div",{ref:i},[])}}),w=(0,o.ri)({});function f(){w.component("GChart",m)}const y={version:"1.1.0",install:f};let b=null;"undefined"!==typeof window&&(b=window.Vue),null!==b&&void 0!==b&&w.use(y)},1796:function(t,e,a){a.d(e,{Z:function(){return f}});var n=a(3396),l=a(7139);const o=t=>((0,n.dD)("data-v-30586156"),t=t(),(0,n.Cn)(),t),i={class:"card com-card"},s={class:"card-header p-1"},u={class:"text-ellipsis"},r={class:"card-body p-2"},c={key:1,class:"icon bi bi-list"},d={class:"h3 count"},v={class:"card-footer p-1"},p={class:"float-end",for:""},h=o((()=>(0,n._)("i",{class:"bi bi-chevron-double-right small"},null,-1)));var g={__name:"CardComponent",props:{title:{type:String,default:"item"},count:{type:Number,default:0},link:{type:String,default:""},icon:{type:String,default:""}},setup(t){return(e,a)=>{const o=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",i,[(0,n._)("div",s,[(0,n._)("span",u,(0,l.zw)(t.title),1)]),(0,n._)("div",r,[t.icon?((0,n.wg)(),(0,n.iD)("i",{key:0,class:(0,l.C_)(["icon",t.icon])},null,2)):((0,n.wg)(),(0,n.iD)("i",c)),(0,n._)("strong",d,(0,l.zw)(t.count),1)]),(0,n._)("div",v,[(0,n._)("label",p,[(0,n.Wm)(o,{to:t.link,class:"nav-link"},{default:(0,n.w5)((()=>[h,(0,n.Uk)(" Details ")])),_:1},8,["to"])])])])])}}},m=a(89);const w=(0,m.Z)(g,[["__scopeId","data-v-30586156"]]);var f=w},5525:function(t,e,a){a.d(e,{Z:function(){return c}});var n=a(3396),l=a(4870),o=a(7139),i=a(739);const s={key:1,class:"text-center p-4 mt-4"};var u={__name:"ChartComponent",props:{length:Number,chart:String,data:Array,options:Array},setup(t){return(e,a)=>((0,n.wg)(),(0,n.iD)("div",null,[t.length>1?((0,n.wg)(),(0,n.j4)((0,l.SU)(i.PQ),{key:0,type:t.chart,data:t.data,options:t.options},null,8,["type","data","options"])):((0,n.wg)(),(0,n.iD)("span",s,(0,o.zw)(t.options.title)+", No Data loaded",1))]))}};const r=u;var c=r},6757:function(t,e,a){a.d(e,{Z:function(){return k}});var n=a(3396),l=a(7139),o=a(2191),i=a(6091),s=a(4870);const u=t=>((0,n.dD)("data-v-4b9f5ed4"),t=t(),(0,n.Cn)(),t),r={class:"attendance-card shadow"},c={class:"card-title h6 text-center"},d={class:"col-outer"},v={class:"col-inner"},p=u((()=>(0,n._)("hr",null,null,-1))),h={class:"col-inner"},g=u((()=>(0,n._)("hr",null,null,-1))),m={key:0,class:"container text-center"},w=["src"],f=u((()=>(0,n._)("div",null,null,-1)));var y={__name:"AttendanceComponent",setup(t){const e=(0,s.iH)(!1),a=(0,s.iH)(null);a.value=(new Date).toDateString();const u=(0,s.iH)();function y(){u.value=(new Date).toLocaleTimeString()}setInterval((()=>y()),1e3);const b=(0,s.iH)("--:--"),_=(0,s.iH)("--:--"),k=(0,s.iH)(null),C=()=>{e.value=!1,W()},D=()=>{e.value=!0,M()},H=(0,s.iH)(null),z=(0,s.iH)(null),A=(0,s.iH)(null),Z=(0,s.iH)(!1),E=(0,s.iH)(!0);let S=null;const T=(0,s.iH)({}),M=async()=>{try{A.value=null,Z.value=!0,E.value=!0,S=await navigator.mediaDevices.getUserMedia({video:!0}),H.value.srcObject=S}catch(t){console.error("Error accessing webcam:",t)}},O=async()=>{L(),P();const t=z.value.getContext("2d");t.drawImage(H.value,0,0,z.value.width,z.value.height),W(),A.value=z.value.toDataURL("image/png"),T.value.image=A,q()},L=()=>{const t=navigator.platform;let e;e=t.toLowerCase().includes("win")?"Windows":t.toLowerCase().includes("mac")?"macOS":t.toLowerCase().includes("linux")?"Linux":"Unknown OS",T.value.platform=e},P=()=>{const t=navigator.userAgent;let e;e=t.includes("Chrome")?"Google Chrome":t.includes("Firefox")?"Mozilla Firefox":t.includes("Safari")?"Apple Safari":t.includes("Edge")?"Microsoft Edge":t.includes("Opera")||t.includes("OPR/")?"Opera":t.includes("Brave")?"Brave":"Unknown Browser",T.value.browser=e},W=()=>{S&&S.getTracks().forEach((t=>t.stop())),E.value=!1},U=(0,s.iH)(null),j=(0,s.iH)(null);(0,n.bv)((()=>{x()}));const x=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{U.value={latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy},T.value.coordinates=U,console.log(t)}),(t=>{j.value=`Error getting location: ${t.message}`,T.value.coordinates=null}),{enableHighAccuracy:!0}):(T.value.coordinates=null,j.value="Geolocation is not supported by your browser.")};function q(){o.Z.dispatch("postMethod",{url:"/clock-in",param:T.value}).then((t=>{201==t?.status&&(k.value=!0,b.value=t?.data?.time_in,e.value=!1)}))}const F=()=>{o.Z.dispatch("getMethod",{url:"/last-check-in"}).then((t=>{200==t?.status&&I(t?.data)}))};(0,n.bv)((()=>{F()}));const B=()=>{o.Z.dispatch("putMethod",{url:"/clock-out",prompt:"are you sure you want to clock out?"}).then((t=>{201==t?.status&&I(t?.data)}))},I=t=>{null==t?k.value=!1:(b.value=t?.time_in,k.value=!0,null!=t.time_out&&(_.value=t?.time_out,k.value=null))};return(t,o)=>{const s=(0,n.up)("center");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",r,[(0,n._)("h5",c,[(0,n.Uk)((0,l.zw)(a.value)+" ",1),(0,n._)("span",null,"| "+(0,l.zw)(u.value),1)]),(0,n._)("div",d,[(0,n._)("div",v,[(0,n.Uk)(" Time in "),p,(0,n.Uk)(" "+(0,l.zw)(b.value),1)]),(0,n._)("div",h,[(0,n.Uk)(" time out "),g,(0,n.Uk)(" "+(0,l.zw)(_.value),1)])]),0==k.value?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:D,class:"btn btn-sm btn-primary actionBtn"},"Clock In")):(0,n.kq)("",!0),1==k.value?((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:B,class:"btn btn-sm btn-danger actionBtn"},"Clock Out")):(0,n.kq)("",!0)]),(0,n.Wm)(i.Z,{isOpen:e.value,"modal-class":"modal-sm",title:"Take Attendance",onModalClose:C},{content:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[E.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:M,class:"btn btn-sm btn-success"},"Retake"))])),_:1}),Z.value?((0,n.wg)(),(0,n.iD)("div",m,[E.value?((0,n.wg)(),(0,n.iD)("video",{key:0,ref_key:"video",ref:H,width:"250",height:"250",autoplay:""},null,512)):(0,n.kq)("",!0),(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[E.value?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:O,class:"text-center btn btn-sm btn-success"},"CAPTURE")):(0,n.kq)("",!0)])),_:1}),(0,n._)("canvas",{ref_key:"canvas",ref:z,width:"250",height:"250",style:{display:"none"}},null,512),A.value?((0,n.wg)(),(0,n.iD)("img",{key:1,src:A.value,alt:"Captured Image"},null,8,w)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])),footer:(0,n.w5)((()=>[f])),_:1},8,["isOpen"])])}}},b=a(89);const _=(0,b.Z)(y,[["__scopeId","data-v-4b9f5ed4"]]);var k=_},1943:function(t,e,a){a.r(e),a.d(e,{default:function(){return Z}});a(560);var n=a(3396),l=a(2191),o=a(4870),i=a(6757),s=a(5525),u=a(1796);const r={class:"container mt-2"},c={class:"card"},d=(0,n._)("div",{class:"card-header"},[(0,n._)("h5",{class:"card-title"},"Engineer Dashboard ")],-1),v={class:"card-body"},p={class:"row"},h={class:"col-md-4"},g={class:"col-md-8"},m={class:"row"},w={class:"col-md-4"},f={class:"col-md-4"},y={class:"col-md-4"},b={class:"row"},_={class:"col-md-5"},k={class:"col-md-7"},C={class:"row"},D={class:"col-md-8"},H={class:"col-md-4"};var z={__name:"EngineerDashboard",setup(t){const e=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=(0,o.iH)({options:{title:"Assembled, this Month",width:400,height:400},data:[]}),z=(0,o.iH)({options:{title:"Assembled, Yearly",width:300,height:300},data:[]}),A=(0,o.iH)({options:{title:"Assembled, Today"},data:[]}),Z=(0,o.iH)({options:{title:"Assembled, Monthly"},data:[]}),E=(0,o.iH)({}),S=()=>{l.Z.dispatch("getMethod",{url:"/load-engineer-dashboard"}).then((t=>{if(200==t?.status){E.value=t.data;let n=t.data.team_monthly;a.value.data.push(["Team","Assembled, this Month"]),n.forEach((t=>{a.value.data.push([t?.team,t.total])}));let l=t.data.team_daily;A.value.data.push(["Date","total"]),l.forEach((t=>{A.value.data.push([t?.team,t.total])}));let o=t?.data?.monthly;console.log(o),Z.value.data.push(["Month","total"]),o.forEach((t=>{Z.value.data.push([e[t?.month],t.total])}));let i=t?.data?.yearly;z.value.data.push(["Year","total"]),i.forEach((t=>{z.value.data.push([t?.year+".",t.total])}))}}))},T=(0,o.iH)({}),M=()=>{l.Z.dispatch("getMethod",{url:"/load-staff-count"}).then((t=>{200==t?.status&&(T.value=t.data)}))};return(0,n.bv)((()=>{M(),S()})),(t,e)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",r,[(0,n._)("div",c,[d,(0,n._)("div",v,[(0,n._)("div",p,[(0,n._)("div",h,[(0,n.Wm)(i.Z)]),(0,n._)("div",g,[(0,n._)("div",m,[(0,n._)("div",w,[(0,n.Wm)(u.Z,{title:"Number of Team",count:E.value.teams,icon:"bi-hash"},null,8,["count"])]),(0,n._)("div",f,[(0,n.Wm)(u.Z,{title:"Full Time Staff",count:T.value.total_staff,icon:"bi-hash"},null,8,["count"])]),(0,n._)("div",y,[(0,n.Wm)(u.Z,{title:"Casual Staff",count:T.value.casual_staff,icon:"bi-hash"},null,8,["count"])])])])]),(0,n._)("div",b,[(0,n._)("div",_,[(0,n.Wm)(s.Z,{length:a.value.data.length,chart:"PieChart",data:a.value.data,options:a.value.options},null,8,["length","data","options"])]),(0,n._)("div",k,[(0,n.Wm)(s.Z,{length:A.value.data.length,chart:"ColumnChart",data:A.value.data,options:A.value.options},null,8,["length","data","options"])])]),(0,n._)("div",C,[(0,n._)("div",D,[(0,n.Wm)(s.Z,{length:Z.value.data.length,chart:"LineChart",data:Z.value.data,options:Z.value.options},null,8,["length","data","options"])]),(0,n._)("div",H,[(0,n.Wm)(s.Z,{length:z.value.data.length,chart:"PieChart",data:z.value.data,options:z.value.options},null,8,["length","data","options"])])])])])])]))}};const A=z;var Z=A}}]);
//# sourceMappingURL=1943.c2d2a862.js.map