"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[1395],{1187:function(l,t,n){n.d(t,{Z:function(){return s}});var e=n(3396);const a=["disabled","innerHTML"];var i={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(t,n)=>((0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("li",{class:"page-item",onClick:n[0]||(n[0]=n=>t.$emit("next",l.link))},[(0,e._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,a)])]))}};const u=i;var s=u},1395:function(l,t,n){n.r(t),n.d(t,{default:function(){return M}});n(560);var e=n(3396),a=n(7139),i=n(4870),u=n(2191),s=n(1187),o=n(6091),d=n(2524),r=n(2483);const c={class:"container mt-2"},_={class:"card"},b=(0,e._)("div",{class:"card-header"},[(0,e._)("h3",null,"Journal List")],-1),v={class:"card-body"},w={class:"table-responsive"},m={class:"table-hover table-stripped table-bordered table"},p=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"SN"),(0,e._)("th",null,"Date"),(0,e._)("th",null,"Ref"),(0,e._)("th",null,"Debit"),(0,e._)("th",null,"Credit"),(0,e._)("th",null,"Note"),(0,e._)("th",null,[(0,e._)("i",{class:"bi bi-gear-fill"})])])],-1),h={key:0,class:"mb-2"},g={class:"dropdown"},k=(0,e._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,e._)("i",{class:"bi bi-tools"})],-1),f={class:"dropdown-menu"},D=["onClick"],y=["onClick"],z={key:1,class:"text-center",style:{width:"100%"},width:"100%"},C=(0,e._)("tr",null,[(0,e._)("td",{colspan:"50"},[(0,e._)("small",{class:"small"},"No Record Yet")])],-1),H=[C],N={class:"flex justify-center mt-4"},T={class:"relative justify-center rounded-md shadow pagination"},j={class:"table-hover table-stripped table-bordered table text-sm"},x=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"S/N"),(0,e._)("th",null,"Account Name"),(0,e._)("th",null,"Amount")])],-1),J=(0,e._)("td",null,[(0,e._)("b",null,"Total")],-1);var S={__name:"JournalListView",setup(l){const t=(0,r.tv)(),{numberFormat:n}=(0,d.H)(),C=(0,i.iH)({});function S(l="/load-journals"){u.Z.dispatch("getMethod",{url:l}).then((l=>{C.value=200==l?.status?l.data:{}})).catch((l=>{console.log(l)}))}S();const L=l=>{localStorage.setItem("TVATI_EDIT_JVC",JSON.stringify(l,null,2)),t.push({path:"journal-entry",query:{jvc:l.pid,action:"edit"}})},M=(0,i.iH)({}),O=(0,i.iH)(!1),U=l=>{M.value=l,O.value=!0},V=()=>{O.value=!1,M.value={}};function Y(l){l.url&&!l.active&&S(l.url)}return(l,t)=>((0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",c,[(0,e._)("div",_,[b,(0,e._)("div",v,[(0,e._)("div",w,[(0,e._)("table",m,[p,C.value.data?((0,e.wg)(),(0,e.iD)("tbody",h,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(C.value.data,((l,t)=>((0,e.wg)(),(0,e.iD)("tr",{key:t},[(0,e._)("td",null,(0,a.zw)(t+1),1),(0,e._)("td",null,(0,a.zw)(l.dates),1),(0,e._)("td",null,(0,a.zw)(l.transaction_number),1),(0,e._)("td",null,(0,a.zw)(l?.debits),1),(0,e._)("td",null,(0,a.zw)(l?.credits),1),(0,e._)("td",null,(0,a.zw)(l.comments),1),(0,e._)("td",null,[(0,e._)("div",g,[k,(0,e._)("ul",f,[(0,e._)("li",null,[(0,e._)("a",{class:"dropdown-item pointer bg-info",onClick:t=>U(l)},"Details",8,D)]),(0,e._)("li",null,[(0,e._)("a",{class:"dropdown-item pointer bg-warning",onClick:t=>L(l)},"Edit",8,y)])])])])])))),128))])):((0,e.wg)(),(0,e.iD)("tfoot",z,H))]),(0,e._)("div",N,[(0,e._)("nav",T,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(C.value.links,((l,t)=>((0,e.wg)(),(0,e.j4)(s.Z,{link:l,key:t,onNext:t=>Y(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,e.Wm)(o.Z,{isOpen:O.value,"modal-class":"modal-lg",title:"Journal Details",onModalClose:V},{content:(0,e.w5)((()=>[(0,e.Uk)(" Date: "+(0,a.zw)(M.value.dates)+" Journal Voucer: "+(0,a.zw)(M.value.transaction_number)+" ",1),(0,e._)("table",j,[x,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(M.value.entries,((l,t)=>((0,e.wg)(),(0,e.iD)("tr",{key:t},[(0,e._)("td",null,(0,a.zw)(t+1),1),(0,e._)("td",null,(0,a.zw)(l.credit?"Cr | "+l.credit?.account_name:"Dr | "+l.debit?.account_name),1),(0,e._)("td",null,(0,a.zw)(l.credit_amount>0?(0,i.SU)(n)(l.credit_amount):(0,i.SU)(n)(l.debit_amount)),1)])))),128))]),(0,e._)("tfoot",null,[(0,e._)("tr",null,[J,(0,e._)("td",null," Credit "+(0,a.zw)(M.value.credits),1),(0,e._)("td",null," Debit "+(0,a.zw)(M.value.debits),1)])])]),(0,e.Uk)(" "+(0,a.zw)(M.value.comments),1)])),_:1},8,["isOpen"])]))}};const L=S;var M=L}}]);
//# sourceMappingURL=1395.bba9acec.js.map