"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[1519],{1187:function(e,l,a){a.d(l,{Z:function(){return i}});var t=a(3396);const n=["disabled","innerHTML"];var s={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(e){return(l,a)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>l.$emit("next",e.link))},[(0,t._)("span",{class:"page-link pointer",href:"#",disabled:!e.link.url,innerHTML:e.link.label},null,8,n)])]))}};const o=s;var i=o},1519:function(e,l,a){a.r(l),a.d(l,{default:function(){return $}});a(560);var t=a(3396),n=a(7139),s=a(9242),o=a(4870),i=a(2191),d=a(6204),u=a(1187),c=a(6091),r=a(6368),m=a(2483);const p={class:"container mt-2"},_={class:"card"},v=(0,t._)("div",{class:"card-header h3"},"Teams",-1),b={class:"card-body"},w={class:"table-responsive"},g={class:"table-hover table-stripped table-bordered table"},h=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"TASK"),(0,t._)("th",null,"DESCRIPTION"),(0,t._)("th",null,"TEAM lead"),(0,t._)("th",null,"Status"),(0,t._)("th",null,"Member"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-gear-fill"})])])],-1),k={class:"dropdown"},f=(0,t._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,t._)("i",{class:"bi bi-tools"})],-1),y={class:"dropdown-menu"},T=["onClick"],x=["onClick"],D=["onClick"],C={class:"flex justify-center mt-4"},S={class:"relative justify-center rounded-md shadow pagination"},z={id:"teamForm"},Z={class:"row"},H={class:"col-md-12"},M={class:"form-group"},V=(0,t._)("label",{class:"form-label"},"Team",-1),A={key:0,class:"text-danger"},O={class:"col-md-12"},U={class:"form-group"},q=(0,t._)("label",{class:"form-label"},"Description",-1),L={key:0,class:"text-danger"},N={class:"col-md-12"},E=(0,t._)("label",{class:"form-label"},"Team Lead",-1),I={key:0,class:"text-danger"},W={id:"teamForm"},j={class:"row"},F={class:"col-md-12"},K={class:"col-md-12"},P=(0,t._)("label",{class:"form-label"},"Team Lead",-1),J={key:0,class:"text-danger"};var R={__name:"TeamView",setup(e){const l=(0,m.tv)(),a=(0,o.iH)(!1),R=(0,o.iH)(!1),Y=()=>{a.value=!0},$=()=>{a.value=!1,R.value=!1},B=(0,o.iH)({}),G=(0,o.iH)({}),Q=(0,o.iH)({team:"",description:"",team_lead:"",pid:""}),X=()=>{Q.value={team:"",description:"",team_lead:"",pid:""},a.value=!1},ee=e=>{Q.value={team:e.team,description:e.description,team_lead:e.team_lead,pid:e.pid},a.value=!0},le=e=>{i.Z.dispatch("putMethod",{url:"/toggle-team-status/"+e}).then((e=>{if(201==e?.status){let e=document.querySelector("#teamForm");e.reset()}}))},ae=e=>{localStorage.setItem("TVATI_TEAM_DETAIL",JSON.stringify(e,null,2)),l.push({path:"team-detail",query:{team:e.pid}})};function te(){B.value=[],i.Z.dispatch("postMethod",{url:"/create-team",param:Q.value}).then((e=>{422==e?.status?B.value=e.data:201==e?.status&&(X(),ne())}))}function ne(){i.Z.dispatch("getMethod",{url:"/load-team/"+i.Z?.state?.activeRole}).then((e=>{200==e?.status&&(G.value=e.data)})).catch((e=>{console.log(e)}))}ne();const se=(0,o.iH)({});function oe(){i.Z.dispatch("loadDropdown","users").then((({data:e})=>{se.value=e})).catch((e=>{console.log(e)}))}function ie(e){alert(),e.url&&!e.active&&alert(e.url)}return oe(),(e,l)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",p,[(0,t._)("div",_,[v,(0,t._)("div",b,[(0,t._)("button",{class:"btn btn-sm btn-primary m-2",onClick:Y},"Add New"),(0,t._)("div",w,[(0,t._)("table",g,[h,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(G.value.data,((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:l},[(0,t._)("td",null,(0,n.zw)(l+1),1),(0,t._)("td",null,(0,n.zw)(e.team),1),(0,t._)("td",null,(0,n.zw)(e.description),1),(0,t._)("td",null,(0,n.zw)(e?.lead?.username),1),(0,t._)("td",null,(0,n.zw)(e.team_status),1),(0,t._)("td",null,(0,n.zw)(e.teams_count),1),(0,t._)("td",null,[(0,t._)("div",k,[f,(0,t._)("ul",y,[(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-info",onClick:l=>ae(e)},"Details",8,T)]),(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-warning",onClick:l=>ee(e)},"Edit Team",8,x)]),(0,t._)("li",null,[(0,t._)("a",{class:"bg-danger dropdown-item pointer",onClick:l=>le(e.pid)},"Delete Team",8,D)])])])])])))),128))])]),(0,t._)("div",C,[(0,t._)("nav",S,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(G.value.links,((e,l)=>((0,t.wg)(),(0,t.j4)(u.Z,{link:e,key:l,onNext:l=>ie(e)},null,8,["link","onNext"])))),128))])])])])])]),(0,t.Wm)(c.Z,{isOpen:a.value,"modal-class":"modal-xs",title:"Create Team",onSubmit:te,onModalClose:$},{content:(0,t.w5)((()=>[(0,t._)("form",z,[(0,t._)("div",Z,[(0,t._)("div",H,[(0,t._)("div",M,[V,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>Q.value.team=e),class:"form-control",placeholder:"e.g Team A"},null,512),[[s.nr,Q.value.team]]),B.value?.team?((0,t.wg)(),(0,t.iD)("p",A,(0,n.zw)(B.value?.team[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",O,[(0,t._)("div",U,[q,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>Q.value.description=e),class:"form-control",placeholder:"describe the team"},null,512),[[s.nr,Q.value.description]]),B.value?.description?((0,t.wg)(),(0,t.iD)("p",L,(0,n.zw)(B.value?.description[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",N,[E,(0,t.Wm)((0,o.SU)(d.Z),{modelValue:Q.value.team_lead,"onUpdate:modelValue":l[2]||(l[2]=e=>Q.value.team_lead=e),options:se.value},null,8,["modelValue","options"]),B.value?.team_lead?((0,t.wg)(),(0,t.iD)("p",I,(0,n.zw)(B.value?.team_lead[0]),1)):(0,t.kq)("",!0)])])])])),_:1},8,["isOpen"]),(0,t.Wm)(c.Z,{isOpen:R.value,"modal-class":"modal-xs",title:"Create Team",onSubmit:te,onModalClose:$},{content:(0,t.w5)((()=>[(0,t._)("form",W,[(0,t._)("div",j,[(0,t._)("div",F,[(0,t.Wm)((0,o.SU)(r.J),{class:"zindex",options:se.value,multiple:!0,"close-on-select":!0,placeholder:"Pick Department",label:"text","track-by":"id"},null,8,["options"])]),(0,t._)("div",K,[P,(0,t.Wm)((0,o.SU)(d.Z),{modelValue:Q.value.team_lead,"onUpdate:modelValue":l[3]||(l[3]=e=>Q.value.team_lead=e),options:se.value},null,8,["modelValue","options"]),B.value?.team_lead?((0,t.wg)(),(0,t.iD)("p",J,(0,n.zw)(B.value?.team_lead[0]),1)):(0,t.kq)("",!0)])])])])),_:1},8,["isOpen"])]))}};const Y=R;var $=Y}}]);
//# sourceMappingURL=1519.9830e72c.js.map