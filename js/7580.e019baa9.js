"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[7580],{7580:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});l(560);var a=l(3396),s=l(7139),n=l(9242),u=l(2191),o=l(4870),i=l(2483);const c=e=>((0,a.dD)("data-v-00759b90"),e=e(),(0,a.Cn)(),e),d={class:"container mt-2"},r={class:"card"},m=c((()=>(0,a._)("div",{class:"card-header"},"Inventory Item Request",-1))),_={class:"card-body"},p={class:"row"},v={class:"col-md-8",id:"_main"},b=c((()=>(0,a._)("input",{type:"text",class:"form-control form-control-sm",placeholder:"search Item"},null,-1))),h={class:"table-responsive"},w={class:"table-hover table-stripped table-bordered table"},g=c((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"SN"),(0,a._)("th",null,"Request Note"),(0,a._)("th",null,"Requested By"),(0,a._)("th",null,"Items"),(0,a._)("th",null,"Receiver"),(0,a._)("th",null,"time"),(0,a._)("th",{align:"center"},[(0,a._)("i",{class:"bi bi-gear-fill"})])])],-1))),y=["onClick"],f=c((()=>(0,a._)("i",{class:"bi bi-plus"},null,-1))),q=[f],k={class:"col-md-4",id:"_side"},D={class:"border rounded-3 p-2 m-1"},I=c((()=>(0,a._)("legend",{class:"float-none w-auto px-2 h5"},"Request Item List",-1))),z={key:0,id:"itemForm"},C={class:"border rounded-3 p-2 m-1"},R={class:"form-label"},H={class:"input-group"},U={class:"bg-light p-1"},x=["onUpdate:modelValue"],T={class:"row"},Z={class:"col-md-12"},M=c((()=>(0,a._)("label",{class:"form-label"},"Comment",-1))),V={key:0,class:"text-danger"};var N={__name:"PendingItemRequest",setup(e){const t=(0,i.tv)(),l=(0,o.iH)({}),c=(0,o.iH)({}),f=(0,o.iH)({request_pid:"",waybill:"",comment:"",items:[]});function N(){l.value=[],u.Z.dispatch("postMethod",{url:"/process-pending-item-request",param:f.value}).then((e=>{422==e?.status?l.value=e.data:201==e?.status&&S(f.value)}))}function S(e){localStorage.setItem("TVATI_MY_RQ_DETAIL",JSON.stringify(e,null,2)),f.value.items=[],f.value.comment="",t.push({path:"my-request-details",query:{request:e.request_pid}})}function Y(e){f.value.request_pid=e.pid,f.value.waybill=e.waybill,u.Z.dispatch("getMethod",{url:"/load-pending-item-request-detail/"+e.waybill}).then((e=>{f.value.items=200==e?.status?e.data:[]})).catch((e=>{console.log(e)}))}function A(){u.Z.dispatch("getMethod",{url:"/load-pending-item-request"}).then((e=>{200==e?.status&&(c.value=e.data)})).catch((e=>{console.log(e)}))}A();const K=(0,o.iH)({});function L(){u.Z.dispatch("loadDropdown","users").then((({data:e})=>{K.value=e})).catch((e=>{console.log(e)}))}return L(),(e,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",d,[(0,a._)("div",r,[m,(0,a._)("div",_,[(0,a.Uk)((0,s.zw)(f.value)+" ",1),(0,a._)("div",p,[(0,a._)("div",v,[b,(0,a._)("div",h,[(0,a._)("table",w,[g,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.value?.data,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,s.zw)(t+1),1),(0,a._)("td",null,(0,s.zw)(e.comment),1),(0,a._)("td",null,(0,s.zw)(e?.request?.username),1),(0,a._)("td",null,(0,s.zw)(e.items_count),1),(0,a._)("td",null,(0,s.zw)(e?.receiver?.username??e?.user?.username),1),(0,a._)("td",null,(0,s.zw)(e.request_time),1),(0,a._)("td",null,[0==e.status?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t=>Y(e),type:"button",class:"btn btn-primary btn-sm"},q,8,y)):(0,a.kq)("",!0)])])))),128))])])])]),(0,a._)("div",k,[(0,a._)("fieldset",D,[I,f.value?.items.length?((0,a.wg)(),(0,a.iD)("form",z,[(0,a._)("fieldset",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.value?.items,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-12",key:t},[(0,a._)("label",R,(0,s.zw)(e.name),1),(0,a._)("div",H,[(0,a._)("span",U,"#"+(0,s.zw)(e.quantity),1),(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t=>e.quantity_requested=t,class:"form-control",placeholder:"e.g 5"},null,8,x),[[n.nr,e.quantity_requested]])])])))),128))]),(0,a._)("div",T,[(0,a._)("div",Z,[M,(0,a.wy)((0,a._)("textarea",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>f.value.comment=e),class:"form-control form-control-sm",placeholder:"e.g UIU"},null,512),[[n.nr,f.value.comment]]),l.value?.comment?((0,a.wg)(),(0,a.iD)("p",V,(0,s.zw)(l.value?.comment[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",{class:"float-end"},[(0,a._)("button",{type:"button",class:"btn btn-success btn-sm mt-2",onClick:N},"Process")])])):(0,a.kq)("",!0)])])])])])])]))}},S=l(89);const Y=(0,S.Z)(N,[["__scopeId","data-v-00759b90"]]);var A=Y}}]);
//# sourceMappingURL=7580.e019baa9.js.map