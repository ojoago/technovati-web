"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[1023],{1187:function(l,e,a){a.d(e,{Z:function(){return u}});var n=a(3396);const o=["disabled","innerHTML"];var t={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(e,a)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>e.$emit("next",l.link))},[(0,n._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,o)])]))}};const s=t;var u=s},1023:function(l,e,a){a.r(e),a.d(e,{default:function(){return ol}});var n=a(3396),o=a(7139),t=a(4870),s=a(9242),u=a(2191),c=a(1187),i=a(6368),d=a(6091);const r={class:"container mt-2"},p={class:"card"},m={class:"card-body"},v={class:"table-responsive"},_={class:"table-hover table-stripped table-bordered table"},b=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"SN"),(0,n._)("th",null,"Allowance"),(0,n._)("th",null,"Amount"),(0,n._)("th",null,"Staff"),(0,n._)("th",null,"Start"),(0,n._)("th",null,"End"),(0,n._)("th",null,"Type"),(0,n._)("th",null,[(0,n._)("i",{class:"bi bi-pencil-fill"})])])],-1),w={class:"dropdown"},g=(0,n._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,n._)("i",{class:"bi bi-tools"})],-1),y={class:"dropdown-menu"},f={class:"bg-warning"},h=["onClick"],k={class:"bg-danger"},x=["onClick"],D={class:"flex justify-center mt-4"},V={class:"relative justify-center rounded-md shadow pagination"},S={class:"row"},z={class:"col-md-12"},C={class:"form-group"},H=(0,n._)("label",{class:"form-label"},"Allowance",-1),A={key:0,class:"text-danger"},U={class:"col-md-6"},E={class:"form-group"},N=(0,n._)("label",{class:"form-label"},"Value Type",-1),T=(0,n._)("option",{value:"",selected:""},"Select Type",-1),W=(0,n._)("option",{value:"1"},"Fixed",-1),Z=(0,n._)("option",{value:"2"},"Percentage of basic",-1),M=[T,W,Z],q={key:0,class:"text-danger"},O={class:"col-md-6"},j={class:"form-group"},P=(0,n._)("label",{class:"form-label"},"Amount",-1),F={key:0,class:"text-danger"},K={class:"col-md-12"},L={class:"form-group"},Y=(0,n._)("label",{class:"form-label"},"Employee Excluded",-1),I={key:0,class:"text-danger"},J={class:"col-md-6"},B={class:"form-group"},G=(0,n._)("label",{class:"form-label"},"Start month",-1),R={key:0,class:"text-danger"},X={class:"col-md-6"},$={class:"form-group"},Q=(0,n._)("label",{class:"form-label"},"End Month",-1),ll={key:0,class:"text-danger"},el="modal-lg";var al={__name:"NontaxableAllowanceView",setup(l){const e=(0,t.iH)(!1),a=()=>{e.value=!0},T=()=>{e.value=!1},W=(0,t.iH)({}),Z=(0,t.iH)({allowance_pid:"",employees:"",begin:"",end:"",value_type:"",amount:""}),al=l=>{Z.value={allowance_pid:l.allowance_pid,employees:l.employees,begin:l.begin,end:l.end,value_type:l.value_type,amount:l.amount,pid:l.pid},e.value=!0},nl=l=>{alert(l)};function ol(){W.value=[],u.Z.dispatch("postMethod",{url:"/create-non-taxable-allowance",param:Z.value}).then((l=>{422==l?.status?W.value=l.data:201==l?.status&&cl()})).catch((l=>{console.log(l)}))}const tl=(0,t.iH)({});function sl(){u.Z.dispatch("getMethod",{url:"/load-nontaxable-allowance"}).then((l=>{u.Z.commit("setSpinner",!1),200==l?.status&&(tl.value=l.data)})).catch((l=>{console.log(l)}))}const ul=(0,t.iH)([]);function cl(){u.Z.dispatch("loadDropdown","allowance-names").then((({data:l})=>{ul.value=l})).catch((l=>{console.log(l),alert("Something Went Wrong")}))}cl();const il=(0,t.iH)([]);function dl(){u.Z.dispatch("loadDropdown","users").then((({data:l})=>{il.value=l})).catch((l=>{console.log(l),alert("Something Went Wrong")}))}function rl(l){alert(),l.url&&!l.active&&alert(l.url)}return dl(),sl(),(l,u)=>{const sl=(0,n.up)("Select2");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",r,[(0,n._)("div",p,[(0,n._)("div",{class:"card-header"},[(0,n.Uk)("Nontaxable Allowance "),(0,n._)("button",{class:"btn btn-sm btn-primary",onClick:a},"Add New")]),(0,n._)("div",m,[(0,n._)("div",v,[(0,n._)("table",_,[b,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(tl.value.data,((l,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:e},[(0,n._)("td",null,(0,o.zw)(e+1),1),(0,n._)("td",null,(0,o.zw)(l.allowance.name),1),(0,n._)("td",null,(0,o.zw)(l.amount),1),(0,n._)("td",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.employees,(l=>((0,n.wg)(),(0,n.iD)("span",{key:l.pid,class:"badge bg-dark p-1 m-1"},(0,o.zw)(l.text),1)))),128))]),(0,n._)("td",null,(0,o.zw)(l.begin),1),(0,n._)("td",null,(0,o.zw)(l.end),1),(0,n._)("td",null,(0,o.zw)(1==l.value_type?"FIXED":"PERCENTAGE OF BASIC"),1),(0,n._)("td",null,[(0,n._)("div",w,[g,(0,n._)("ul",y,[(0,n._)("li",f,[(0,n._)("a",{class:"dropdown-item pointer",onClick:e=>al(l)},"Edit",8,h)]),(0,n._)("li",k,[(0,n._)("a",{class:"dropdown-item pointer",onClick:e=>nl(l.id)},"Delete",8,x)])])])])])))),128))])]),(0,n._)("div",D,[(0,n._)("nav",V,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(tl.value.links,((l,e)=>((0,n.wg)(),(0,n.j4)(c.Z,{link:l,key:e,onNext:e=>rl(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,n.Wm)(d.Z,{isOpen:e.value,onSubmit:ol,"modal-class":el,title:"Nontaxable Allowance",onModalClose:T},{content:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n._)("form",null,[(0,n._)("div",S,[(0,n._)("div",z,[(0,n._)("div",C,[H,(0,n.Wm)(sl,{modelValue:Z.value.allowance_pid,"onUpdate:modelValue":u[0]||(u[0]=l=>Z.value.allowance_pid=l),options:ul.value,settings:{width:"100%"}},null,8,["modelValue","options"]),(0,n._)("div",null,[(0,n.Wm)((0,t.SU)(i.J),{modelValue:Z.value.allowance,"onUpdate:modelValue":u[1]||(u[1]=l=>Z.value.allowance=l),options:ul.value,"close-on-select":!0,"clear-on-select":!1,placeholder:"Select Option",label:"name","track-by":"pid"},null,8,["modelValue","options"])]),W.value?.allowance?((0,n.wg)(),(0,n.iD)("p",A,(0,o.zw)(W.value?.allowance[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",U,[(0,n._)("div",E,[N,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":u[2]||(u[2]=l=>Z.value.value_type=l),class:"form-control form-control-sm"},M,512),[[s.bM,Z.value.value_type]]),W.value?.value_type?((0,n.wg)(),(0,n.iD)("p",q,(0,o.zw)(W.value?.value_type[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",O,[(0,n._)("div",j,[P,(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":u[3]||(u[3]=l=>Z.value.amount=l),class:"form-control form-control-sm",placeholder:"e.g 5,000"},null,512),[[s.nr,Z.value.amount]]),W.value?.amount?((0,n.wg)(),(0,n.iD)("p",F,(0,o.zw)(W.value?.amount[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",K,[(0,n._)("div",L,[Y,(0,n._)("div",null,[(0,n.Wm)((0,t.SU)(i.J),{modelValue:Z.value.employees,"onUpdate:modelValue":u[4]||(u[4]=l=>Z.value.employees=l),options:il.value,multiple:!0,"close-on-select":!0,placeholder:"Pick staff",label:"text","track-by":"id"},null,8,["modelValue","options"])]),W.value?.employees?((0,n.wg)(),(0,n.iD)("p",I,(0,o.zw)(W.value?.employees[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",J,[(0,n._)("div",B,[G,(0,n.wy)((0,n._)("input",{type:"date","onUpdate:modelValue":u[5]||(u[5]=l=>Z.value.begin=l),class:"form-control form-control-sm"},null,512),[[s.nr,Z.value.begin]]),W.value?.begin?((0,n.wg)(),(0,n.iD)("p",R,(0,o.zw)(W.value?.begin[0]),1)):(0,n.kq)("",!0)])]),(0,n._)("div",X,[(0,n._)("div",$,[Q,(0,n.wy)((0,n._)("input",{type:"date","onUpdate:modelValue":u[6]||(u[6]=l=>Z.value.end=l),class:"form-control form-control-sm"},null,512),[[s.nr,Z.value.end]]),W.value?.end?((0,n.wg)(),(0,n.iD)("p",ll,(0,o.zw)(W.value?.end[0]),1)):(0,n.kq)("",!0)])])])])])])),_:1},8,["isOpen"])])}}};const nl=al;var ol=nl}}]);
//# sourceMappingURL=1023.a02a48c5.js.map