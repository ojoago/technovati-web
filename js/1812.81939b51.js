"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[1812],{739:function(e,t,a){a.d(t,{PQ:function(){return w}});var l=a(3396),n=a(4870),o=a(9242);const r="https://www.gstatic.com/charts/loader.js";let s=null;const u=new Map;function i(){return void 0!==window.google?Promise.resolve(window.google.charts):(null===s&&(s=new Promise((e=>{const t=document.querySelector('script[src="'.concat(r,'"]')),a=t||document.createElement("script");t||(a.src=r,a.type="text/javascript",document.head.append(a)),a.onload=()=>{void 0!==window.google&&e(window.google.charts)}}))),s)}async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",{packages:t=["corechart","controls"],language:a="en",mapsApiKey:l}=arguments.length>1?arguments[1]:void 0;const n=await i(),o="".concat(e,"_").concat(t.join("_"),"_").concat(a);if(u.has(o))return u.get(o);const r=new Promise((o=>{n.load(e,{packages:t,language:a,mapsApiKey:l}),n.setOnLoadCallback((()=>o(window.google)))}));return u.set(o,r),r}function d(e,t,a){return null!==e&&t instanceof e.visualization.DataTable||null!==e&&t instanceof e.visualization.DataView?t:null!==e&&Array.isArray(t)?e.visualization.arrayToDataTable(t,a):null!==e&&null!==t&&"object"===typeof t?new e.visualization.DataTable(t):null}function p(e,t,a,l,n,o){const r=(e,t,a)=>{if(void 0===a)throw new Error("please, provide chart type property");return new t.visualization[a](e)};if(null===e)throw new Error("please, provide charts lib property");if(null===a)throw new Error("please, provide chart element property");const s=o||r;return t=s(a,e,l),v(e,t,n),t}function v(e,t,a){if(null!==a)for(const[l,n]of Object.entries(a))null!==e&&null!==t&&e.visualization.events.addListener(t,l,n)}function h(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;function l(){return a}const n=function(){for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];const r=this,s=function(){t=void 0,e.apply(r,n)};void 0!==t&&clearTimeout(t),t=setTimeout(s,l())};return n}let f=null;const w=(0,l.aZ)({name:"GChart",props:{type:{type:String,required:!0},data:{type:[Array,Object,null],default:()=>[]},isFirstRowLabels:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},version:{type:String,default:"current"},settings:{type:Object,default:()=>({packages:["corechart","table"]})},events:{type:Object,default:null},createChart:{type:Function,default:void 0},resizeDebounce:{type:Number,default:200}},setup(e,t){let{emit:a}=t;const o=(0,n.iH)(null),r=(0,n.iH)(null);function s(){if(null===f||null===o.value)return;const t=d(f,e.data,e.isFirstRowLabels);var a;null!==t&&(null===(a=o.value)||void 0===a||a.draw(t,e.options))}return(0,l.YP)((()=>e.data),(()=>s()),{deep:!0}),(0,l.YP)((()=>e.options),(()=>s()),{deep:!0}),(0,l.YP)((()=>e.type),(()=>{o.value=p(f,o.value,r.value,e.type,e.events,e.createChart),s()})),(0,l.bv)((()=>{c(e.version,e.settings).then((t=>{void 0!==t&&(f=t,o.value=p(f,o.value,r.value,e.type,e.events,e.createChart),a("ready",o.value,t),s())})),e.resizeDebounce>0&&window.addEventListener("resize",h(s,e.resizeDebounce))})),(0,l.Jd)((()=>{null!==o.value&&"function"===typeof o.value.clearChart&&o.value.clearChart(),e.resizeDebounce>0&&window.removeEventListener("resize",h(s,e.resizeDebounce))})),()=>(0,l.h)("div",{ref:r},[])}}),g=(0,o.ri)({});function m(){g.component("GChart",w)}const b={version:"1.1.0",install:m};let y=null;"undefined"!==typeof window&&(y=window.Vue),null!==y&&void 0!==y&&g.use(b)},5525:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(3396),n=a(4870),o=a(7139),r=a(739);const s={key:1,class:"text-center p-4 mt-4"};var u={__name:"ChartComponent",props:{length:Number,chart:String,data:Array,options:Array},setup(e){return(t,a)=>((0,l.wg)(),(0,l.iD)("div",null,[e.length>1?((0,l.wg)(),(0,l.j4)((0,n.SU)(r.PQ),{key:0,type:e.chart,data:e.data,options:e.options},null,8,["type","data","options"])):((0,l.wg)(),(0,l.iD)("span",s,(0,o.zw)(e.options.title)+", No Data loaded",1))]))}};const i=u;var c=i},1812:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});a(560);var l=a(3396),n=a(9242),o=a(7139),r=a(2191),s=a(4870),u=a(5525);const i={class:"container mt-2"},c={class:"card"},d={class:"card-header h3"},p={class:"float-end"},v={class:"row w-full"},h={class:"col-md-6"},f={class:"col-md-6"},w={class:"input-group"},g=(0,l._)("i",{class:"bi bi-filter"},null,-1),m=[g],b={class:"card-body"},y={class:"row"},_={class:"col-md-6"},z={class:"table-responsive"},D={class:"table-hover table-stripped table-bordered table"},k=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Staff"),(0,l._)("th",null,"Date"),(0,l._)("th",{align:"right"},"Total")])],-1),C={align:"right"},T={class:"col-md-6"},j={class:"table-responsive"},H={class:"table-hover table-stripped table-bordered table"},S=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Staff"),(0,l._)("th",{align:"right"},"Total")])],-1),A={align:"right"};var P={__name:"WorkSheetView",setup(e){const t=(0,s.iH)({options:{title:"Assembled this Month",width:500,height:500},data:[]}),a=(0,s.iH)({}),g=(0,s.iH)({from:"",to:""}),P=()=>{a.value=[],r.Z.dispatch("postMethod",{url:"/filter-records",param:g.value}).then((e=>{if(422==e?.status)a.value=e.data;else if(200==e?.status){L.value=e.data;let a=e.data.groups;t.value.title="Selected Range",t.value.data=[],t.value.data.push(["Worker","Total"]),a.forEach((e=>{t.value.data.push([e?.casual?e?.casual?.username:e?.user?.username,e.total])}))}else L.value={},t.value.data=[]}))},E=(0,s.iH)({});function Z(){r.Z.dispatch("getMethod",{url:"/load-team/"+r.Z?.state?.activeRole}).then((e=>{200==e?.status&&(E.value=e.data)}))}Z();const L=(0,s.iH)({});function O(){r.Z.dispatch("getMethod",{url:"/load-records"}).then((e=>{if(200==e?.status){L.value=e.data;let a=e.data.groups;t.value.data.push(["Worker","Total"]),a.forEach((e=>{t.value.data.push([e?.casual?e?.casual?.username:e?.user?.username,e.total])}))}}))}O();const M=(0,s.iH)({});function V(){r.Z.dispatch("loadDropdown","device").then((({data:e})=>{M.value=e})).catch((e=>{console.log(e)}))}return V(),(e,a)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",i,[(0,l._)("div",c,[(0,l._)("div",d,[(0,l.Uk)("Work Sheet "),(0,l._)("div",p,[(0,l._)("form",null,[(0,l._)("div",v,[(0,l._)("div",h,[(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=e=>g.value.from=e),class:"form-control form-control-sm"},null,512),[[n.nr,g.value.from]])]),(0,l._)("div",f,[(0,l._)("div",w,[(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=e=>g.value.to=e),class:"form-control form-control-sm"},null,512),[[n.nr,g.value.to]]),(0,l._)("button",{class:"btn btn-sm btn-primary",type:"button",onClick:P},m)])])])])])]),(0,l._)("div",b,[(0,l._)("div",y,[(0,l._)("div",_,[(0,l._)("div",z,[(0,l._)("table",D,[k,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(L.value.records,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,o.zw)(e?.casual?e?.casual?.username:e?.user?.username),1),(0,l._)("td",null,(0,o.zw)(e?.date),1),(0,l._)("td",C,(0,o.zw)(e.total),1)])))),128))])])])]),(0,l._)("div",T,[(0,l.Wm)(u.Z,{length:t.value.data.length,chart:"PieChart",data:t.value.data,options:t.value.options},null,8,["length","data","options"]),(0,l._)("div",j,[(0,l._)("table",H,[S,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(L.value.groups,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,o.zw)(e?.casual?e?.casual?.username:e?.user?.username),1),(0,l._)("td",A,(0,o.zw)(e.total),1)])))),128))])])])])])])])])]))}};const E=P;var Z=E}}]);
//# sourceMappingURL=1812.81939b51.js.map