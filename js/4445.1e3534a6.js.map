{"version":3,"file":"js/4445.1e3534a6.js","mappings":"+fAGA,MAAMA,EAAc,EAEpB,O,+0CCgGA,MAAMC,GAAOC,EAAAA,EAAAA,KAAI,GAEXC,GAAcD,EAAAA,EAAAA,KAAI,GAElBE,EAAaA,KACfD,EAAYE,OAAQ,CAAK,EAGvBC,GAASJ,EAAAA,EAAAA,IAAI,CACfK,KAAK,GACLC,GAAG,GACHC,SAAS,KAGPC,EAAcA,KAChBC,GAAgB,EAGpBA,IAEA,MAAMC,GAAaV,EAAAA,EAAAA,IAAI,CAAC,GACxB,SAASS,EAAeE,EAAM,0BAC1BZ,EAAKI,OAAQ,EACbS,EAAAA,EAAMC,SAAS,YAAa,CAAEF,IAAKA,IAAOG,MAAMC,IAExCL,EAAWP,MAAQY,EAAKA,IAG5B,GAER,CAEA,MAAMC,GAAShB,EAAAA,EAAAA,IAAI,CAAC,GACdiB,EAAmBA,KACrBD,EAAOb,MAAQ,GACfS,EAAAA,EAAMC,SAAS,aAAc,CAAEF,IAAK,2BAA4BO,MAAOd,EAAOD,QAASW,MAAMC,IACrE,KAAhBA,GAAMI,OACNH,EAAOb,MAAQY,EAAKA,KACG,KAAhBA,GAAMI,SACbpB,EAAKI,OAAQ,EACbO,EAAWP,MAAQY,EAAKA,KACxBd,EAAYE,OAAQ,EACxB,GACF,EAKAiB,GAAQpB,EAAAA,EAAAA,IAAI,IAClB,SAASqB,IACLT,EAAAA,EAAMC,SAAS,eAAgB,SAASC,MAAK,EAAGC,WAC5CK,EAAMjB,MAAQY,CAAI,IACnBO,OAAMC,IACLC,QAAQC,IAAIF,EAAE,GAEtB,CAIA,SAASG,EAASC,GACTA,EAAKhB,MAAOgB,EAAKC,QAGtBnB,EAAekB,EAAKhB,IACxB,C,OARAU,I,gqECvJA,MAAMvB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://Technovati/./src/components/PaginationLinks.vue","webpack://Technovati/./src/views/attendance/StaffAttendance.vue","webpack://Technovati/./src/views/attendance/StaffAttendance.vue?2405"],"sourcesContent":["import script from \"./PaginationLinks.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PaginationLinks.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div>\r\n        <div class=\"container mt-2\">\r\n            <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                    <h3 class=\"mx-4\">Staff Attendance </h3>\r\n                    <button class=\"btn btn-sm btn-primary \" @click=\"toggleModal = true\">Filter</button>\r\n                    <button class=\"btn btn-sm btn-secondary float-end\" v-if=\"clea\" @click=\"clearFilter\"> <small\r\n                            class=\"small\">Clear Filter</small></button>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <div class=\"table-responsive\">\r\n                        <table class=\"table-hover table-stripped table-bordered table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>S/N</th>\r\n                                    <th>Time In</th>\r\n                                    <th>Time Out</th>\r\n                                    <th>status</th>\r\n                                    <!--<th>location</th> -->\r\n                                    <th>platform</th>\r\n                                    <!--<th>browser</th> -->\r\n                                    <th>ip</th>\r\n                                    <th>Image</th>\r\n                                    <!-- 'lat', \r\n                                    'long' ,\r\n                                    'precision' , -->\r\n                                    <!-- 'date' ,  -->\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(tend, loop) in attendance.data\" :key=\"loop\">\r\n                                    <td>{{ loop + 1 }}</td>\r\n                                    <td>{{ tend.week_day }} {{ tend.time_in }}</td>\r\n                                    <td>{{ tend.time_out }}</td>\r\n                                    <td>{{ tend.attendance_status }}</td>\r\n                                    <!--<td>{{ tend.location }}</td>-->\r\n                                    <td>{{ tend.platform }}</td>\r\n                                    <!--<td>{{ tend.browser }}</td> -->\r\n                                    <td>{{ tend.ip }}</td>\r\n                                    <td>\r\n                                        <img :src=\"tend.path\" alt=\"\" class=\"img img-responsive tend-image\">\r\n                                    </td>\r\n\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <div class=\"flex justify-center mt-4\">\r\n                            <nav class=\"relative justify-center rounded-md shadow pagination\">\r\n                                <pagination-links v-for=\"(link, i) of attendance.links\" :link=\"link\" :key=\"i\"\r\n                                    @next=\"nextPage($event,link)\"></pagination-links>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <o-modal modal-class=\"modal-sm\" :is-open=\"toggleModal\" @submit=\"filterAttendance\" subtitle=\"Filter Attandance\"\r\n            @modal-close=\"closeModal\">\r\n            <template #content>\r\n                <form id=\"cForm\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\">From</label>\r\n                                <input type=\"date\" v-model=\"filter.from\" class=\"form-control\"\r\n                                    placeholder=\"e.g Ray Engineering\">\r\n                                <p class=\"text-danger \" v-if=\"errors?.from\">{{ errors?.from[0] }}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\">To</label>\r\n                                <input type=\"date\" v-model=\"filter.to\" class=\"form-control\" placeholder=\"e.g 20121212\">\r\n                                <p class=\"text-danger \" v-if=\"errors?.to\">{{ errors?.to[0] }}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\">Staff</label>\r\n                                <Select2 v-model=\"filter.user_pid\" :options=\"users\" :settings=\"{ width: '100%' }\" />\r\n                                <p class=\"text-danger \" v-if=\"errors?.user_pid\">{{ errors?.user_pid[0] }}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </form>\r\n            </template>\r\n        </o-modal>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport store from '@/store';\r\n// import { ref,onMounted } from 'vue'\r\nimport { ref } from 'vue';\r\nimport PaginationLinks from \"@/components/PaginationLinks.vue\";\r\nimport OModal from \"@/components/OModal.vue\";\r\nimport Select2 from 'vue3-select2-component';\r\nconst clea = ref(false)\r\n\r\nconst toggleModal = ref(false)\r\n\r\nconst closeModal = () => {\r\n    toggleModal.value = false;\r\n};\r\n\r\nconst filter = ref({\r\n    from:'' ,\r\n    to:'',\r\n    user_pid:''\r\n})\r\n\r\nconst clearFilter = () =>{\r\n    loadAttendance()\r\n}\r\n\r\nloadAttendance()\r\n\r\nconst attendance = ref({})\r\nfunction loadAttendance(url = '/load-staff-attendance') {\r\n    clea.value = false\r\n    store.dispatch('getMethod', { url: url }).then((data) => {\r\n        if (data?.status == 200) {\r\n            attendance.value = data.data;\r\n        }else{\r\n            attendance.value = data.data;\r\n        }\r\n    })\r\n}\r\n\r\nconst errors = ref({})\r\nconst filterAttendance = () => {\r\n    errors.value = []\r\n    store.dispatch('postMethod', { url: '/filter-staff-attendance', param: filter.value }).then((data) => {\r\n        if (data?.status == 422) {\r\n            errors.value = data.data\r\n        } else if (data?.status == 200) {\r\n            clea.value = true\r\n            attendance.value = data.data;\r\n            toggleModal.value = false;\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\nconst users = ref([]);\r\nfunction dropdownAllow() {\r\n    store.dispatch('loadDropdown', 'users').then(({ data }) => {\r\n        users.value = data;\r\n    }).catch(e => {\r\n        console.log(e);\r\n    })\r\n}\r\ndropdownAllow()\r\n\r\n\r\nfunction nextPage(link) {\r\n    if (!link.url || link.active) {\r\n        return;\r\n    }\r\n    loadAttendance(link.url)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.table-responsive {\r\n    overflow: visible\r\n}\r\n\r\n/* dropdown  */\r\n.dropdown .dropdown-menu {\r\n    overflow: hidden;\r\n    position: absolute;\r\n}\r\n\r\n.tend-image {\r\n    width: 40px;\r\n}\r\n\r\n.tend-image:hover {\r\n    width: 150px !important;\r\n    height: auto !important;\r\n    position: absolute !important;\r\n    right: 20px !important;\r\n}\r\n</style>","import script from \"./StaffAttendance.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StaffAttendance.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StaffAttendance.vue?vue&type=style&index=0&id=5300e42a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5300e42a\"]])\n\nexport default __exports__"],"names":["__exports__","clea","ref","toggleModal","closeModal","value","filter","from","to","user_pid","clearFilter","loadAttendance","attendance","url","store","dispatch","then","data","errors","filterAttendance","param","status","users","dropdownAllow","catch","e","console","log","nextPage","link","active"],"sourceRoot":""}