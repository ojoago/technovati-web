"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[3704],{6707:function(e,a,l){l.d(a,{Z:function(){return c}});var s=l(3396),t=l(7139);const o={class:"range"},n={class:"small"},u={class:"small"},r=["disabled","min","max","value"];var i={__name:"RangeSlider",props:{slider:{type:String,default:"slider"},score:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:0},disable:{type:Boolean,default:!1}},setup(e){return(a,l)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",o,[(0,s._)("span",n,"Min:"+(0,t.zw)(e.min),1),(0,s._)("span",u,"Max:"+(0,t.zw)(e.max),1)]),(0,s._)("input",{onInput:l[0]||(l[0]=e=>a.$emit("update:modelValue",e.target.value)),disabled:e.disable,type:"range",step:"0.5",min:e.min,max:e.max,value:e.score,class:(0,t.C_)(["slider",e.slider])},null,42,r),(0,s._)("p",null,"Score: "+(0,t.zw)(e.score),1)]))}},d=l(89);const m=(0,d.Z)(i,[["__scopeId","data-v-5a4e325b"]]);var c=m},3704:function(e,a,l){l.r(a),l.d(a,{default:function(){return z}});var s=l(3396),t=l(7139),o=l(9242),n=l(2191),u=l(4870),r=l(6707),i=l(6091);const d=e=>((0,s.dD)("data-v-68b4a766"),e=e(),(0,s.Cn)(),e),m={class:"container mt-2 mb-2"},c=d((()=>(0,s._)("button",{class:"btn btn-sm btn-primary text-white mb-1"},"Appraisal List ",-1))),p={key:0,class:"card mb-2"},v={class:"float-none w-auto px-2 h5"},_={id:"workForm"},b=d((()=>(0,s._)("div",{class:"row p-2"},[(0,s._)("div",{class:"col-md-6"},"KPI"),(0,s._)("div",{class:"col-md-3"},"Staff Rating"),(0,s._)("div",{class:"col-md-3"},"Supervisor Rating")],-1))),g={class:"border rounded-3 p-2 m-1"},f={class:"col-md-6"},w={class:"question"},y={class:"col-md-3"},h={class:"col-md-3"},k={class:"float-end p-4"},x={key:0,class:"text-danger"},S={class:"h5"},V=d((()=>(0,s._)("hr",null,null,-1))),A={class:"h4"};var D={__name:"SupervisorAppraisal",setup(e){const a=(0,u.iH)({}),l=(0,u.iH)([]),d=(0,u.iH)(!1),D=(0,u.iH)({}),H=(0,u.iH)(!1),I=()=>{H.value=!1};function z(e){n.Z.dispatch("getMethod",{url:"/load-self-assessment/"+e}).then((e=>{200==e?.status&&(l.value=e.data,d.value=!0)})).catch((e=>{console.log(e)}))}const C=(0,u.iH)({});function Z(){C.value={},M.value.pid=a.value.pid,M.value.keys=l.value,n.Z.dispatch("postMethod",{url:"/submit-supervisor-assessment",param:M.value}).then((e=>{422==e?.status?C.value=e.data:201==e?.status&&(D.value=e.data,H.value=!0)})).catch((e=>{console.log(e)}))}const M=(0,u.iH)({supervisor_comment:"",pid:"",keys:[]});return(0,s.bv)((()=>{let e=localStorage.getItem("TVATI_APPRAISAL")?JSON.parse(localStorage.getItem("TVATI_APPRAISAL")):"null";"null"!=e&&(a.value=e),z(a.value.pid)})),(e,a)=>{const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",m,[(0,s.Wm)(n,{to:"/staff-appraisal-list"},{default:(0,s.w5)((()=>[c])),_:1}),d.value?((0,s.wg)(),(0,s.iD)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((e,a)=>((0,s.wg)(),(0,s.iD)("fieldset",{class:"border rounded-3 p-2 m-1",key:a},[(0,s._)("legend",v,(0,t.zw)(e[0].type.name),1),(0,s._)("form",_,[b,(0,s._)("fieldset",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"row shadow m-2 rounded-3 px-3",key:a},[(0,s._)("div",f,[(0,s._)("p",w,(0,t.zw)(e.key),1)]),(0,s._)("div",y,[(0,s.Wm)(r.Z,{modelValue:e.self_rating,"onUpdate:modelValue":a=>e.self_rating=a,disable:"true",min:"0",max:e.obtainable,score:e.self_rating},null,8,["modelValue","onUpdate:modelValue","max","score"])]),(0,s._)("div",h,[(0,s.Wm)(r.Z,{modelValue:e.supervisor_rating,"onUpdate:modelValue":a=>e.supervisor_rating=a,min:"0",max:e.obtainable,score:e.supervisor_rating},null,8,["modelValue","onUpdate:modelValue","max","score"])])])))),128))])])])))),128)),(0,s._)("div",k,[(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>M.value.supervisor_comment=e),cols:"30",placeholder:"Hr Comments",rows:"5",class:"form-control form-controm-sm"},null,512),[[o.nr,M.value.supervisor_comment]]),C.value?.supervisor_comment?((0,s.wg)(),(0,s.iD)("p",x,(0,t.zw)(C.value?.supervisor_comment[0]),1)):(0,s.kq)("",!0),(0,s._)("button",{type:"button",class:"btn btn-success btn-sm m-4",onClick:Z},"Submit")])])):(0,s.kq)("",!0)]),(0,s.Wm)(i.Z,{isOpen:H.value,"modal-class":"modal-sm",title:"Assessment Summary",onModalClose:I},{content:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.value?.supervisor_summary,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("p",S,(0,t.zw)(e?.key)+": "+(0,t.zw)(e?.score),1),V])))),128)),(0,s._)("p",A," Total: "+(0,t.zw)(D.value?.supervisor_rating),1)])),footer:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-info btn-sm",onModalClose:I},"Close Modal",32)])])),_:1},8,["isOpen"])])}}},H=l(89);const I=(0,H.Z)(D,[["__scopeId","data-v-68b4a766"]]);var z=I}}]);
//# sourceMappingURL=3704.7e82e7dd.js.map