"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[4105],{5658:function(e,l,a){function t(){function e(e,a="axios"){const t=[];if("axios"==a&&e)for(let s in e){if(-1!==s.indexOf(".")){let a=l(s);t[a]=e[s][0]}else t[s]=e[s][0];t[s]=e[s][0]}return t}function l(e){const l=e.split(".").filter((e=>e)),a=e.split(".").filter((e=>!isNaN(e)));return l[2]+a.map(Number)}return{transformValidationErrors:e}}a.d(l,{Z:function(){return t}})},1187:function(e,l,a){a.d(l,{Z:function(){return o}});var t=a(3396);const s=["disabled","innerHTML"];var n={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(e){return(l,a)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>l.$emit("next",e.link))},[(0,t._)("span",{class:"page-link pointer",href:"#",disabled:!e.link.url,innerHTML:e.link.label},null,8,s)])]))}};const i=n;var o=i},4105:function(e,l,a){a.r(l),a.d(l,{default:function(){return He}});var t=a(3396),s=a(9242),n=a(7139),i=a(4870),o=a(2191),d=a(1187),r=a(6091),c=a(6204),u=a(5658);const v={class:"container-fluid mt-2"},p={class:"card"},_={class:"card-body"},b=(0,t._)("h3",{class:"card-title"},"Leave Configuration",-1),g=(0,t._)("ul",{class:"nav nav-tabs d-flex",id:"myTabjustified",role:"tablist"},[(0,t._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,t._)("button",{class:"nav-link w-100 active",id:"config-tab","data-bs-toggle":"tab","data-bs-target":"#config",type:"button",role:"tab","aria-controls":"config","aria-selected":"true"},"Config")]),(0,t._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,t._)("button",{class:"nav-link w-100",id:"request-tab","data-bs-toggle":"tab","data-bs-target":"#request",type:"button",role:"tab","aria-controls":"request","aria-selected":"false"},"Assign Leave")])],-1),m={class:"tab-content pt-2",id:"myTabjustifiedContent"},f={class:"tab-pane fade show active",id:"config",role:"tabpanel","aria-labelledby":"config-tab"},w={class:"row"},y={class:"col-md-4"},h={class:"border rounded-3 p-2 m-1"},k=(0,t._)("legend",{class:"float-none w-auto px-2"},"Add Leave",-1),x={id:"lform"},D={class:"row"},z={class:"col-md-12"},H={class:"form-group"},L=(0,t._)("label",{class:"form-label"},[(0,t.Uk)("Leave "),(0,t._)("span",{class:"text-danger"},"*")],-1),C={key:0,class:"text-danger"},Z={class:"col-md-12"},q={class:"form-group"},M=(0,t._)("label",{class:"form-label"},"Days",-1),V={key:0,class:"text-danger"},N={class:"col-md-12"},U={class:"form-group"},j=(0,t._)("label",{class:"form-label"},"Description ",-1),S={key:0,class:"text-danger"},T={class:"col-md-8"},Y={class:"border rounded-3 p-2 m-1"},A=(0,t._)("legend",{class:"float-none w-auto px-2"},"Leaves",-1),K={class:"table-responsive"},O={class:"table-hover table-stripped table-bordered table"},E=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"Leave"),(0,t._)("th",null,"Days"),(0,t._)("th",null,"Description"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-gear-fill"})])])],-1),R={key:0},W={class:"dropdown"},F=(0,t._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,t._)("i",{class:"bi bi-tools"})],-1),P={class:"dropdown-menu"},$={class:"bg-warning"},B=["onClick"],G={class:"bg-danger"},I=["onClick"],J={key:1,class:"text-center",style:{width:"100%"},width:"100%"},Q=(0,t._)("tr",null,[(0,t._)("td",{colspan:"50"},[(0,t._)("small",{class:"small"},"No Record Yet")])],-1),X=[Q],ee={class:"flex justify-center mt-4"},le={class:"relative justify-center rounded-md shadow pagination"},ae={class:"tab-pane fade",id:"request",role:"tabpanel","aria-labelledby":"request-tab"},te={class:"border rounded-3 p-2 m-1"},se=(0,t._)("legend",{class:"float-none w-auto px-2"},"Assign Leave ",-1),ne={class:"table-responsive"},ie={class:"table-hover table-stripped table-bordered table"},oe=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"Leave"),(0,t._)("th",null,"Days"),(0,t._)("th",null,"Designation")])],-1),de={key:0},re={key:1,class:"text-center",style:{width:"100%"},width:"100%"},ce=(0,t._)("tr",null,[(0,t._)("td",{colspan:"50"},[(0,t._)("small",{class:"small"},"No Record Yet")])],-1),ue=[ce],ve={id:"aForm"},pe={class:"row"},_e={class:"col-md-12"},be={class:"form-group"},ge=(0,t._)("label",{class:"form-label"},[(0,t.Uk)("Leave "),(0,t._)("span",{class:"text-danger"},"*")],-1),me=(0,t._)("option",{value:"",selected:""},"Make Selection",-1),fe=["value"],we={key:0,class:"text-danger"},ye={class:"col-md-12"},he={class:"form-group"},ke=(0,t._)("label",{class:"form-label"},[(0,t.Uk)("Designations "),(0,t._)("span",{class:"text-danger"},"*")],-1),xe={key:0,class:"text-danger"};var De={__name:"LeaveView",setup(e){const{transformValidationErrors:l}=(0,u.Z)(),a=(0,i.iH)(!1),Q=()=>{a.value=!1},ce=()=>{a.value=!0,Ke()},De=(0,i.iH)({}),ze=(0,i.iH)({leave:"",days:"",description:""}),He=()=>{ze.value={leave:"",days:"",description:"",pid:""}},Le=(0,i.iH)({});function Ce(){De.value=[],o.Z.dispatch("postMethod",{url:"/create-leave",param:ze.value}).then((e=>{422==e?.status?De.value=l(e.data):201==e?.status&&(He(),Ue())}))}const Ze=(0,i.iH)({leave_pid:"",designation_pid:""}),qe=()=>{Ze.value={leave_pid:"",designation_pid:""}};function Me(){De.value=[],o.Z.dispatch("postMethod",{url:"/assign-leave",param:Ze.value}).then((e=>{422==e?.status?De.value=l(e.data):201==e?.status&&(qe(),Se())}))}const Ve=e=>{ze.value={leave:e.leave,days:e.days,description:e.description,pid:e.pid}},Ne=e=>{o.Z.dispatch("deleteMethod",{url:"delete-leave/"+e}).then((e=>{201==e?.status&&Ue()}))};function Ue(e="/load-leaves"){o.Z.dispatch("getMethod",{url:e}).then((e=>{Le.value=200==e?.status?e.data:{}}))}Ue(),Se();const je=(0,i.iH)({});function Se(){o.Z.dispatch("getMethod",{url:"/load-assigned-leaves"}).then((e=>{200==e?.status&&(je.value=e.data)}))}const Te=(0,i.iH)([]);function Ye(){o.Z.dispatch("loadDropdown","designations").then((({data:e})=>{Te.value=e})).catch((e=>{console.log(e)}))}Ye();const Ae=(0,i.iH)([]);function Ke(){o.Z.dispatch("loadDropdown","leaves").then((({data:e})=>{Ae.value=e})).catch((e=>{console.log(e)}))}function Oe(e){e.url&&!e.active&&Ue(e.url)}return Ke(),(e,l)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",v,[(0,t._)("div",p,[(0,t._)("div",_,[b,g,(0,t._)("div",m,[(0,t._)("div",f,[(0,t._)("div",w,[(0,t._)("div",y,[(0,t._)("fieldset",h,[k,(0,t._)("form",x,[(0,t._)("div",D,[(0,t._)("div",z,[(0,t._)("div",H,[L,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>ze.value.leave=e),class:"form-control",placeholder:"e.g annual leave"},null,512),[[s.nr,ze.value.leave]]),De.value?.leave?((0,t.wg)(),(0,t.iD)("p",C,(0,n.zw)(De.value?.leave),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Z,[(0,t._)("div",q,[M,(0,t.wy)((0,t._)("input",{type:"number","onUpdate:modelValue":l[1]||(l[1]=e=>ze.value.days=e),class:"form-control",placeholder:"e.g 15 "},null,512),[[s.nr,ze.value.days]]),De.value?.days?((0,t.wg)(),(0,t.iD)("p",V,(0,n.zw)(De.value?.days),1)):(0,t.kq)("",!0)])]),(0,t._)("div",N,[(0,t._)("div",U,[j,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>ze.value.description=e),class:"form-control",placeholder:"e.g any description"},null,512),[[s.nr,ze.value.description]]),De.value?.description?((0,t.wg)(),(0,t.iD)("p",S,(0,n.zw)(De.value?.description),1)):(0,t.kq)("",!0)])])]),(0,t._)("button",{type:"button",class:"btn btn-success btn-sm mt-2",onClick:Ce},"Submit")])])]),(0,t._)("div",T,[(0,t._)("fieldset",Y,[A,(0,t._)("div",K,[(0,t._)("table",O,[E,Le.value.data?((0,t.wg)(),(0,t.iD)("tbody",R,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Le.value.data,((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:l},[(0,t._)("td",null,(0,n.zw)(l+1),1),(0,t._)("td",null,(0,n.zw)(e.leave),1),(0,t._)("td",null,(0,n.zw)(e.days),1),(0,t._)("td",null,(0,n.zw)(e.description),1),(0,t._)("td",null,[(0,t._)("div",W,[F,(0,t._)("ul",P,[(0,t._)("li",$,[(0,t._)("a",{class:"dropdown-item pointer",onClick:l=>Ve(e)},"Edit",8,B)]),(0,t._)("li",G,[(0,t._)("a",{class:"dropdown-item pointer",onClick:l=>Ne(e.pid)},"Delete",8,I)])])])])])))),128))])):((0,t.wg)(),(0,t.iD)("tfoot",J,X))]),(0,t._)("div",ee,[(0,t._)("nav",le,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Le.value.links,((e,l)=>((0,t.wg)(),(0,t.j4)(d.Z,{link:e,key:l,onNext:l=>Oe(e)},null,8,["link","onNext"])))),128))])])])])])])]),(0,t._)("div",ae,[(0,t._)("fieldset",te,[se,(0,t._)("button",{class:"btn btn-primary btn-sm mb-2",onClick:ce},"Assign"),(0,t._)("div",ne,[(0,t._)("table",ie,[oe,je.value?((0,t.wg)(),(0,t.iD)("tbody",de,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(je.value,((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:l},[(0,t._)("td",null,(0,n.zw)(l+1),1),(0,t._)("td",null,(0,n.zw)(e.leave),1),(0,t._)("td",null,(0,n.zw)(e.days),1),(0,t._)("td",null,(0,n.zw)(e.name),1)])))),128))])):((0,t.wg)(),(0,t.iD)("tfoot",re,ue))])])])])])])])]),(0,t.Wm)(r.Z,{isOpen:a.value,onSubmit:Me,"modal-class":"modal-sm",title:"Assign Leave",onModalClose:Q},{content:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("form",ve,[(0,t._)("div",pe,[(0,t._)("div",_e,[(0,t._)("div",be,[ge,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>Ze.value.leave_pid=e),class:"form-control form-control-sm"},[me,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Ae.value,((e,l)=>((0,t.wg)(),(0,t.iD)("option",{key:l,value:e.id},(0,n.zw)(e.text)+" - "+(0,n.zw)(e.days)+" days",9,fe)))),128))],512),[[s.bM,Ze.value.leave_pid]]),De.value?.leave_pid?((0,t.wg)(),(0,t.iD)("p",we,(0,n.zw)(De.value?.leave_pid),1)):(0,t.kq)("",!0)])]),(0,t._)("div",ye,[(0,t._)("div",he,[ke,(0,t.Wm)((0,i.SU)(c.Z),{modelValue:Ze.value.designation_pid,"onUpdate:modelValue":l[4]||(l[4]=e=>Ze.value.designation_pid=e),options:Te.value,settings:{width:"100%"}},null,8,["modelValue","options"]),De.value?.from?((0,t.wg)(),(0,t.iD)("p",xe,(0,n.zw)(De.value?.from),1)):(0,t.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const ze=De;var He=ze}}]);
//# sourceMappingURL=4105.41e199df.js.map