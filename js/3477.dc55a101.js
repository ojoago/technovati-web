"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[3477],{1187:function(l,e,a){a.d(e,{Z:function(){return u}});var t=a(3396);const n=["disabled","innerHTML"];var o={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(e,a)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>e.$emit("next",l.link))},[(0,t._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,n)])]))}};const s=o;var u=s},3477:function(l,e,a){a.r(e),a.d(e,{default:function(){return W}});var t=a(3396),n=a(7139),o=a(9242),s=a(4870),u=a(2191),i=a(1187),d=a(6368),c=a(6091);const r={class:"container mt-2"},m={class:"card"},p=(0,t._)("h3",{class:"mx-4"},"Over Payments",-1),v={class:"card-body"},_={class:"table-responsive"},b={class:"table-hover table-stripped table-bordered table"},g=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"Amount"),(0,t._)("th",null,"Date"),(0,t._)("th",null,"Staff"),(0,t._)("th",null,"Comment"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-pencil-fill"})])])],-1),w={key:0,class:"dropdown"},y=(0,t._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,t._)("i",{class:"bi bi-tools"})],-1),f={class:"dropdown-menu position-absolute"},k=["onClick"],h=["onClick"],D={class:"flex justify-center mt-4"},x={class:"relative justify-center rounded-md shadow pagination"},C={class:"row"},H={class:"col-md-12"},z={class:"form-group"},V=(0,t._)("label",{class:"form-label"},"Date",-1),O={key:0,class:"text-danger"},Z={class:"col-md-12"},q={class:"form-group"},M=(0,t._)("label",{class:"form-label"},"Amount",-1),P={key:0,class:"text-danger"},U={class:"col-md-12"},j={class:"form-group"},N=(0,t._)("label",{class:"form-label"},"Comments",-1),S={key:0,class:"text-danger"},T={class:"col-md-12"},A={class:"form-group"},K=(0,t._)("label",{class:"form-label"},"Employee",-1),L={key:0,class:"text-danger"};var Y={__name:"OverPaymentView",setup(l){const e=(0,s.iH)(!1),a=()=>{e.value=!0},Y=()=>{e.value=!1,J()},E=(0,s.iH)({}),W=(0,s.iH)({employees:"",date:"",comment:"",amount:""}),J=()=>{W.value={employees:"",date:"",comment:"",amount:""}},$=l=>{W.value={employees:l.employees,date:l.date,comment:l.comment,amount:l.amount,pid:l.pid},e.value=!0},B=l=>{alert(l)};function F(){E.value=[],u.Z.dispatch("postMethod",{url:"/add-over-payments",param:W.value}).then((l=>{422==l?.status?E.value=l.data:201==l?.status&&(Y(),I())})).catch((l=>{console.log(l)}))}const G=(0,s.iH)({});function I(l="/load-over-payments"){u.Z.dispatch("getMethod",{url:l}).then((l=>{G.value=200==l?.status?l.data:{}})).catch((l=>{console.log(l)}))}I();const Q=(0,s.iH)([]);function R(){u.Z.dispatch("loadDropdown","users").then((({data:l})=>{Q.value=l})).catch((l=>{console.log(l)}))}function X(l){l.url&&!l.active&&I(l.url)}return R(),(l,u)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",r,[(0,t._)("div",m,[(0,t._)("div",{class:"card-header"},[p,(0,t._)("button",{class:"btn btn-sm btn-primary",onClick:a},"Add New")]),(0,t._)("div",v,[(0,t._)("div",_,[(0,t._)("table",b,[g,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(G.value.data,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,n.zw)(e+1),1),(0,t._)("td",null,(0,n.zw)(l.amount),1),(0,t._)("td",null,(0,n.zw)(l.date),1),(0,t._)("td",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.employees,(l=>((0,t.wg)(),(0,t.iD)("span",{key:l.pid,class:"badge bg-dark p-1 m-1"},(0,n.zw)(l.text),1)))),128))]),(0,t._)("td",null,(0,n.zw)(l.comment),1),(0,t._)("td",null,[0==l.status?((0,t.wg)(),(0,t.iD)("div",w,[y,(0,t._)("ul",f,[(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-warning",onClick:e=>$(l)},"Edit",8,k)]),(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-danger",onClick:e=>B(l.id)},"Delete",8,h)])])])):(0,t.kq)("",!0)])])))),128))])]),(0,t._)("div",D,[(0,t._)("nav",x,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(G.value.links,((l,e)=>((0,t.wg)(),(0,t.j4)(i.Z,{link:l,key:e,onNext:e=>X(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,t.Wm)(c.Z,{isOpen:e.value,onSubmit:F,"modal-class":"modal-sm",title:"Over Payment",onModalClose:Y},{content:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("form",null,[(0,t._)("div",C,[(0,t._)("div",H,[(0,t._)("div",z,[V,(0,t.wy)((0,t._)("input",{type:"date","onUpdate:modelValue":u[0]||(u[0]=l=>W.value.date=l),class:"form-control",placeholder:"e.g deductable"},null,512),[[o.nr,W.value.date]])]),E.value?.date?((0,t.wg)(),(0,t.iD)("p",O,(0,n.zw)(E.value?.date[0]),1)):(0,t.kq)("",!0)]),(0,t._)("div",Z,[(0,t._)("div",q,[M,(0,t.wy)((0,t._)("input",{type:"number",step:"0.5","onUpdate:modelValue":u[1]||(u[1]=l=>W.value.amount=l),class:"form-control",placeholder:"e.g 5000"},null,512),[[o.nr,W.value.amount]])]),E.value?.amount?((0,t.wg)(),(0,t.iD)("p",P,(0,n.zw)(E.value?.amount[0]),1)):(0,t.kq)("",!0)]),(0,t._)("div",U,[(0,t._)("div",j,[N,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":u[2]||(u[2]=l=>W.value.comment=l),class:"form-control",placeholder:"e.g for senior staff"},null,512),[[o.nr,W.value.comment]]),E.value?.comment?((0,t.wg)(),(0,t.iD)("p",S,(0,n.zw)(E.value?.comment[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",T,[(0,t._)("div",A,[K,(0,t._)("div",null,[(0,t.Wm)((0,s.SU)(d.J),{modelValue:W.value.employees,"onUpdate:modelValue":u[3]||(u[3]=l=>W.value.employees=l),options:Q.value,multiple:!0,"close-on-select":!0,placeholder:"Pick staff",label:"text","track-by":"id"},null,8,["modelValue","options"])]),E.value?.employees?((0,t.wg)(),(0,t.iD)("p",L,(0,n.zw)(E.value?.employees[0]),1)):(0,t.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const E=Y;var W=E}}]);
//# sourceMappingURL=3477.dc55a101.js.map