"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[5246],{739:function(e,t,a){a.d(t,{PQ:function(){return w}});var l=a(3396),n=a(4870),o=a(9242);const i="https://www.gstatic.com/charts/loader.js";let s=null;const u=new Map;function c(){return void 0!==window.google?Promise.resolve(window.google.charts):(null===s&&(s=new Promise((e=>{const t=document.querySelector('script[src="'.concat(i,'"]')),a=t||document.createElement("script");t||(a.src=i,a.type="text/javascript",document.head.append(a)),a.onload=()=>{void 0!==window.google&&e(window.google.charts)}}))),s)}async function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",{packages:t=["corechart","controls"],language:a="en",mapsApiKey:l}=arguments.length>1?arguments[1]:void 0;const n=await c(),o="".concat(e,"_").concat(t.join("_"),"_").concat(a);if(u.has(o))return u.get(o);const i=new Promise((o=>{n.load(e,{packages:t,language:a,mapsApiKey:l}),n.setOnLoadCallback((()=>o(window.google)))}));return u.set(o,i),i}function d(e,t,a){return null!==e&&t instanceof e.visualization.DataTable||null!==e&&t instanceof e.visualization.DataView?t:null!==e&&Array.isArray(t)?e.visualization.arrayToDataTable(t,a):null!==e&&null!==t&&"object"===typeof t?new e.visualization.DataTable(t):null}function v(e,t,a,l,n,o){const i=(e,t,a)=>{if(void 0===a)throw new Error("please, provide chart type property");return new t.visualization[a](e)};if(null===e)throw new Error("please, provide charts lib property");if(null===a)throw new Error("please, provide chart element property");const s=o||i;return t=s(a,e,l),p(e,t,n),t}function p(e,t,a){if(null!==a)for(const[l,n]of Object.entries(a))null!==e&&null!==t&&e.visualization.events.addListener(t,l,n)}function h(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;function l(){return a}const n=function(){for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];const i=this,s=function(){t=void 0,e.apply(i,n)};void 0!==t&&clearTimeout(t),t=setTimeout(s,l())};return n}let m=null;const w=(0,l.aZ)({name:"GChart",props:{type:{type:String,required:!0},data:{type:[Array,Object,null],default:()=>[]},isFirstRowLabels:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},version:{type:String,default:"current"},settings:{type:Object,default:()=>({packages:["corechart","table"]})},events:{type:Object,default:null},createChart:{type:Function,default:void 0},resizeDebounce:{type:Number,default:200}},setup(e,t){let{emit:a}=t;const o=(0,n.iH)(null),i=(0,n.iH)(null);function s(){if(null===m||null===o.value)return;const t=d(m,e.data,e.isFirstRowLabels);var a;null!==t&&(null===(a=o.value)||void 0===a||a.draw(t,e.options))}return(0,l.YP)((()=>e.data),(()=>s()),{deep:!0}),(0,l.YP)((()=>e.options),(()=>s()),{deep:!0}),(0,l.YP)((()=>e.type),(()=>{o.value=v(m,o.value,i.value,e.type,e.events,e.createChart),s()})),(0,l.bv)((()=>{r(e.version,e.settings).then((t=>{void 0!==t&&(m=t,o.value=v(m,o.value,i.value,e.type,e.events,e.createChart),a("ready",o.value,t),s())})),e.resizeDebounce>0&&window.addEventListener("resize",h(s,e.resizeDebounce))})),(0,l.Jd)((()=>{null!==o.value&&"function"===typeof o.value.clearChart&&o.value.clearChart(),e.resizeDebounce>0&&window.removeEventListener("resize",h(s,e.resizeDebounce))})),()=>(0,l.h)("div",{ref:i},[])}}),g=(0,o.ri)({});function f(){g.component("GChart",w)}const y={version:"1.1.0",install:f};let b=null;"undefined"!==typeof window&&(b=window.Vue),null!==b&&void 0!==b&&g.use(y)},1796:function(e,t,a){a.d(t,{Z:function(){return f}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-30586156"),e=e(),(0,l.Cn)(),e),i={class:"card com-card"},s={class:"card-header p-1"},u={class:"text-ellipsis"},c={class:"card-body p-2"},r={key:1,class:"icon bi bi-list"},d={class:"h3 count"},v={class:"card-footer p-1"},p={class:"float-end",for:""},h=o((()=>(0,l._)("i",{class:"bi bi-chevron-double-right small"},null,-1)));var m={__name:"CardComponent",props:{title:{type:String,default:"item"},count:{type:Number,default:0},link:{type:String,default:""},icon:{type:String,default:""}},setup(e){return(t,a)=>{const o=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",i,[(0,l._)("div",s,[(0,l._)("span",u,(0,n.zw)(e.title),1)]),(0,l._)("div",c,[e.icon?((0,l.wg)(),(0,l.iD)("i",{key:0,class:(0,n.C_)(["icon",e.icon])},null,2)):((0,l.wg)(),(0,l.iD)("i",r)),(0,l._)("strong",d,(0,n.zw)(e.count),1)]),(0,l._)("div",v,[(0,l._)("label",p,[(0,l.Wm)(o,{to:e.link,class:"nav-link"},{default:(0,l.w5)((()=>[h,(0,l.Uk)(" Details ")])),_:1},8,["to"])])])])])}}},w=a(89);const g=(0,w.Z)(m,[["__scopeId","data-v-30586156"]]);var f=g},6757:function(e,t,a){a.d(t,{Z:function(){return k}});var l=a(3396),n=a(7139),o=a(2191),i=a(6091),s=a(4870);const u=e=>((0,l.dD)("data-v-4b9f5ed4"),e=e(),(0,l.Cn)(),e),c={class:"attendance-card shadow"},r={class:"card-title h6 text-center"},d={class:"col-outer"},v={class:"col-inner"},p=u((()=>(0,l._)("hr",null,null,-1))),h={class:"col-inner"},m=u((()=>(0,l._)("hr",null,null,-1))),w={key:0,class:"container text-center"},g=["src"],f=u((()=>(0,l._)("div",null,null,-1)));var y={__name:"AttendanceComponent",setup(e){const t=(0,s.iH)(!1),a=(0,s.iH)(null);a.value=(new Date).toDateString();const u=(0,s.iH)();function y(){u.value=(new Date).toLocaleTimeString()}setInterval((()=>y()),1e3);const b=(0,s.iH)("--:--"),_=(0,s.iH)("--:--"),k=(0,s.iH)(null),C=()=>{t.value=!1,j()},D=()=>{t.value=!0,M()},H=(0,s.iH)(null),z=(0,s.iH)(null),A=(0,s.iH)(null),S=(0,s.iH)(!1),T=(0,s.iH)(!0);let E=null;const O=(0,s.iH)({}),M=async()=>{try{A.value=null,S.value=!0,T.value=!0,E=await navigator.mediaDevices.getUserMedia({video:!0}),H.value.srcObject=E}catch(e){console.error("Error accessing webcam:",e)}},Z=async()=>{P(),U();const e=z.value.getContext("2d");e.drawImage(H.value,0,0,z.value.width,z.value.height),j(),A.value=z.value.toDataURL("image/png"),O.value.image=A,W()},P=()=>{const e=navigator.platform;let t;t=e.toLowerCase().includes("win")?"Windows":e.toLowerCase().includes("mac")?"macOS":e.toLowerCase().includes("linux")?"Linux":"Unknown OS",O.value.platform=t},U=()=>{const e=navigator.userAgent;let t;t=e.includes("Chrome")?"Google Chrome":e.includes("Firefox")?"Mozilla Firefox":e.includes("Safari")?"Apple Safari":e.includes("Edge")?"Microsoft Edge":e.includes("Opera")||e.includes("OPR/")?"Opera":e.includes("Brave")?"Brave":"Unknown Browser",O.value.browser=t},j=()=>{E&&E.getTracks().forEach((e=>e.stop())),T.value=!1},q=(0,s.iH)(null),L=(0,s.iH)(null);(0,l.bv)((()=>{x()}));const x=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{q.value={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy},O.value.coordinates=q,console.log(e)}),(e=>{L.value=`Error getting location: ${e.message}`,O.value.coordinates=null}),{enableHighAccuracy:!0}):(O.value.coordinates=null,L.value="Geolocation is not supported by your browser.")};function W(){o.Z.dispatch("postMethod",{url:"/clock-in",param:O.value}).then((e=>{201==e?.status&&(k.value=!0,b.value=e?.data?.time_in,t.value=!1)}))}const F=()=>{o.Z.dispatch("getMethod",{url:"/last-check-in"}).then((e=>{200==e?.status&&I(e?.data)}))};(0,l.bv)((()=>{F()}));const B=()=>{o.Z.dispatch("putMethod",{url:"/clock-out",prompt:"are you sure you want to clock out?"}).then((e=>{201==e?.status&&I(e?.data)}))},I=e=>{null==e?k.value=!1:(b.value=e?.time_in,k.value=!0,null!=e.time_out&&(_.value=e?.time_out,k.value=null))};return(e,o)=>{const s=(0,l.up)("center");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",c,[(0,l._)("h5",r,[(0,l.Uk)((0,n.zw)(a.value)+" ",1),(0,l._)("span",null,"| "+(0,n.zw)(u.value),1)]),(0,l._)("div",d,[(0,l._)("div",v,[(0,l.Uk)(" Time in "),p,(0,l.Uk)(" "+(0,n.zw)(b.value),1)]),(0,l._)("div",h,[(0,l.Uk)(" time out "),m,(0,l.Uk)(" "+(0,n.zw)(_.value),1)])]),0==k.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:D,class:"btn btn-sm btn-primary actionBtn"},"Clock In")):(0,l.kq)("",!0),1==k.value?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:B,class:"btn btn-sm btn-danger actionBtn"},"Clock Out")):(0,l.kq)("",!0)]),(0,l.Wm)(i.Z,{isOpen:t.value,"modal-class":"modal-sm",title:"Take Attendance",onModalClose:C},{content:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[T.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:M,class:"btn btn-sm btn-success"},"Retake"))])),_:1}),S.value?((0,l.wg)(),(0,l.iD)("div",w,[T.value?((0,l.wg)(),(0,l.iD)("video",{key:0,ref_key:"video",ref:H,width:"250",height:"250",autoplay:""},null,512)):(0,l.kq)("",!0),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[T.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:Z,class:"text-center btn btn-sm btn-success"},"CAPTURE")):(0,l.kq)("",!0)])),_:1}),(0,l._)("canvas",{ref_key:"canvas",ref:z,width:"250",height:"250",style:{display:"none"}},null,512),A.value?((0,l.wg)(),(0,l.iD)("img",{key:1,src:A.value,alt:"Captured Image"},null,8,g)):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])),footer:(0,l.w5)((()=>[f])),_:1},8,["isOpen"])])}}},b=a(89);const _=(0,b.Z)(y,[["__scopeId","data-v-4b9f5ed4"]]);var k=_},5246:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});a(560);var l=a(3396),n=a(4870),o=a(2191),i=a(6757),s=a(739),u=a(1796);const c={class:"container mt-2"},r={class:"card"},d=(0,l._)("div",{class:"card-header"},[(0,l._)("h5",{class:"card-title"},"Supervisor Dashboard ")],-1),v={class:"card-body"},p={class:"row"},h={class:"col-md-4"},m={class:"col-md-8"},w={class:"row"},g={class:"col-md-3"},f={class:"col-md-3"},y={class:"col-md-3"},b={class:"col-md-3"},_={class:"row"},k={class:"col-md-12"},C={class:"row"},D={class:"col-md-8"},H={class:"col-md-4"};var z={__name:"SupervisorDashboard",setup(e){const t=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=(0,n.iH)({options:{title:"Assembled, this Month",width:400,height:400},data:[]}),z=(0,n.iH)({options:{title:"Assembled, Yearly",width:300,height:300},data:[]}),A=(0,n.iH)({options:{title:"Assembled Daily, this month"},data:[]}),S=(0,n.iH)({options:{title:"Assembled, Monthly"},data:[]}),T=(0,n.iH)({}),E=()=>{o.Z.dispatch("getMethod",{url:"/load-supervisor-dashboard"}).then((e=>{if(200==e?.status){T.value=e.data;let l=e.data.team_monthly;a.value.data.push(["Team","Assembled, this Month"]),l.forEach((e=>{a.value.data.push([e?.team,e.total])}));let n=e.data.daily;A.value.data.push(["Date","total"]),n.forEach((e=>{A.value.data.push([e?.date,e.total])}));let o=e?.data?.monthly;S.value.data.push(["Month","total"]),o.forEach((e=>{S.value.data.push([t[e?.month],e.total])}));let i=e?.data?.yearly;z.value.data.push(["Year","total"]),i.forEach((e=>{z.value.data.push([e?.year+".",e.total])}))}}))};return(0,l.bv)((()=>{E()})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",c,[(0,l._)("div",r,[d,(0,l._)("div",v,[(0,l._)("div",p,[(0,l._)("div",h,[(0,l.Wm)(i.Z)]),(0,l._)("div",m,[(0,l._)("div",w,[(0,l._)("div",g,[(0,l.Wm)(u.Z,{title:"Number of Team",count:T.value.teams,icon:"bi-hash"},null,8,["count"])]),(0,l._)("div",f,[(0,l.Wm)(u.Z,{title:"Full Time Staff",count:T.value.staff,icon:"bi-hash"},null,8,["count"])]),(0,l._)("div",y,[(0,l.Wm)(u.Z,{title:"Casual Staff",count:T.value.casual,icon:"bi-hash"},null,8,["count"])]),(0,l._)("div",b,[(0,l.Wm)(u.Z,{title:"Assembled, Today",count:T.value.today,icon:"bi-hash"},null,8,["count"])])])])]),(0,l._)("div",_,[(0,l._)("div",k,[A.value.data.length?((0,l.wg)(),(0,l.j4)((0,n.SU)(s.PQ),{key:0,type:"ColumnChart",data:A.value.data,options:A.value.options},null,8,["data","options"])):(0,l.kq)("",!0)])]),(0,l._)("div",C,[(0,l._)("div",D,[S.value.data.length?((0,l.wg)(),(0,l.j4)((0,n.SU)(s.PQ),{key:0,type:"ColumnChart",data:S.value.data,options:S.value.options},null,8,["data","options"])):(0,l.kq)("",!0)]),(0,l._)("div",H,[z.value.data.length?((0,l.wg)(),(0,l.j4)((0,n.SU)(s.PQ),{key:0,type:"PieChart",data:z.value.data,options:z.value.options},null,8,["data","options"])):(0,l.kq)("",!0)])])])])])]))}};const A=z;var S=A}}]);
//# sourceMappingURL=5246.0b2ffc50.js.map