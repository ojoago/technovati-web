"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[7433],{1796:function(e,t,a){a.d(t,{Z:function(){return _}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-30586156"),e=e(),(0,l.Cn)(),e),i={class:"card com-card"},s={class:"card-header p-1"},c={class:"text-ellipsis"},u={class:"card-body p-2"},r={key:1,class:"icon bi bi-list"},d={class:"h3 count"},v={class:"card-footer p-1"},m={class:"float-end",for:""},b=o((()=>(0,l._)("i",{class:"bi bi-chevron-double-right small"},null,-1)));var p={__name:"CardComponent",props:{title:{type:String,default:"item"},count:{type:Number,default:0},link:{type:String,default:""},icon:{type:String,default:""}},setup(e){return(t,a)=>{const o=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",i,[(0,l._)("div",s,[(0,l._)("span",c,(0,n.zw)(e.title),1)]),(0,l._)("div",u,[e.icon?((0,l.wg)(),(0,l.iD)("i",{key:0,class:(0,n.C_)(["icon",e.icon])},null,2)):((0,l.wg)(),(0,l.iD)("i",r)),(0,l._)("strong",d,(0,n.zw)(e.count),1)]),(0,l._)("div",v,[(0,l._)("label",m,[(0,l.Wm)(o,{to:e.link,class:"nav-link"},{default:(0,l.w5)((()=>[b,(0,l.Uk)(" Details ")])),_:1},8,["to"])])])])])}}},g=a(89);const h=(0,g.Z)(p,[["__scopeId","data-v-30586156"]]);var _=h},4878:function(e,t,a){a.d(t,{Z:function(){return b}});a(560);var l=a(3396),n=a(7139),o=a(4870),i=a(3886);const s={class:"card"},c={class:"card-body"},u={class:"border shadow rounded-3 p-2 m-1"},r={class:"float-none w-auto px-1"};var d={__name:"CalComponent",props:{data:Object,title:{type:String,default:"Notifications"}},setup(e){const t=e,a=(0,o.iH)({}),d=new Date;let v=d.getDate(),m=d.getMonth()+1,b=d.getFullYear();a.value=`${b}-${m}-${v}`;const p=(0,o.iH)([]);return t.data.forEach((e=>{p.value.push({title:e.tittle,start:e.start,end:e.end,class:"blue-event",content:`<i class="bi bi-alarm bg-dark">${e.shift.shift} ${e.note}</i>`})})),(t,d)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",s,[(0,l._)("div",c,[(0,l._)("fieldset",u,[(0,l._)("legend",r,(0,n.zw)(e.title),1),(0,l.Wm)((0,o.SU)(i.Z),{"selected-date":a.value,"time-from":540,"disable-views":["years","year","week","day"],"active-view":"month","hide-weekends":"","events-on-month-view":"short",events:p.value,style:{height:"auto"}},null,8,["selected-date","events"])])])])]))}},v=a(89);const m=(0,v.Z)(d,[["__scopeId","data-v-b66f8710"]]);var b=m},6757:function(e,t,a){a.d(t,{Z:function(){return y}});var l=a(3396),n=a(7139),o=a(2191),i=a(6091),s=a(4870);const c=e=>((0,l.dD)("data-v-4b9f5ed4"),e=e(),(0,l.Cn)(),e),u={class:"attendance-card shadow"},r={class:"card-title h6 text-center"},d={class:"col-outer"},v={class:"col-inner"},m=c((()=>(0,l._)("hr",null,null,-1))),b={class:"col-inner"},p=c((()=>(0,l._)("hr",null,null,-1))),g={key:0,class:"container text-center"},h=["src"],_=c((()=>(0,l._)("div",null,null,-1)));var f={__name:"AttendanceComponent",setup(e){const t=(0,s.iH)(!1),a=(0,s.iH)(null);a.value=(new Date).toDateString();const c=(0,s.iH)();function f(){c.value=(new Date).toLocaleTimeString()}setInterval((()=>f()),1e3);const w=(0,s.iH)("--:--"),k=(0,s.iH)("--:--"),y=(0,s.iH)(null),C=()=>{t.value=!1,I()},D=()=>{t.value=!0,M()},Z=(0,s.iH)(null),H=(0,s.iH)(null),S=(0,s.iH)(null),W=(0,s.iH)(!1),U=(0,s.iH)(!0);let q=null;const x=(0,s.iH)({}),M=async()=>{try{S.value=null,W.value=!0,U.value=!0,q=await navigator.mediaDevices.getUserMedia({video:!0}),Z.value.srcObject=q}catch(e){console.error("Error accessing webcam:",e)}},O=async()=>{z(),E();const e=H.value.getContext("2d");e.drawImage(Z.value,0,0,H.value.width,H.value.height),I(),S.value=H.value.toDataURL("image/png"),x.value.image=S,R()},z=()=>{const e=navigator.platform;let t;t=e.toLowerCase().includes("win")?"Windows":e.toLowerCase().includes("mac")?"macOS":e.toLowerCase().includes("linux")?"Linux":"Unknown OS",x.value.platform=t},E=()=>{const e=navigator.userAgent;let t;t=e.includes("Chrome")?"Google Chrome":e.includes("Firefox")?"Mozilla Firefox":e.includes("Safari")?"Apple Safari":e.includes("Edge")?"Microsoft Edge":e.includes("Opera")||e.includes("OPR/")?"Opera":e.includes("Brave")?"Brave":"Unknown Browser",x.value.browser=t},I=()=>{q&&q.getTracks().forEach((e=>e.stop())),U.value=!1},T=(0,s.iH)(null),L=(0,s.iH)(null);(0,l.bv)((()=>{A()}));const A=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{T.value={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy},x.value.coordinates=T,console.log(e)}),(e=>{L.value=`Error getting location: ${e.message}`,x.value.coordinates=null}),{enableHighAccuracy:!0}):(x.value.coordinates=null,L.value="Geolocation is not supported by your browser.")};function R(){o.Z.dispatch("postMethod",{url:"/clock-in",param:x.value}).then((e=>{201==e?.status&&(y.value=!0,w.value=e?.data?.time_in,t.value=!1)}))}const $=()=>{o.Z.dispatch("getMethod",{url:"/last-check-in"}).then((e=>{200==e?.status&&F(e?.data)}))};(0,l.bv)((()=>{$()}));const B=()=>{o.Z.dispatch("putMethod",{url:"/clock-out",prompt:"are you sure you want to clock out?"}).then((e=>{201==e?.status&&F(e?.data)}))},F=e=>{null==e?y.value=!1:(w.value=e?.time_in,y.value=!0,null!=e.time_out&&(k.value=e?.time_out,y.value=null))};return(e,o)=>{const s=(0,l.up)("center");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",u,[(0,l._)("h5",r,[(0,l.Uk)((0,n.zw)(a.value)+" ",1),(0,l._)("span",null,"| "+(0,n.zw)(c.value),1)]),(0,l._)("div",d,[(0,l._)("div",v,[(0,l.Uk)(" Time in "),m,(0,l.Uk)(" "+(0,n.zw)(w.value),1)]),(0,l._)("div",b,[(0,l.Uk)(" time out "),p,(0,l.Uk)(" "+(0,n.zw)(k.value),1)])]),0==y.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:D,class:"btn btn-sm btn-primary actionBtn"},"Clock In")):(0,l.kq)("",!0),1==y.value?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:B,class:"btn btn-sm btn-danger actionBtn"},"Clock Out")):(0,l.kq)("",!0)]),(0,l.Wm)(i.Z,{isOpen:t.value,"modal-class":"modal-sm",title:"Take Attendance",onModalClose:C},{content:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[U.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:M,class:"btn btn-sm btn-success"},"Retake"))])),_:1}),W.value?((0,l.wg)(),(0,l.iD)("div",g,[U.value?((0,l.wg)(),(0,l.iD)("video",{key:0,ref_key:"video",ref:Z,width:"250",height:"250",autoplay:""},null,512)):(0,l.kq)("",!0),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[U.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:O,class:"text-center btn btn-sm btn-success"},"CAPTURE")):(0,l.kq)("",!0)])),_:1}),(0,l._)("canvas",{ref_key:"canvas",ref:H,width:"250",height:"250",style:{display:"none"}},null,512),S.value?((0,l.wg)(),(0,l.iD)("img",{key:1,src:S.value,alt:"Captured Image"},null,8,h)):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])),footer:(0,l.w5)((()=>[_])),_:1},8,["isOpen"])])}}},w=a(89);const k=(0,w.Z)(f,[["__scopeId","data-v-4b9f5ed4"]]);var y=k},7433:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var l=a(3396),n=a(4878),o=a(6757),i=a(2191),s=a(4870),c=a(1796);const u={class:"container mt-2"},r={class:"row"},d={class:"col-md-6"},v={class:"row mt-1"},m={class:"col-md-4 mb-1"},b={class:"col-md-4 mb-1"},p={class:"col-md-4 mb-1"},g={class:"row mt-1"},h={class:"col-md-4 mb-1"},_={class:"col-md-4 mb-1"},f={class:"col-md-4 mb-1"},w={class:"col-md-6"};var k={__name:"HrDashboard",setup(e){const t=(0,s.iH)([]),a=(0,s.iH)({});function k(){i.Z.dispatch("getMethod",{url:"/load-shift-holidays"}).then((e=>{200==e?.status&&(t.value=e.data)}))}const y=()=>{i.Z.dispatch("getMethod",{url:"/load-hr-dashboard"}).then((e=>{200==e?.status&&(a.value=e.data)}))};return(0,l.bv)((()=>{k(),y()})),(e,i)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",u,[(0,l._)("div",r,[(0,l._)("div",d,[(0,l.Wm)(o.Z),(0,l._)("fieldset",null,[(0,l._)("div",v,[(0,l._)("div",m,[(0,l.Wm)(c.Z,{title:"Staff",count:a.value.staff,link:"staff-list",icon:"bi-people-fill"},null,8,["count"])]),(0,l._)("div",b,[(0,l.Wm)(c.Z,{count:a.value.department,title:"Department",link:"department",icon:"bi bi-view-stacked"},null,8,["count"])]),(0,l._)("div",p,[(0,l.Wm)(c.Z,{count:a.value.sub_department,icon:"bi bi-view-stacked",title:"Sub Department"},null,8,["count"])])]),(0,l._)("div",g,[(0,l._)("div",h,[(0,l.Wm)(c.Z,{title:"Leave Request",count:a.value.leave,link:"leave-request",icon:"bi bi-bootstrap-reboot"},null,8,["count"])]),(0,l._)("div",_,[(0,l.Wm)(c.Z,{count:a.value.travel,title:"Travel Request",link:"staff-travel-request",icon:"bi bi-bootstrap-reboot"},null,8,["count"])]),(0,l._)("div",f,[(0,l.Wm)(c.Z,{title:"Store Items",count:a.value.item,link:"announcement",icon:"bi bi-bell-fill"},null,8,["count"])])])])]),(0,l._)("div",w,[(0,l.Wm)(n.Z,{data:t.value,title:"Events"},null,8,["data"])])])])]))}};const y=k;var C=y}}]);
//# sourceMappingURL=7433.41fd2a25.js.map