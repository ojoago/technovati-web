"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[3216],{1796:function(e,t,a){a.d(t,{Z:function(){return w}});var l=a(3396),n=a(7139);const s=e=>((0,l.dD)("data-v-30586156"),e=e(),(0,l.Cn)(),e),i={class:"card com-card"},o={class:"card-header p-1"},c={class:"text-ellipsis"},u={class:"card-body p-2"},r={key:1,class:"icon bi bi-list"},d={class:"h3 count"},v={class:"card-footer p-1"},m={class:"float-end",for:""},h=s((()=>(0,l._)("i",{class:"bi bi-chevron-double-right small"},null,-1)));var g={__name:"CardComponent",props:{title:{type:String,default:"item"},count:{type:Number,default:0},link:{type:String,default:""},icon:{type:String,default:""}},setup(e){return(t,a)=>{const s=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",i,[(0,l._)("div",o,[(0,l._)("span",c,(0,n.zw)(e.title),1)]),(0,l._)("div",u,[e.icon?((0,l.wg)(),(0,l.iD)("i",{key:0,class:(0,n.C_)(["icon",e.icon])},null,2)):((0,l.wg)(),(0,l.iD)("i",r)),(0,l._)("strong",d,(0,n.zw)(e.count),1)]),(0,l._)("div",v,[(0,l._)("label",m,[(0,l.Wm)(s,{to:e.link,class:"nav-link"},{default:(0,l.w5)((()=>[h,(0,l.Uk)(" Details ")])),_:1},8,["to"])])])])])}}},_=a(89);const p=(0,_.Z)(g,[["__scopeId","data-v-30586156"]]);var w=p},4878:function(e,t,a){a.d(t,{Z:function(){return h}});a(560);var l=a(3396),n=a(7139),s=a(4870),i=a(3886);const o={class:"card"},c={class:"card-body"},u={class:"border shadow rounded-3 p-2 m-1"},r={class:"float-none w-auto px-1"};var d={__name:"CalComponent",props:{data:Object,title:{type:String,default:"Notifications"}},setup(e){const t=e,a=(0,s.iH)({}),d=new Date;let v=d.getDate(),m=d.getMonth()+1,h=d.getFullYear();a.value=`${h}-${m}-${v}`;const g=(0,s.iH)([]);return t.data.forEach((e=>{g.value.push({title:e.tittle,start:e.start,end:e.end,class:"blue-event",content:`<i class="bi bi-alarm bg-dark">${e.shift.shift} ${e.note}</i>`})})),(t,d)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",o,[(0,l._)("div",c,[(0,l._)("fieldset",u,[(0,l._)("legend",r,(0,n.zw)(e.title),1),(0,l.Wm)((0,s.SU)(i.Z),{"selected-date":a.value,"time-from":540,"disable-views":["years","year","week","day"],"active-view":"month","hide-weekends":"","events-on-month-view":"short",events:g.value,style:{height:"auto"}},null,8,["selected-date","events"])])])])]))}},v=a(89);const m=(0,v.Z)(d,[["__scopeId","data-v-b66f8710"]]);var h=m},6757:function(e,t,a){a.d(t,{Z:function(){return y}});var l=a(3396),n=a(7139),s=a(2191),i=a(6091),o=a(4870);const c=e=>((0,l.dD)("data-v-4b9f5ed4"),e=e(),(0,l.Cn)(),e),u={class:"attendance-card shadow"},r={class:"card-title h6 text-center"},d={class:"col-outer"},v={class:"col-inner"},m=c((()=>(0,l._)("hr",null,null,-1))),h={class:"col-inner"},g=c((()=>(0,l._)("hr",null,null,-1))),_={key:0,class:"container text-center"},p=["src"],w=c((()=>(0,l._)("div",null,null,-1)));var b={__name:"AttendanceComponent",setup(e){const t=(0,o.iH)(!1),a=(0,o.iH)(null);a.value=(new Date).toDateString();const c=(0,o.iH)();function b(){c.value=(new Date).toLocaleTimeString()}setInterval((()=>b()),1e3);const k=(0,o.iH)("--:--"),f=(0,o.iH)("--:--"),y=(0,o.iH)(null),C=()=>{t.value=!1,E()},D=()=>{t.value=!0,M()},Z=(0,o.iH)(null),H=(0,o.iH)(null),W=(0,o.iH)(null),S=(0,o.iH)(!1),q=(0,o.iH)(!0);let U=null;const x=(0,o.iH)({}),M=async()=>{try{W.value=null,S.value=!0,q.value=!0,U=await navigator.mediaDevices.getUserMedia({video:!0}),Z.value.srcObject=U}catch(e){console.error("Error accessing webcam:",e)}},O=async()=>{I(),z();const e=H.value.getContext("2d");e.drawImage(Z.value,0,0,H.value.width,H.value.height),E(),W.value=H.value.toDataURL("image/png"),x.value.image=W,L()},I=()=>{const e=navigator.platform;let t;t=e.toLowerCase().includes("win")?"Windows":e.toLowerCase().includes("mac")?"macOS":e.toLowerCase().includes("linux")?"Linux":"Unknown OS",x.value.platform=t},z=()=>{const e=navigator.userAgent;let t;t=e.includes("Chrome")?"Google Chrome":e.includes("Firefox")?"Mozilla Firefox":e.includes("Safari")?"Apple Safari":e.includes("Edge")?"Microsoft Edge":e.includes("Opera")||e.includes("OPR/")?"Opera":e.includes("Brave")?"Brave":"Unknown Browser",x.value.browser=t},E=()=>{U&&U.getTracks().forEach((e=>e.stop())),q.value=!1},R=(0,o.iH)(null),T=(0,o.iH)(null);(0,l.bv)((()=>{A()}));const A=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{R.value={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy},x.value.coordinates=R,console.log(e)}),(e=>{T.value=`Error getting location: ${e.message}`,x.value.coordinates=null}),{enableHighAccuracy:!0}):(x.value.coordinates=null,T.value="Geolocation is not supported by your browser.")};function L(){s.Z.dispatch("postMethod",{url:"/clock-in",param:x.value}).then((e=>{201==e?.status&&(y.value=!0,k.value=e?.data?.time_in,t.value=!1)}))}const P=()=>{s.Z.dispatch("getMethod",{url:"/last-check-in"}).then((e=>{200==e?.status&&B(e?.data)}))};(0,l.bv)((()=>{P()}));const $=()=>{s.Z.dispatch("putMethod",{url:"/clock-out",prompt:"are you sure you want to clock out?"}).then((e=>{201==e?.status&&B(e?.data)}))},B=e=>{null==e?y.value=!1:(k.value=e?.time_in,y.value=!0,null!=e.time_out&&(f.value=e?.time_out,y.value=null))};return(e,s)=>{const o=(0,l.up)("center");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",u,[(0,l._)("h5",r,[(0,l.Uk)((0,n.zw)(a.value)+" ",1),(0,l._)("span",null,"| "+(0,n.zw)(c.value),1)]),(0,l._)("div",d,[(0,l._)("div",v,[(0,l.Uk)(" Time in "),m,(0,l.Uk)(" "+(0,n.zw)(k.value),1)]),(0,l._)("div",h,[(0,l.Uk)(" time out "),g,(0,l.Uk)(" "+(0,n.zw)(f.value),1)])]),0==y.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:D,class:"btn btn-sm btn-primary actionBtn"},"Clock In")):(0,l.kq)("",!0),1==y.value?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:$,class:"btn btn-sm btn-danger actionBtn"},"Clock Out")):(0,l.kq)("",!0)]),(0,l.Wm)(i.Z,{isOpen:t.value,"modal-class":"modal-sm",title:"Take Attendance",onModalClose:C},{content:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[q.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:M,class:"btn btn-sm btn-success"},"Retake"))])),_:1}),S.value?((0,l.wg)(),(0,l.iD)("div",_,[q.value?((0,l.wg)(),(0,l.iD)("video",{key:0,ref_key:"video",ref:Z,width:"250",height:"250",autoplay:""},null,512)):(0,l.kq)("",!0),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[q.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:O,class:"text-center btn btn-sm btn-success"},"CAPTURE")):(0,l.kq)("",!0)])),_:1}),(0,l._)("canvas",{ref_key:"canvas",ref:H,width:"250",height:"250",style:{display:"none"}},null,512),W.value?((0,l.wg)(),(0,l.iD)("img",{key:1,src:W.value,alt:"Captured Image"},null,8,p)):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])),footer:(0,l.w5)((()=>[w])),_:1},8,["isOpen"])])}}},k=a(89);const f=(0,k.Z)(b,[["__scopeId","data-v-4b9f5ed4"]]);var y=f},3216:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var l=a(3396),n=a(2191),s=a(4870),i=a(6757),o=a(4878),c=a(1796);const u={class:"container mt-2"},r={class:"card"},d={class:"card-body"},v={class:"row"},m={class:"col-md-6"},h={class:"row mt-2"},g={class:"col-md-6"},_={class:"col-md-6"},p={class:"col-md-6"},w={class:"row my-2"},b={class:"col-md-4"},k={class:"col-md-4"},f={class:"col-md-4"},y={class:"row"},C={class:"col-md-3"},D={class:"col-md-3"},Z={class:"col-md-3"},H={class:"col-md-3"};var W={__name:"StoreDashboard",setup(e){const t=(0,s.iH)([]),a=(0,s.iH)({}),W=()=>{n.Z.dispatch("getMethod",{url:"/load-store-dashboard"}).then((e=>{200==e?.status&&(a.value=e.data)}))};return(0,l.bv)((()=>{W()})),(e,n)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",u,[(0,l._)("div",r,[(0,l._)("div",d,[(0,l._)("div",v,[(0,l._)("div",m,[(0,l.Wm)(i.Z),(0,l._)("div",h,[(0,l._)("div",g,[(0,l.Wm)(c.Z,{title:"Pending Request",count:a.value.request,icon:"bi-cash"},null,8,["count"])]),(0,l._)("div",_,[(0,l.Wm)(c.Z,{title:"Pending Request",count:a.value.request,icon:"bi-cash"},null,8,["count"])])])]),(0,l._)("div",p,[(0,l.Wm)(o.Z,{data:t.value,title:"Events"},null,8,["data"])])]),(0,l._)("div",w,[(0,l._)("div",b,[(0,l.Wm)(c.Z,{title:"Pending Request",count:a.value.request,icon:"bi-cash"},null,8,["count"])]),(0,l._)("div",k,[(0,l.Wm)(c.Z,{title:"Stock Items",count:a.value.items,icon:"bi-hash"},null,8,["count"])]),(0,l._)("div",f,[(0,l.Wm)(c.Z,{title:"Consignments",count:a.value.consignment,icon:"bi-hash"},null,8,["count"])])]),(0,l._)("div",y,[(0,l._)("div",C,[(0,l.Wm)(c.Z,{title:"Clients",count:a.value.customers,icon:"bi-hash"},null,8,["count"])]),(0,l._)("div",D,[(0,l.Wm)(c.Z,{title:"Suppliers",count:a.value.suppliers,icon:"bi-hash"},null,8,["count"])]),(0,l._)("div",Z,[(0,l.Wm)(c.Z,{title:"Raw Materials",count:a.value.raw,icon:"bi-hash"},null,8,["count"])]),(0,l._)("div",H,[(0,l.Wm)(c.Z,{title:"Items",count:a.value.items,icon:"bi-hash"},null,8,["count"])])])])])])]))}};const S=W;var q=S}}]);
//# sourceMappingURL=3216.23f35887.js.map