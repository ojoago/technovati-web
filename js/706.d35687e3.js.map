{"version":3,"file":"js/706.d35687e3.js","mappings":"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","sources":["webpack://Technovati/./src/components/PaginationLinks.vue","webpack://Technovati/./src/components/forms/casual/WorkerForm.vue","webpack://Technovati/./src/components/forms/casual/WorkerForm.vue?ca0d","webpack://Technovati/./src/views/workers/WorkersView.vue","webpack://Technovati/./src/views/workers/WorkersView.vue?de85"],"sourcesContent":["import script from \"./PaginationLinks.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PaginationLinks.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div>\r\n        <form id=\"casualForm\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Firstname <span class=\"text-danger\">*</span></label>\r\n                        <input type=\"text\" v-model=\"staff.firstname\" class=\"form-control form-control-sm\"\r\n                            placeholder=\"e.g Aminu\">\r\n                        <p class=\"text-danger \" v-if=\"errors?.firstname\">{{ errors?.firstname[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Lastname <span class=\"text-danger\">*</span></label>\r\n                        <input type=\"text\" v-model=\"staff.lastname\" class=\"form-control form-control-sm\"\r\n                            placeholder=\"e.g Sanusi \">\r\n                        <p class=\"text-danger \" v-if=\"errors?.lastname\">{{ errors?.lastname[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Othername</label>\r\n                        <input type=\"text\" v-model=\"staff.othername\" class=\"form-control form-control-sm\"\r\n                            placeholder=\"null\">\r\n                        <p class=\"text-danger \" v-if=\"errors?.othername\">{{ errors?.othername[0] }}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Email </label>\r\n                        <input type=\"text\" v-model=\"staff.email\" class=\"form-control form-control-sm\"\r\n                            placeholder=\"e.g aminu@technovati.com.ng\">\r\n                        <p class=\"text-danger \" v-if=\"errors?.email\">{{ errors?.email[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Username</label>\r\n                        <input type=\"text\" v-model=\"staff.username\" class=\"form-control form-control-sm\"\r\n                            placeholder=\"e.g musa.isah \">\r\n                        <p class=\"text-danger \" v-if=\"errors?.username\">{{ errors?.username[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Phone Number <span class=\"text-danger\">*</span></label>\r\n                        <input type=\"text\" v-model=\"staff.gsm\" maxlength=\"11\" class=\"form-control form-control-sm\"\r\n                            placeholder=\"e.g 080xxxxxxxx\">\r\n                        <p class=\"text-danger \" v-if=\"errors?.gsm\">{{ errors?.gsm[0] }}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Gender <span class=\"text-danger\">*</span></label>\r\n                        <select v-model=\"staff.gender\" class=\"form-control form-control-sm\">\r\n                            <option value=\"\" selected>Select Gender</option>\r\n                            <option>Female</option>\r\n                            <option>Male</option>\r\n                        </select>\r\n                        <!-- <input type=\"text\" v-model=\"staff.gender\" class=\"form-control\" placeholder=\"e.g aminu@technovati.com.ng\"> -->\r\n                        <p class=\"text-danger \" v-if=\"errors?.gender\">{{ errors?.gender[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Religion <span class=\"text-danger\">*</span></label>\r\n                        <select v-model=\"staff.religion\" class=\"form-control form-control-sm\">\r\n                            <option value=\"\" selected>Select Status</option>\r\n                            <option>Islam</option>\r\n                            <option>Christianity</option>\r\n                            <option>Other</option>\r\n                        </select>\r\n                        <p class=\"text-danger \" v-if=\"errors?.religion\">{{ errors?.religion[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Marital Status <span class=\"text-danger\">*</span></label>\r\n                        <select v-model=\"staff.marital_status\" class=\"form-control form-control-sm\">\r\n                            <option value=\"\" selected>Select Status</option>\r\n                            <option>Single</option>\r\n                            <option>Married</option>\r\n                            <option>Separated</option>\r\n                            <option>Divorce</option>\r\n                        </select>\r\n                        <!-- <input type=\"text\" v-model=\"staff.marital_status\" class=\"form-control\" placeholder=\"e.g 080xxxxxxxx\"> -->\r\n                        <p class=\"text-danger \" v-if=\"errors?.marital_status\">{{ errors?.marital_status[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Blood Group <span class=\"text-danger\">*</span></label>\r\n\r\n                        <select v-model=\"staff.blood_group\" class=\"form-control form-control-sm\">\r\n                            <option value=\"\" selected>Select Group</option>\r\n                            <option>A+</option>\r\n                            <option>A-</option>\r\n                            <option>B+</option>\r\n                            <option>B-</option>\r\n                            <option>O+</option>\r\n                            <option>O-</option>\r\n                            <option>AB+</option>\r\n                            <option>AB-</option>\r\n                        </select>\r\n                        <p class=\"text-danger \" v-if=\"errors?.blood_group\">{{ errors?.blood_group[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Geno Type </label>\r\n                        <input type=\"text\" v-model=\"staff.geno_type\" class=\"form-control  form-control-sm\"\r\n                            placeholder=\"e.g AA\">\r\n                        <p class=\"text-danger \" v-if=\"errors?.geno_type\">{{ errors?.geno_type[0] }}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Date Of Birth <span class=\"text-danger\">*</span></label>\r\n                        <input type=\"date\" v-model=\"staff.dob\" class=\"form-control form-control-sm\">\r\n                        <p class=\"text-danger \" v-if=\"errors?.dob\">{{ errors?.dob[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Place of Birth</label>\r\n                        <input type=\"text\" v-model=\"staff.pob\" class=\"form-control form-control-sm\"\r\n                            placeholder=\"e.g Jos North \">\r\n                        <p class=\"text-danger \" v-if=\"errors?.pob\">{{ errors?.pob[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">State of Origin <span class=\"text-danger\">*</span></label>\r\n                        <select v-model=\"staff.state_of_origin\" class=\"form-control form-control-sm\"\r\n                            @change=\"loadStateLga($event)\">\r\n                            <option value=\"\" selected>Select Option</option>\r\n                            <option v-for=\"state in states\" :key=\"state.id\" :value=\"state.id\">{{ state.text }}</option>\r\n                        </select>\r\n                        <!-- <Select2  v-model=\"staff.state_of_origin\"  :options=\"stateDrop\" :settings=\"{ width: '100%' }\"  /> -->\r\n                        <p class=\"text-danger \" v-if=\"errors?.state_of_origin\">{{ errors?.state_of_origin[0] }}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">LGA of Origin <span class=\"text-danger\">*</span></label>\r\n                        <!-- <input type=\"text\" v-model=\"staff.lga_of_origin\" class=\"form-control form-control-sm\" placeholder=\"e.g aminu@technovati.com.ng\"> -->\r\n                        <Select2 v-model=\"staff.lga_of_origin\" :options=\"stateLgas\" :settings=\"{ width: '100%' }\" />\r\n                        <p class=\"text-danger \" v-if=\"errors?.lga_of_origin\">{{ errors?.lga_of_origin[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">State of Residence <span class=\"text-danger\">*</span></label>\r\n                        <select v-model=\"staff.state_of_residence\" class=\"form-control form-control-sm\"\r\n                            @change=\"loadStateRes($event)\">\r\n                            <option value=\"\" selected>Select Option</option>\r\n                            <option v-for=\"state in states\" :key=\"state.id\" :value=\"state.id\">{{ state.text }}</option>\r\n                        </select>\r\n                        <p class=\"text-danger \" v-if=\"errors?.state_of_residence\">{{ errors?.state_of_residence[0] }}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">LGA of Residence <span class=\"text-danger\">*</span></label>\r\n                        <Select2 v-model=\"staff.lga_of_residence\" :options=\"resLga\" :settings=\"{ width: '100%' }\" />\r\n                        <!-- <input type=\"text\" v-model=\"staff.lga_of_residence\" class=\"form-control form-control-sm\" placeholder=\"e.g zaria road\"> -->\r\n                        <p class=\"text-danger \" v-if=\"errors?.lga_of_residence\">{{ errors?.lga_of_residence[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Address <span class=\"text-danger\">*</span> </label>\r\n                        <textarea type=\"text\" v-model=\"staff.address\" class=\"form-control form-control-sm\"\r\n                            placeholder=\"e.g Zaria road\"></textarea>\r\n                        <p class=\"text-danger \" v-if=\"errors?.address\">{{ errors?.address[0] }}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\">Image <span class=\"text-danger\">*</span> </label>\r\n                        <input type=\"file\" accept=\"image/*\" class=\"form-control form-control-sm\"\r\n                            @change=\"handleImageChange\">\r\n                        <p class=\"text-danger \" v-if=\"errors?.image\">{{ errors?.image[0] }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label class=\"form-label\">Team</label>\r\n                    <Select2 v-model=\"staff.team_pid\" :options=\"teamDrop\" :settings=\"{ width: '100%' }\" />\r\n                    <p class=\"text-danger \" v-if=\"errors?.team_pid\">{{ errors?.team_pid[0] }} </p>\r\n                </div>\r\n            </div>\r\n            <button type=\"button\" class=\"btn btn-success btn-sm mt-2\" @click=\"createCasualStaff\">Submit</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import Select2 from 'vue3-select2-component';\r\n    import store from \"@/store\";\r\n    import { onMounted, ref } from \"vue\";\r\n    const errors = ref({});\r\n    const staff = ref({\r\n        email: '',\r\n        username: '',\r\n        gsm: '',\r\n        group: '',\r\n        firstname: '',\r\n        othername: '',\r\n        marital_status: '',\r\n        gender: '',\r\n        religion: '',\r\n        pob: '',\r\n        dob: '',\r\n        state_of_origin: '',\r\n        lga_of_origin: '',\r\n        state_of_residence: '',\r\n        lga_of_residence: '',\r\n        address: '',\r\n        team_pid: '',\r\n        blood_group: '',\r\n        geno_type: '',\r\n        image: null,\r\n        // 'user_pid': user_pid,\r\n    });\r\n\r\n    const resetAttr = () => {\r\n        staff.value = {\r\n            email: '',\r\n            username: '',\r\n            gsm: '',\r\n            group: '',\r\n            firstname: '',\r\n            othername: '',\r\n            marital_status: '',\r\n            gender: '',\r\n            religion: '',\r\n            pob: '',\r\n            dob: '',\r\n            state_of_origin: '',\r\n            lga_of_origin: '',\r\n            state_of_residence: '',\r\n            lga_of_residence: '',\r\n            address: '',\r\n            team_pid: '',\r\n            blood_group: '',\r\n            geno_type: '',\r\n            image: null,\r\n        }\r\n    }\r\n\r\nconst handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n        var ext = file['name'].substring(file['name'].lastIndexOf('.') + 1);\r\n        if (!['png', 'jpeg', 'jpg'].includes(ext)) {\r\n            event.target.value = null;\r\n            store.commit('notify', { message: 'Only Image is allowed', type: 'warning' })\r\n            return;\r\n        }\r\n        if (file.size > 1024 * 1024) {\r\n            event.target.value = null;\r\n            store.commit('notify', { message: 'Image cannot be more 1MB', type: 'warning' })\r\n            return;\r\n        }\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n            staff.value.image = reader.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n}\r\n\r\nfunction createCasualStaff() {\r\n    errors.value = []\r\n    store.dispatch('postMethod', { url: '/create-casual-staff', param: staff.value }).then((data) => {\r\n        if (data?.status == 422) {\r\n            errors.value = data.data\r\n        } else if (data?.status == 201) {\r\n            resetAttr();\r\n            // staff.value = [];\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\nconst states = ref({});\r\nfunction dropDOwnState() {\r\n    store.dispatch('loadDropdown', 'state').then(({ data }) => {\r\n        states.value = data;\r\n    })\r\n}\r\ndropDOwnState()\r\n\r\nconst teamDrop = ref({});\r\nfunction dropDownTeam() {\r\n    store.dispatch('loadDropdown', 'team').then(({ data }) => {\r\n        teamDrop.value = data;\r\n    })\r\n}\r\ndropDownTeam()\r\n\r\nconst stateLgas = ref([]);\r\nfunction loadStateLga(event) {\r\n    store.dispatch('loadDropdown', 'state-lga/' + event.target.value).then(({ data }) => {\r\n        stateLgas.value = data;\r\n    })\r\n}\r\n\r\nconst resLga = ref([]);\r\n\r\nfunction loadStateRes(event) {\r\n    store.dispatch('loadDropdown', 'state-lga/' + event.target.value).then(({ data }) => {\r\n        resLga.value = data;\r\n    })\r\n}\r\n onMounted(() => {\r\n    // alert('mounted')\r\n    let tsk = localStorage.getItem('TVATI_CASAUL_TAB') ? JSON.parse(localStorage.getItem('TVATI_CASAUL_TAB')) : 'null'\r\n    if (tsk != 'null') {\r\n        if (tsk.action == 'edit') {\r\n            loadCasual(tsk?.query?.id)\r\n        }\r\n    }\r\n })\r\n\r\n const loadCasual = (pid) => {\r\n    store.dispatch('getMethod', { url: '/load-casual-staff-detail/'+pid }).then((data) => {\r\n         if (data?.status == 200) {\r\n            staff.value = data.data;\r\n        }\r\n    })\r\n }\r\n\r\n \r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./WorkerForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WorkerForm.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div>\r\n        <div class=\"container mt-2\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-header\">Engineering Teams</div>\r\n                        <ul class=\"nav nav-tabs d-flex\" id=\"myTabjustified\" role=\"tablist\">\r\n                            <li class=\"nav-item flex-fill\" role=\"presentation\">\r\n                                <button class=\"nav-link w-100 active\" id=\"worker-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#worker\" type=\"button\" role=\"tab\" aria-controls=\"worker\" aria-selected=\"true\">Workers</button>\r\n                            </li>\r\n                            <li class=\"nav-item flex-fill\" role=\"presentation\">\r\n                                <button class=\"nav-link w-100\" id=\"casual-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#casual\" type=\"button\" role=\"tab\" aria-controls=\"casual\" aria-selected=\"false\">Add Casual Staff</button>\r\n                            </li>\r\n\r\n                            <!-- <li class=\"nav-item flex-fill\" role=\"presentation\">\r\n                            <button class=\"nav-link w-100\" id=\"qualification-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#qualification\" type=\"button\" role=\"tab\" aria-controls=\"qualification\" aria-selected=\"false\">Qualification</button>\r\n                            </li>\r\n                            <li class=\"nav-item flex-fill\" role=\"presentation\">\r\n                            <button class=\"nav-link w-100\" id=\"bank-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#bank\" type=\"button\" role=\"tab\" aria-controls=\"bank\" aria-selected=\"false\">Bank Details</button>\r\n                            </li> -->\r\n\r\n                        </ul>\r\n                       \r\n                        <div class=\"card-body\">\r\n                         <div class=\"tab-content pt-2\" id=\"myTabjustifiedContent\">\r\n                            <div class=\"tab-pane fade show active\" id=\"worker\" role=\"tabpanel\" aria-labelledby=\"worker-tab\">\r\n                                 <fieldset class=\"border rounded-3 p-2 m-1\">\r\n                                    <legend class=\"float-none w-auto px-2\">Lists</legend>\r\n                                     <!-- <button type=\"button\" class=\"btn btn-success btn-sm m-1\">Add Casual Staff</button> -->\r\n                                    <button type=\"button\" class=\"btn btn-success btn-sm m-1\" @click=\"openTeamModal\"> Add Fulltime Staff</button>\r\n                                    <div class=\"table-responsive\">\r\n                                        <table class=\"table-hover table-stripped table-bordered table\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>SN</th>\r\n                                                    <th>Phone Number</th>\r\n                                                    <th>Username</th>\r\n                                                    <th>Email</th>\r\n                                                    <th>Type</th>\r\n                                                    <th>Team</th>\r\n                                                    <!-- <th>Image</th> -->\r\n                                                    <th> <i class=\"bi bi-gear-fill\"></i> </th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr v-for=\"(data, loop) in worker.data\" :key=\"loop\">\r\n                                                    <td>{{ loop + 1 }}</td>\r\n                                                    <td>{{ data.type == 1 ? data.user.gsm : data.casual.gsm }}</td>\r\n                                                    <td>{{ data.type == 1 ? data.user.username : data.casual.username }}</td>\r\n                                                    <td>{{ data.type == 1 ? data.user.email : data.casual.email }}</td>\r\n                                                    <td>{{ data.cat }}</td>\r\n                                                    <td>{{ data?.team?.team }}</td>\r\n                                                    <!-- <td>{{ data.type == 1 ? data.staff.path : data.casual.path }}</td> -->\r\n                                                    <td>\r\n                                                        <div class=\"dropdown\">\r\n                                                            <button type=\"button\" class=\"btn btn-primary btn-sm dropdown-toggle\"\r\n                                                                data-bs-toggle=\"dropdown\">\r\n                                                                <i class=\"bi bi-tools\"></i>\r\n                                                            </button>\r\n                                                            <ul class=\"dropdown-menu\">\r\n                                                                <!-- <li v-if=\"data.type == 2\"><a class=\"dropdown-item pointer bg-warning\" @click=\"editWorker(data.pid)\">Edit</a> </li> -->\r\n                                                                <li v-if=\"data.type == 2 && data?.status == 1\"><a class=\"bg-danger dropdown-item pointer\" @click=\"deleteCasualStaff(data.pid)\">Delete</a> </li>\r\n                                                                <li v-if=\"data.type == 2 && data?.status == 0\"><a class=\"bg-secondary dropdown-item pointer\" @click=\"enableCasualStaff(data.pid)\">Enable</a> </li>\r\n                                                                <li><a class=\"bg-primary dropdown-item pointer\" @click=\"assignTeamModal(data.pid)\">Asign Team</a> </li>\r\n                                                                <li v-if=\"data?.team\"><a class=\"bg-warning dropdown-item pointer\" @click=\"deAssignTeamModal(data.pid)\">Remove from Team</a> </li>\r\n                                                            </ul>\r\n                                                        </div>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                        <div class=\"flex justify-center mt-4\">\r\n                                            <nav class=\"relative justify-center rounded-md shadow pagination\">\r\n                                                <pagination-links v-for=\"(link, i) of worker.links\" :link=\"link\" :key=\"i\"\r\n                                                    @next=\"nextPage(link)\"></pagination-links>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </fieldset>\r\n                            </div>\r\n                            <div class=\"tab-pane fade\" id=\"casual\" role=\"tabpanel\" aria-labelledby=\"casual-tab\">\r\n                                 <fieldset class=\"border rounded-3 p-2 m-1\">\r\n                                    <legend class=\"float-none w-auto px-2\">Add Casual Workers</legend>\r\n                                         <worker-form></worker-form>\r\n                                </fieldset>\r\n                            </div>\r\n\r\n                          </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <o-modal :isOpen=\"teamModal\" modal-class=\"modal-xs\" title=\"Add Full time Staff\" @submit=\"addStaff\" @modal-close=\"closeModal\" >\r\n                    <template #content>\r\n                        <form id=\"teamForm\">\r\n                            <div class=\"row\">\r\n                                <!-- <div class=\"col-md-12\">\r\n                                    <label class=\"form-label\">Departments</label>\r\n                                    <Select2 :options=\"deptDrop\"  />\r\n                                </div> -->\r\n\r\n                                <div class=\"col-md-12\">\r\n                                    <label class=\"form-label\">Staff</label>\r\n                                    <Select2 v-model=\"team.user_pid\" :options=\"userDrop\"  />\r\n                                    <p class=\"text-danger \" v-if=\"errors?.user_pid\">{{ errors?.user_pid[0] }} </p>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <label class=\"form-label\">Team</label>\r\n                                    <Select2 v-model=\"team.term_pid\" :options=\"teamDrop\"  />\r\n                                    <p class=\"text-danger \" v-if=\"errors?.term_pid\">{{ errors?.term_pid[0] }} </p>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </template>\r\n            </o-modal>\r\n\r\n            <o-modal :isOpen=\"assignModal\" modal-class=\"modal-xs\" title=\"Assign Staff to team\" @submit=\"addTeam\" @modal-close=\"closeModal\" >\r\n                    <template #content>\r\n                        <form id=\"assignForm\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <label class=\"form-label\">Team</label>\r\n                                    <Select2 v-model=\"team.team_pid\" :options=\"teamDrop\"  />\r\n                                    <p class=\"text-danger \" v-if=\"errors?.team_pid\">{{ errors?.team_pid[0] }} </p>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </template>\r\n        \r\n            </o-modal>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import Select2 from 'vue3-select2-component';\r\n    import store from \"@/store\";\r\n    import { ref } from \"vue\";\r\n    import PaginationLinks from \"@/components/PaginationLinks.vue\";\r\n    import WorkerForm from \"@/components/forms/casual/WorkerForm.vue\"\r\n    import OModal from \"@/components/OModal.vue\";\r\n    import { useRouter } from 'vue-router';\r\n    const router = useRouter()\r\n    let query = {}\r\n    router.push({ query: query })\r\n    // const user_pid = ref(null);\r\n   \r\n    const teamModal = ref(false)\r\n    const openTeamModal = () => {\r\n        teamModal.value = true;\r\n    };\r\n    const assignModal = ref(false)\r\n    const assignTeamModal = (pid) => {\r\n        team.value.user_pid = pid;\r\n        assignModal.value = true;\r\n    };\r\n\r\n    const closeModal = () => {\r\n        teamModal.value = false;\r\n        assignModal.value = false;\r\n        resetTeam()\r\n    };\r\n\r\nconst team = ref({\r\n    user_pid: '' , \r\n    team_pid : '' ,\r\n})\r\n\r\nconst resetTeam = ()=>{\r\n    team.value = {\r\n        user_pid: '',\r\n        team_pid: '',\r\n    }\r\n}\r\nconst errors = ref({});\r\n\r\nfunction addStaff() {\r\n    errors.value = []\r\n    store.dispatch('postMethod', { url: '/add-staff-to-team', param: team.value }).then((data) => {\r\n        if (data?.status == 422) {\r\n            errors.value = data.data\r\n        } else if (data?.status == 201) {\r\n            closeModal();\r\n            loadWorker()\r\n        }\r\n    })\r\n\r\n}\r\nfunction deAssignTeamModal(pid) {\r\n    store.dispatch('putMethod', { url: '/remove-staff-from-team/'+pid, prompt: 'Are You sure you want to remove staff from the team?' }).then((data) => {\r\n         if (data?.status == 201) {\r\n            loadWorker()\r\n        }\r\n    })\r\n}\r\nfunction addTeam() {\r\n    errors.value = []\r\n    // let data = new FormData;\r\n    // const  header = { \"Content-Type\": \"multipart/form-data\" };\r\n    store.dispatch('postMethod', { url: '/assign-team', param: team.value }).then((data) => {\r\n        if (data?.status == 422) {\r\n            errors.value = data.data\r\n        } else if (data?.status == 201) {\r\n            closeModal()\r\n            loadWorker()\r\n        }\r\n    })\r\n}\r\n\r\nconst deleteCasualStaff = (pid) => {\r\n    store.dispatch('deleteMethod', { url: '/delete-casual-staff/'+pid}).then((data) => {\r\n        if (data?.status == 201) {\r\n            loadWorker()\r\n        }\r\n    })\r\n}\r\n// const editWorker = (pid) => {\r\n//     localStorage.clear()\r\n//     query = { action: 'edit', tab: 'casual-tab', 'id': pid }\r\n//     localStorage.setItem('TVATI_CASAUL_TAB', JSON.stringify(query, null, 2))\r\n//     router.push({ path: 'workers', query: query })\r\n//     let resultsTab = document.getElementById('casual-tab');\r\n//     //show the results tab:\r\n//     resultsTab.click();\r\n// }\r\nconst worker = ref({});\r\n\r\nloadWorker()\r\nfunction loadWorker() {\r\n    store.dispatch('getMethod', { url: '/load-workers' }).then((data) => {\r\n        if (data?.status == 200) {\r\n            worker.value = data.data;\r\n        }\r\n    })\r\n}\r\nconst teamDrop = ref({});\r\nfunction dropDownTeam() {\r\n    store.dispatch('loadDropdown', 'team').then(({ data }) => {\r\n        teamDrop.value = data;\r\n    })\r\n}\r\ndropDownTeam()\r\n\r\n\r\nconst deptDrop = ref({});\r\nfunction dropdownDept() {\r\n    store.dispatch('loadDropdown', 'departments').then(({ data }) => {\r\n        deptDrop.value = data;\r\n    })\r\n}\r\ndropdownDept()\r\nconst userDrop = ref({});\r\nfunction dropdownUser() {\r\n    store.dispatch('loadDropdown', 'users').then(({ data }) => {\r\n        userDrop.value = data;\r\n    })\r\n}\r\ndropdownUser()\r\n\r\nfunction nextPage(link) {\r\n    alert()\r\n    if (!link.url || link.active) {\r\n        return;\r\n    }\r\n    alert(link.url)\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./WorkersView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WorkersView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["__exports__","errors","ref","staff","email","username","gsm","group","firstname","othername","marital_status","gender","religion","pob","dob","state_of_origin","lga_of_origin","state_of_residence","lga_of_residence","address","team_pid","blood_group","geno_type","image","resetAttr","value","handleImageChange","event","file","target","files","ext","substring","lastIndexOf","includes","store","commit","message","type","size","reader","FileReader","onload","result","readAsDataURL","createCasualStaff","dispatch","url","param","then","data","status","states","dropDOwnState","teamDrop","dropDownTeam","stateLgas","loadStateLga","resLga","loadStateRes","onMounted","tsk","localStorage","getItem","JSON","parse","action","loadCasual","query","id","pid","router","useRouter","push","teamModal","openTeamModal","assignModal","assignTeamModal","team","user_pid","closeModal","resetTeam","addStaff","loadWorker","deAssignTeamModal","prompt","addTeam","deleteCasualStaff","worker","deptDrop","dropdownDept","userDrop","dropdownUser","nextPage","link","alert","active"],"sourceRoot":""}