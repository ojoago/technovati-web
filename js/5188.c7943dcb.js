"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[5188],{1187:function(l,e,a){a.d(e,{Z:function(){return i}});var s=a(3396);const t=["disabled","innerHTML"];var o={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(e,a)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>e.$emit("next",l.link))},[(0,s._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,t)])]))}};const n=o;var i=n},5188:function(l,e,a){a.r(e),a.d(e,{default:function(){return ll}});var s=a(3396),t=a(7139),o=a(9242),n=a(4870),i=a(2191),d=a(1187),u=a(6204),r=a(6091);const c={class:"container mt-2"},p={class:"card"},m={class:"card-body"},_={class:"table-responsive"},v={class:"table-hover table-stripped table-bordered table"},g=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"SN"),(0,s._)("th",null,"Names"),(0,s._)("th",null,"Phone Number"),(0,s._)("th",null,"Purpose"),(0,s._)("th",null,"Tag"),(0,s._)("th",null,"Time in"),(0,s._)("th",null,"Time out"),(0,s._)("th",null,[(0,s._)("i",{class:"bi bi-gear-fill"})])])],-1),f={key:0,class:"dropdown"},b=(0,s._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,s._)("i",{class:"bi bi-tools"})],-1),w={class:"dropdown-menu"},h=["onClick"],k=["onClick"],y=["onClick"],x=(0,s._)("tfoot",null,null,-1),D={class:"flex justify-center mt-4"},V={class:"relative justify-center rounded-md shadow pagination"},z={id:"logForm"},C={class:"row"},Z={class:"col-md-6"},N={class:"form-group"},U=(0,s._)("label",{class:"form-label"},[(0,s.Uk)("Names "),(0,s._)("span",{class:"text-danger"},"*")],-1),H={key:0,class:"text-danger"},T={class:"col-md-6"},q={class:"form-group"},L=(0,s._)("label",{class:"form-label"},"Phone Numbers",-1),M={key:0,class:"text-danger"},P={class:"col-md-6"},j={class:"form-group"},S=(0,s._)("label",{class:"form-label"},"Visitor's Address",-1),O={key:0,class:"text-danger"},A={class:"col-md-6"},K={class:"form-group"},R=(0,s._)("label",{class:"form-label"},[(0,s.Uk)("Purpose of Visit "),(0,s._)("span",{class:"text-danger"},"*")],-1),W={key:0,class:"text-danger"},Y={class:"col-md-6"},E={class:"form-group"},F=(0,s._)("label",{class:"form-label"},"Tag Number",-1),$={key:0,class:"text-danger"},B={class:"col-md-6"},G={class:"form-group"},I=(0,s._)("label",{class:"form-label"},"Staff ",-1),J={key:0,class:"text-danger"};var Q={__name:"VisitorLog",setup(l){const e=(0,n.iH)(!1),a=()=>{e.value=!0},Q=()=>{e.value=!1,sl()},X=(0,n.iH)({}),ll=(0,n.iH)({}),el=(0,n.iH)({names:"",purpose:"",gsm:"",address:"",tag:"",time_in:"",time_out:"",staff_pid:""}),al=l=>{el.value={names:l.names,purpose:l.purpose,gsm:l.gsm,address:l.address,tag:l.tag,time_in:l.time_in,time_out:l.time_out,id:l.id,staff:l.staff_pid},e.value=!0},sl=()=>{el.value={names:"",purpose:"",gsm:"",address:"",tag:"",time_in:"",time_out:"",staff_pid:""}},tl=l=>{i.Z.dispatch("getMethod",{url:"/sign-visitor-out/"+l}).then((l=>{200==l?.status&&(i.Z.commit("notify",{message:"Reloading Datas...",type:"secondary"}),il())}))},ol=l=>{i.Z.dispatch("deleteMethod",{url:"/delete-visitor-record/"+l}).then((l=>{200==l?.status&&(i.Z.commit("notify",{message:"Reloading Datas...",type:"secondary"}),il())}))};function nl(l="/log-visitor"){X.value=[],i.Z.dispatch("postMethod",{url:l,param:el.value}).then((l=>{console.log(l),422==l?.status?X.value=l.data:201==l?.status&&(il(),Q())}))}function il(){i.Z.dispatch("getMethod",{url:"/load-visitor-log"}).then((l=>{200==l?.status&&(ll.value=l.data)}))}const dl=(0,n.iH)([]);function ul(){i.Z.dispatch("loadDropdown","users").then((({data:l})=>{dl.value=l}))}function rl(l){l.url&&!l.active&&nl(l.url)}return ul(),il(),(l,i)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",c,[(0,s._)("div",p,[(0,s._)("div",{class:"card-header"},[(0,s.Uk)(" Visitor's Log "),(0,s._)("button",{class:"btn btn-sm btn-primary",onClick:a},"Add New")]),(0,s._)("div",m,[(0,s._)("div",_,[(0,s._)("table",v,[g,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ll.value.data,((l,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",null,(0,t.zw)(e+1),1),(0,s._)("td",null,(0,t.zw)(l.names),1),(0,s._)("td",null,(0,t.zw)(l.gsm),1),(0,s._)("td",null,(0,t.zw)(l.purpose),1),(0,s._)("td",null,(0,t.zw)(l.tag),1),(0,s._)("td",null,(0,t.zw)(l.time),1),(0,s._)("td",null,(0,t.zw)(l.out),1),(0,s._)("td",null,[l.time_out?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",f,[b,(0,s._)("ul",w,[(0,s._)("li",null,[(0,s._)("a",{class:"dropdown-item pointer bg-success",onClick:e=>tl(l.id)},"Clock out",8,h)]),(0,s._)("li",null,[(0,s._)("a",{class:"dropdown-item pointer bg-warning",onClick:e=>al(l)},"Edit",8,k)]),(0,s._)("li",null,[(0,s._)("a",{class:"dropdown-item pointer bg-danger",onClick:e=>ol(l.id)},"Delete",8,y)])])]))])])))),128))]),x]),(0,s._)("div",D,[(0,s._)("nav",V,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ll.value.links,((l,e)=>((0,s.wg)(),(0,s.j4)(d.Z,{link:l,key:e,onNext:e=>rl(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,s.Wm)(r.Z,{isOpen:e.value,onSubmit:nl,"modal-class":"modal-lg",title:"Visitor's Log",onModalClose:Q},{content:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("form",z,[(0,s._)("div",C,[(0,s._)("div",Z,[(0,s._)("div",N,[U,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=l=>el.value.names=l),class:"form-control",placeholder:"Name of visitor"},null,512),[[o.nr,el.value.names]]),X.value?.names?((0,s.wg)(),(0,s.iD)("p",H,(0,t.zw)(X.value?.names[0]),1)):(0,s.kq)("",!0)])]),(0,s._)("div",T,[(0,s._)("div",q,[L,(0,s.wy)((0,s._)("input",{type:"text",maxlength:"11","onUpdate:modelValue":i[1]||(i[1]=l=>el.value.gsm=l),class:"form-control",placeholder:"gsm"},null,512),[[o.nr,el.value.gsm]]),X.value?.gsm?((0,s.wg)(),(0,s.iD)("p",M,(0,t.zw)(X.value?.gsm[0]),1)):(0,s.kq)("",!0)])]),(0,s._)("div",P,[(0,s._)("div",j,[S,(0,s.wy)((0,s._)("textarea",{type:"text","onUpdate:modelValue":i[2]||(i[2]=l=>el.value.address=l),class:"form-control",placeholder:"visitor address"},null,512),[[o.nr,el.value.address]]),X.value?.address?((0,s.wg)(),(0,s.iD)("p",O,(0,t.zw)(X.value?.address[0]),1)):(0,s.kq)("",!0)])]),(0,s._)("div",A,[(0,s._)("div",K,[R,(0,s.wy)((0,s._)("textarea",{type:"text","onUpdate:modelValue":i[3]||(i[3]=l=>el.value.purpose=l),class:"form-control",placeholder:"purpose of visit"},null,512),[[o.nr,el.value.purpose]]),X.value?.purpose?((0,s.wg)(),(0,s.iD)("p",W,(0,t.zw)(X.value?.purpose[0]),1)):(0,s.kq)("",!0)])]),(0,s._)("div",Y,[(0,s._)("div",E,[F,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":i[4]||(i[4]=l=>el.value.tag=l),class:"form-control form-control-sm",placeholder:"e.g TLV 1"},null,512),[[o.nr,el.value.tag]]),X.value?.tag?((0,s.wg)(),(0,s.iD)("p",$,(0,t.zw)(X.value?.tag[0]),1)):(0,s.kq)("",!0)])]),(0,s._)("div",B,[(0,s._)("div",G,[I,(0,s.Wm)((0,n.SU)(u.Z),{modelValue:el.value.staff_pid,"onUpdate:modelValue":i[5]||(i[5]=l=>el.value.staff_pid=l),options:dl.value,settings:{width:"100%"}},null,8,["modelValue","options"]),X.value?.staff_pid?((0,s.wg)(),(0,s.iD)("p",J,(0,t.zw)(X.value?.staff_pid[0]),1)):(0,s.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const X=Q;var ll=X}}]);
//# sourceMappingURL=5188.c7943dcb.js.map