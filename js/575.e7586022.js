"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[575],{1187:function(e,l,t){t.d(l,{Z:function(){return o}});var a=t(3396);const n=["disabled","innerHTML"];var s={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(e){return(l,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("li",{class:"page-item",onClick:t[0]||(t[0]=t=>l.$emit("next",e.link))},[(0,a._)("span",{class:"page-link pointer",href:"#",disabled:!e.link.url,innerHTML:e.link.label},null,8,n)])]))}};const u=s;var o=u},575:function(e,l,t){t.r(l),t.d(l,{default:function(){return V}});var a=t(3396),n=t(7139),s=t(9242),u=t(2191),o=t(4870),i=t(1187),r=t(6091);const d={class:"container-fluid mt-2"},c={class:"card"},_={class:"card-body"},v=(0,a._)("h5",{class:"card-title"},"Staff Leave ",-1),m={class:"border rounded-3 p-2 m-1"},p=(0,a._)("legend",{class:"float-none w-auto px-2"},"Leave Request",-1),b={class:"table-responsive"},h={class:"table-hover table-stripped table-bordered table"},f=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"SN"),(0,a._)("th",null,"Leave"),(0,a._)("th",null,"From"),(0,a._)("th",null,"to"),(0,a._)("th",null,"Days"),(0,a._)("th",null,"note"),(0,a._)("th",null,"status"),(0,a._)("th",null,"manager comment"),(0,a._)("th",null,"hr comment"),(0,a._)("th",null,[(0,a._)("i",{class:"bi bi-gear-fill"})])])],-1),k={key:0,class:"dropdown"},w=["onClick"],g=(0,a._)("span",null,"Response",-1),y=[g],x={class:"flex justify-center mt-4"},z={class:"relative justify-center rounded-md shadow pagination"},q={id:"rForm"},D={class:"row"},H={class:"col-md-12"},L={class:"form-group"},U=(0,a._)("label",{class:"form-label"},[(0,a.Uk)("Comment "),(0,a._)("span",{class:"text-danger"},"*")],-1),C={key:0,class:"text-danger"},Z={class:"col-md-12"},M={class:"form-group"},j=(0,a._)("label",{class:"form-label"},[(0,a.Uk)("Approve? "),(0,a._)("span",{class:"text-danger"},"*")],-1),N=(0,a._)("br",null,null,-1),R=(0,a._)("label",{for:"yes"},"Yes",-1),S=(0,a._)("label",{for:"no"},"No",-1),T={key:0,class:"text-danger"};var F={__name:"LeaveRequest",setup(e){const l=(0,o.iH)(0);l.value=u.Z.state.approvalLevel;const t=(0,o.iH)({}),g=(0,o.iH)(!1),F=()=>{g.value=!1},O=(0,o.iH)({comment:"",leave_pid:"",status:""}),V=e=>{O.value.leave_pid=e,g.value=!0},Y=()=>{t.value=[],u.Z.dispatch("postMethod",{url:"/hr-respond-to-request",param:O.value}).then((e=>{if(422==e?.status)t.value=e.data;else if(201==e?.status){K();let e=document.querySelector("#rForm");e.reset()}}))},G=(0,o.iH)({});function K(e="/leave-request"){u.Z.dispatch("getMethod",{url:e}).then((e=>{200==e?.status&&(G.value=e.data)})).catch((e=>{console.log(e)}))}function A(e){e.url&&!e.active&&K(e.url)}return K(),(e,l)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",d,[(0,a._)("div",c,[(0,a._)("div",_,[v,(0,a._)("fieldset",m,[p,(0,a._)("div",b,[(0,a._)("table",h,[f,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(G.value.data,((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:l},[(0,a._)("td",null,(0,n.zw)(l+1),1),(0,a._)("td",null,(0,n.zw)(e.leave.leave),1),(0,a._)("td",null,(0,n.zw)(e.begin),1),(0,a._)("td",null,(0,n.zw)(e.end),1),(0,a._)("td",null,(0,n.zw)(e.days),1),(0,a._)("td",null,(0,n.zw)(e.note),1),(0,a._)("td",null,(0,n.zw)(e.request_status),1),(0,a._)("td",null,(0,n.zw)(e.line_manager_comment),1),(0,a._)("td",null,(0,n.zw)(e.hr_comment),1),(0,a._)("td",null,[1!=e.status||e.expired?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:l=>V(e.pid)},y,8,w)]))])])))),128))])]),(0,a._)("div",x,[(0,a._)("nav",z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(G.value.links,((e,l)=>((0,a.wg)(),(0,a.j4)(i.Z,{link:e,key:l,onNext:l=>A(e)},null,8,["link","onNext"])))),128))])])])])])])]),(0,a.Wm)(r.Z,{isOpen:g.value,onSubmit:Y,"modal-class":"modal-sm",title:"Request Leave",onModalClose:F},{content:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("form",q,[(0,a._)("div",D,[(0,a._)("div",H,[(0,a._)("div",L,[U,(0,a.wy)((0,a._)("textarea",{type:"text",cols:"4","onUpdate:modelValue":l[0]||(l[0]=e=>O.value.comment=e),class:"form-control form-control-sm",placeholder:"e.g this leave only applies to senior devs"},null,512),[[s.nr,O.value.comment]]),t.value?.comment?((0,a.wg)(),(0,a.iD)("p",C,(0,n.zw)(t.value?.comment[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",Z,[(0,a._)("div",M,[j,(0,a.Uk)(),N,R,(0,a.Uk)("   "),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>O.value.status=e),type:"radio",id:"yes",name:"status",value:"3"},null,512),[[s.G2,O.value.status]]),(0,a.Uk)("       "),S,(0,a.Uk)("   "),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>O.value.status=e),type:"radio",id:"no",name:"status",value:"4"},null,512),[[s.G2,O.value.status]]),t.value?.status?((0,a.wg)(),(0,a.iD)("p",T,(0,n.zw)(t.value?.status[0]),1)):(0,a.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const O=F;var V=O}}]);
//# sourceMappingURL=575.e7586022.js.map