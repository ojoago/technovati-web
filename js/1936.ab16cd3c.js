"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[1936],{1187:function(l,e,n){n.d(e,{Z:function(){return d}});var a=n(3396);const t=["disabled","innerHTML"];var o={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(e,n)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("li",{class:"page-item",onClick:n[0]||(n[0]=n=>e.$emit("next",l.link))},[(0,a._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,t)])]))}};const s=o;var d=s},1936:function(l,e,n){n.r(e),n.d(e,{default:function(){return B}});var a=n(3396),t=n(7139),o=n(4870),s=n(9242),d=n(2191),i=n(1187),u=n(6368),c=n(6204),r=n(6091);const p={class:"container mt-2"},v={class:"card"},m=(0,a._)("h3",{class:"mx-4"},"Deduction Exclusions",-1),_={class:"card-body"},b={class:"table-responsive"},g={class:"table-hover table-stripped table-bordered table"},w=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"SN"),(0,a._)("th",null,"Deduction"),(0,a._)("th",null," Employees"),(0,a._)("th",null," start"),(0,a._)("th",null," End"),(0,a._)("th",null,[(0,a._)("i",{class:"bi bi-gear-fill"})])])],-1),h={class:"dropdown"},k=(0,a._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,a._)("i",{class:"bi bi-tools"})],-1),f={class:"dropdown-menu"},y={class:""},D=["onClick"],x={class:""},H=["onClick"],z={class:"flex justify-center mt-4"},C={class:"relative justify-center rounded-md shadow pagination"},E={class:"row"},V={class:"col-md-12"},Z={class:"form-group"},M=(0,a._)("label",{class:"form-label"},"Deduction",-1),U={key:0,class:"text-danger"},S={class:"col-md-12"},j={class:"form-group"},q=(0,a._)("label",{class:"form-label"},"Excluded Employee(s) ",-1),N={key:0,class:"text-danger"},T={class:"col-md-6"},K={class:"form-group"},L=(0,a._)("label",{class:"form-label"},"Start month",-1),O={key:0,class:"text-danger"},W={class:"col-md-6"},Y={class:"form-group"},P=(0,a._)("label",{class:"form-label"},"End Month",-1),A={key:0,class:"text-danger"};var J={__name:"DeductionExclusionView",setup(l){const e=(0,o.iH)(!1),n=()=>{e.value=!0},J=()=>{e.value=!1,F()},$=(0,o.iH)({}),B=(0,o.iH)({deduction:"",employees:"",begin:"",end:""}),F=()=>{B.value={deduction:"",employees:"",begin:"",end:""}},G=l=>{B.value={deduction:l.deduction_pid,employees:l.employees,begin:l.begin,end:l.end,pid:l.pid},e.value=!0},I=l=>{alert(l)};function Q(){$.value=[],d.Z.dispatch("postMethod",{url:"/add-deduction-exclusion",param:B.value}).then((l=>{422==l?.status?$.value=l.data:201==l?.status&&(J(),X())})).catch((l=>{console.log(l)}))}const R=(0,o.iH)({});function X(l="/load-deduction-exclusion"){d.Z.dispatch("getMethod",{url:l}).then((l=>{200==l?.status&&(R.value=l.data)})).catch((l=>{console.log(l)}))}X();const ll=(0,o.iH)([]);function el(){d.Z.dispatch("loadDropdown","users").then((({data:l})=>{ll.value=l})).catch((l=>{console.log(l)}))}el();const nl=(0,o.iH)([]);function al(){d.Z.dispatch("loadDropdown","deduction-names").then((({data:l})=>{nl.value=l})).catch((l=>{console.log(l)}))}function tl(l){l.url&&!l.active&&X(l.url)}return al(),(l,d)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",p,[(0,a._)("div",v,[(0,a._)("div",{class:"card-header"},[m,(0,a._)("button",{class:"btn btn-sm btn-primary",onClick:n},"Add New")]),(0,a._)("div",_,[(0,a._)("div",b,[(0,a._)("table",g,[w,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.value.data,((l,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,t.zw)(e+1),1),(0,a._)("td",null,(0,t.zw)(l.deduction.name),1),(0,a._)("td",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.employees,(l=>((0,a.wg)(),(0,a.iD)("span",{key:l.pid,class:"badge bg-dark p-1 m-1"},(0,t.zw)(l.text),1)))),128))]),(0,a._)("td",null,(0,t.zw)(l.begin),1),(0,a._)("td",null,(0,t.zw)(l.end),1),(0,a._)("td",null,[(0,a._)("div",h,[k,(0,a._)("ul",f,[(0,a._)("li",y,[(0,a._)("a",{class:"dropdown-item pointer bg-warning",onClick:e=>G(l)},"Edit",8,D)]),(0,a._)("li",x,[(0,a._)("a",{class:"dropdown-item pointer bg-danger",onClick:e=>I(l.id)},"Delete",8,H)])])])])])))),128))])]),(0,a._)("div",z,[(0,a._)("nav",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.value.links,((l,e)=>((0,a.wg)(),(0,a.j4)(i.Z,{link:l,key:e,onNext:e=>tl(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,a.Wm)(r.Z,{isOpen:e.value,onSubmit:Q,"modal-class":"modal-sm",title:"Deduction Exclusion",onModalClose:J},{content:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("form",null,[(0,a._)("div",E,[(0,a._)("div",V,[(0,a._)("div",Z,[M,(0,a.Wm)((0,o.SU)(c.Z),{modelValue:B.value.deduction,"onUpdate:modelValue":d[0]||(d[0]=l=>B.value.deduction=l),options:nl.value,settings:{width:"100%"}},null,8,["modelValue","options"]),$.value?.deduction?((0,a.wg)(),(0,a.iD)("p",U,(0,t.zw)($.value?.deduction[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",S,[(0,a._)("div",j,[q,(0,a._)("div",null,[(0,a.Wm)((0,o.SU)(u.J),{modelValue:B.value.employees,"onUpdate:modelValue":d[1]||(d[1]=l=>B.value.employees=l),options:ll.value,multiple:!0,"close-on-select":!0,placeholder:"Pick staff",label:"text","track-by":"id"},null,8,["modelValue","options"])]),$.value?.employees?((0,a.wg)(),(0,a.iD)("p",N,(0,t.zw)($.value?.employees[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",T,[(0,a._)("div",K,[L,(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":d[2]||(d[2]=l=>B.value.begin=l),class:"form-control"},null,512),[[s.nr,B.value.begin]]),$.value?.begin?((0,a.wg)(),(0,a.iD)("p",O,(0,t.zw)($.value?.begin[0]),1)):(0,a.kq)("",!0)])]),(0,a._)("div",W,[(0,a._)("div",Y,[P,(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":d[3]||(d[3]=l=>B.value.end=l),class:"form-control"},null,512),[[s.nr,B.value.end]]),$.value?.end?((0,a.wg)(),(0,a.iD)("p",A,(0,t.zw)($.value?.end[0]),1)):(0,a.kq)("",!0)])])])])])])),_:1},8,["isOpen"])]))}};const $=J;var B=$}}]);
//# sourceMappingURL=1936.ab16cd3c.js.map