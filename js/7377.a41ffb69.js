"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[7377],{1187:function(l,e,a){a.d(e,{Z:function(){return r}});var t=a(3396);const s=["disabled","innerHTML"];var n={__name:"PaginationLinks",props:{link:Object},emits:["next"],setup(l){return(e,a)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("li",{class:"page-item",onClick:a[0]||(a[0]=a=>e.$emit("next",l.link))},[(0,t._)("span",{class:"page-link pointer",href:"#",disabled:!l.link.url,innerHTML:l.link.label},null,8,s)])]))}};const o=n;var r=o},7377:function(l,e,a){a.r(e),a.d(e,{default:function(){return Tl}});a(560);var t=a(3396),s=a(7139),n=a(4870),o=a(9242),r=a(2191),d=a(2483),i=a(6204),u=a(1187),c=a(6091);const m={class:"container mt-2"},p={class:"card"},_=(0,t._)("h3",{class:"mx-3"},"Customers",-1),v={class:"card-body"},g=(0,t._)("ul",{class:"nav nav-tabs d-flex",id:"myTabjustified",role:"tablist"},[(0,t._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,t._)("button",{class:"nav-link w-100 active",id:"customer-tab","data-bs-toggle":"tab","data-bs-target":"#customer",type:"button",role:"tab","aria-controls":"customer","aria-selected":"true"},"Customer")]),(0,t._)("li",{class:"nav-item flex-fill",role:"presentation"},[(0,t._)("button",{class:"nav-link w-100",id:"store-tab","data-bs-toggle":"tab","data-bs-target":"#store",type:"button",role:"tab","aria-controls":"store","aria-selected":"false"},"Store Manager")])],-1),b={class:"tab-content pt-2",id:"myTabjustifiedContent"},w={class:"tab-pane fade show active",id:"customer",role:"tabpanel","aria-labelledby":"customer-tab"},f={class:"table-responsive"},h={class:"table-hover table-stripped table-bordered table"},y=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"name"),(0,t._)("th",null,"RC"),(0,t._)("th",null,"email"),(0,t._)("th",null,"Phone Number"),(0,t._)("th",null,"address"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-gear-fill"})])])],-1),k={class:"dropdown"},x=(0,t._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,t._)("i",{class:"bi bi-tools"})],-1),C={class:"dropdown-menu"},z={class:""},D=["onClick"],N={class:""},H=["onClick"],V={class:""},Z=["onClick"],M={class:"flex justify-center mt-4"},U={class:"relative justify-center rounded-md shadow pagination"},q={class:"tab-pane fade",id:"store",role:"tabpanel","aria-labelledby":"customer-tab"},j={class:"table-responsive"},S={class:"table-hover table-stripped table-bordered table"},T=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"Company"),(0,t._)("th",null,"names"),(0,t._)("th",null,"Username"),(0,t._)("th",null,"email"),(0,t._)("th",null,"Phone Number"),(0,t._)("th",null,"address"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-gear-fill"})])])],-1),E={class:"dropdown"},A=(0,t._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,t._)("i",{class:"bi bi-tools"})],-1),P={class:"dropdown-menu"},K=["onClick"],L=["onClick"],Y={class:"flex justify-center mt-4"},I={class:"relative justify-center rounded-md shadow pagination"},R={id:"mForm"},W={class:"row"},F={class:"col-md-6"},O={class:"form-group"},J=(0,t._)("label",{class:"form-label"},"Company",-1),$={key:0,class:"text-danger"},B={class:"col-md-6"},G={class:"form-group"},Q=(0,t._)("label",{class:"form-label"},"Name",-1),X={key:0,class:"text-danger"},ll={class:"col-md-6"},el={class:"form-group"},al=(0,t._)("label",{class:"form-label"},"Email",-1),tl={key:0,class:"text-danger"},sl={class:"col-md-6"},nl={class:"form-group"},ol=(0,t._)("label",{class:"form-label"},"Phone Number",-1),rl={key:0,class:"text-danger"},dl={class:"col-md-12"},il={class:"form-group"},ul=(0,t._)("label",{class:"form-label"},"Address",-1),cl={key:0,class:"text-danger"},ml={id:"cForm"},pl={class:"row"},_l={class:"col-md-12"},vl={class:"form-group"},gl=(0,t._)("label",{class:"form-label"},"Name",-1),bl={key:0,class:"text-danger"},wl={class:"col-md-4"},fl={class:"form-group"},hl=(0,t._)("label",{class:"form-label"},"RC",-1),yl={key:0,class:"text-danger"},kl={class:"col-md-4"},xl={class:"form-group"},Cl=(0,t._)("label",{class:"form-label"},"Email",-1),zl={key:0,class:"text-danger"},Dl={class:"col-md-4"},Nl={class:"form-group"},Hl=(0,t._)("label",{class:"form-label"},"Phone Number",-1),Vl={key:0,class:"text-danger"},Zl={class:"col-md-12"},Ml={class:"form-group"},Ul=(0,t._)("label",{class:"form-label"},"Address",-1),ql={key:0,class:"text-danger"};var jl={__name:"CustomerView",setup(l){const e=(0,d.tv)(),a=(0,n.iH)(!1),jl=(0,n.iH)(!1),Sl=()=>{a.value=!1,jl.value=!1,Bl(),Kl()},Tl=()=>{jl.value=!0,le()},El=(0,n.iH)({}),Al=(0,n.iH)({}),Pl=(0,n.iH)({name:"",rc:"",email:"",gsm:"",address:""}),Kl=()=>{Pl.value={name:"",rc:"",email:"",gsm:"",address:""}},Ll=(0,n.iH)({customer_pid:"",fullname:"",email:"",gsm:"",address:""}),Yl=l=>{Pl.value={name:l.name,rc:l.rc,email:l.email,gsm:l.gsm,address:l.address,pid:l.pid},a.value=!0},Il=l=>{Ll.value={customer_pid:l.customer_pid,fullname:l.fullname,email:l?.user?.email,gsm:l?.user?.gsm,address:l.address,id:l.id},jl.value=!0};function Rl(){El.value=[],r.Z.dispatch("postMethod",{url:"/create-customer",param:Pl.value}).then((l=>{422==l?.status?El.value=l.data:201==l?.status&&(Sl(),Wl())}))}function Wl(l="/load-customers"){r.Z.dispatch("getMethod",{url:l}).then((l=>{200==l?.status?Al.value=l.data:Pl.value={}}))}function Fl(l){r.Z.dispatch("deleteMethod",{url:"/delete-customer/"+l}).then((l=>{201==l?.status&&Wl()}))}function Ol(l){r.Z.dispatch("deleteMethod",{url:"/delete-customer-store-manager/"+l}).then((l=>{201==l?.status&&$l()}))}const Jl=(0,n.iH)({});function $l(){r.Z.dispatch("getMethod",{url:"/load-customer-store-manager"}).then((l=>{200==l?.status&&(Jl.value=l.data)}))}$l();const Bl=()=>{Ll.value={customer_pid:"",fullname:"",email:"",gsm:"",address:""}},Gl=(0,n.iH)({});function Ql(){Gl.value=[],r.Z.dispatch("postMethod",{url:"/create-customer-store-manager",param:Ll.value}).then((l=>{422==l?.status?Gl.value=l.data:201==l?.status&&(Sl(),$l())}))}const Xl=(0,n.iH)([]);function le(){r.Z.dispatch("loadDropdown","customers").then((({data:l})=>{Xl.value=l})).catch((l=>{console.log(l)}))}function ee(l){localStorage.setItem("TVATI_CST_DETAIL",JSON.stringify(l,null,2)),e.push({path:"customer-detail",query:{cst:l.pid}})}function ae(l){l.url&&!l.active&&Wl(l.url)}return le(),Wl(),(l,e)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",m,[(0,t._)("div",p,[_,(0,t._)("div",v,[g,(0,t._)("div",b,[(0,t._)("div",w,[(0,t._)("button",{class:"btn btn-sm btn-primary m-2",onClick:e[0]||(e[0]=l=>a.value=!0)},"Add New"),(0,t._)("div",f,[(0,t._)("table",h,[y,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Al.value?.data,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,s.zw)(e+1),1),(0,t._)("td",null,(0,s.zw)(l.name),1),(0,t._)("td",null,(0,s.zw)(l.rc),1),(0,t._)("td",null,(0,s.zw)(l.email),1),(0,t._)("td",null,(0,s.zw)(l.gsm),1),(0,t._)("td",null,(0,s.zw)(l.address),1),(0,t._)("td",null,[(0,t._)("div",k,[x,(0,t._)("ul",C,[(0,t._)("li",z,[(0,t._)("a",{class:"dropdown-item pointer bg-info",onClick:e=>ee(l)},"Details",8,D)]),(0,t._)("li",N,[(0,t._)("a",{class:"dropdown-item pointer bg-warning",onClick:e=>Yl(l)},"Edit",8,H)]),(0,t._)("li",V,[(0,t._)("a",{class:"dropdown-item pointer bg-danger",onClick:e=>Fl(l.pid)},"Delete",8,Z)])])])])])))),128))])]),(0,t._)("div",M,[(0,t._)("nav",U,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Al.value.links,((l,e)=>((0,t.wg)(),(0,t.j4)(u.Z,{link:l,key:e,onNext:e=>ae(l)},null,8,["link","onNext"])))),128))])])])]),(0,t._)("div",q,[(0,t._)("button",{class:"btn btn-sm btn-primary m-3",onClick:Tl},"Add New"),(0,t._)("div",j,[(0,t._)("table",S,[T,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Jl.value?.data,((l,e)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",null,(0,s.zw)(e+1),1),(0,t._)("td",null,(0,s.zw)(l.company.name),1),(0,t._)("td",null,(0,s.zw)(l.fullname),1),(0,t._)("td",null,(0,s.zw)(l.user.username),1),(0,t._)("td",null,(0,s.zw)(l.user.email),1),(0,t._)("td",null,(0,s.zw)(l.user.gsm),1),(0,t._)("td",null,(0,s.zw)(l.address),1),(0,t._)("td",null,[(0,t._)("div",E,[A,(0,t._)("ul",P,[(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-warning",onClick:e=>Il(l)},"Edit",8,K)]),(0,t._)("li",null,[(0,t._)("a",{class:"dropdown-item pointer bg-danger",onClick:e=>Ol(l.id)},"Delete",8,L)])])])])])))),128))])]),(0,t._)("div",Y,[(0,t._)("nav",I,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Jl.value.links,((l,e)=>((0,t.wg)(),(0,t.j4)(u.Z,{link:l,key:e,onNext:e=>ae(l)},null,8,["link","onNext"])))),128))])])])])])])])]),(0,t.Wm)(c.Z,{"modal-class":"modal-lg","is-open":jl.value,onSubmit:Ql,title:"Customer Store Manager",onModalClose:Sl},{content:(0,t.w5)((()=>[(0,t._)("form",R,[(0,t._)("div",W,[(0,t._)("div",F,[(0,t._)("div",O,[J,(0,t.Wm)((0,n.SU)(i.Z),{modelValue:Ll.value.customer_pid,"onUpdate:modelValue":e[1]||(e[1]=l=>Ll.value.customer_pid=l),options:Xl.value,settings:{width:"100%"}},null,8,["modelValue","options"]),Gl.value?.customer_pid?((0,t.wg)(),(0,t.iD)("p",$,(0,s.zw)(Gl.value?.customer_pid[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",B,[(0,t._)("div",G,[Q,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>Ll.value.fullname=l),class:"form-control",placeholder:"e.g Nasiru ..."},null,512),[[o.nr,Ll.value.fullname]]),Gl.value?.fullname?((0,t.wg)(),(0,t.iD)("p",X,(0,s.zw)(Gl.value?.fullname[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",ll,[(0,t._)("div",el,[al,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>Ll.value.email=l),class:"form-control",placeholder:"e.g optimal@gmail.com"},null,512),[[o.nr,Ll.value.email]]),Gl.value?.email?((0,t.wg)(),(0,t.iD)("p",tl,(0,s.zw)(Gl.value?.email[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",sl,[(0,t._)("div",nl,[ol,(0,t.wy)((0,t._)("input",{type:"text",maxlength:"11","onUpdate:modelValue":e[4]||(e[4]=l=>Ll.value.gsm=l),class:"form-control",placeholder:"Enter phone number"},null,512),[[o.nr,Ll.value.gsm]]),Gl.value?.gsm?((0,t.wg)(),(0,t.iD)("p",rl,(0,s.zw)(Gl.value?.gsm[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",dl,[(0,t._)("div",il,[ul,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>Ll.value.address=l),class:"form-control",placeholder:"e.g plot 99 lagos avenue"},null,512),[[o.nr,Ll.value.address]]),Gl.value?.address?((0,t.wg)(),(0,t.iD)("p",cl,(0,s.zw)(Gl.value?.address[0]),1)):(0,t.kq)("",!0)])])])])])),_:1},8,["is-open"]),(0,t.Wm)(c.Z,{"modal-class":"modal-lg","is-open":a.value,onSubmit:Rl,title:"Create Customer",onModalClose:Sl},{content:(0,t.w5)((()=>[(0,t._)("form",ml,[(0,t._)("div",pl,[(0,t._)("div",_l,[(0,t._)("div",vl,[gl,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>Pl.value.name=l),class:"form-control",placeholder:"e.g Ray Engineering"},null,512),[[o.nr,Pl.value.name]]),El.value?.name?((0,t.wg)(),(0,t.iD)("p",bl,(0,s.zw)(El.value?.name[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",wl,[(0,t._)("div",fl,[hl,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=l=>Pl.value.rc=l),class:"form-control",placeholder:"e.g 20121212"},null,512),[[o.nr,Pl.value.rc]]),El.value?.rc?((0,t.wg)(),(0,t.iD)("p",yl,(0,s.zw)(El.value?.rc[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",kl,[(0,t._)("div",xl,[Cl,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=l=>Pl.value.email=l),class:"form-control",placeholder:"e.g ojoago@optimalsoft.com"},null,512),[[o.nr,Pl.value.email]]),El.value?.email?((0,t.wg)(),(0,t.iD)("p",zl,(0,s.zw)(El.value?.email[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Dl,[(0,t._)("div",Nl,[Hl,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=l=>Pl.value.gsm=l),class:"form-control",placeholder:"Enter phone number"},null,512),[[o.nr,Pl.value.gsm]]),El.value?.gsm?((0,t.wg)(),(0,t.iD)("p",Vl,(0,s.zw)(El.value?.gsm[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Zl,[(0,t._)("div",Ml,[Ul,(0,t.wy)((0,t._)("textarea",{type:"text","onUpdate:modelValue":e[10]||(e[10]=l=>Pl.value.address=l),class:"form-control",placeholder:"e.g plot 99 lagos avenue"},null,512),[[o.nr,Pl.value.address]]),El.value?.address?((0,t.wg)(),(0,t.iD)("p",ql,(0,s.zw)(El.value?.address[0]),1)):(0,t.kq)("",!0)])])])])])),_:1},8,["is-open"])]))}};const Sl=jl;var Tl=Sl}}]);
//# sourceMappingURL=7377.a41ffb69.js.map