"use strict";(self["webpackChunkTechnovati"]=self["webpackChunkTechnovati"]||[]).push([[8773],{8773:function(e,l,a){a.r(l),a.d(l,{default:function(){return dl}});var t=a(3396),o=a(7139),s=a(4870),d=a(9242),n=a(2191),u=a(6204),i=a(6368),r=a(6091);const c={class:"container mt-2"},p={class:"card"},v=(0,t._)("h3",{class:"mx-4"},"Unit Allowances",-1),_={class:"card-body"},m={class:"table-responsive"},g={class:"table-hover table-stripped table-bordered table"},w=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"SN"),(0,t._)("th",null,"Allowance"),(0,t._)("th",null,"Amount"),(0,t._)("th",null," Level"),(0,t._)("th",null," Value Type"),(0,t._)("th",null,"Method"),(0,t._)("th",null,[(0,t._)("i",{class:"bi bi-gear-fill"})])])],-1),y={class:"dropdown"},b=(0,t._)("button",{type:"button",class:"btn btn-primary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"},[(0,t._)("i",{class:"bi bi-tools"})],-1),f={class:"dropdown-menu"},h={class:"bg-warning"},k=["onClick"],D={class:"bg-danger"},V=["onClick"],x={class:"flex justify-center mt-4"},S={class:"relative justify-center rounded-md shadow pagination"},U={id:"unitForm"},z={class:"row"},q={class:"col-md-12"},H={class:"form-group"},C=(0,t._)("label",{class:"form-label"},"Name",-1),M={key:0,class:"text-danger"},P={class:"col-md-6"},Z={class:"form-group"},A=(0,t._)("label",{class:"form-label"},"Level",-1),E=(0,t._)("option",{value:"",selected:""},"Select Level",-1),W=(0,t._)("option",{value:"1"}," Department ",-1),N=(0,t._)("option",{value:"2"}," Designation ",-1),G=(0,t._)("option",{value:"3"}," Employee ",-1),J=(0,t._)("option",{value:"4"}," Grade ",-1),T=(0,t._)("option",{value:"5"}," Structure ",-1),K=[E,W,N,G,J,T],L={key:0,class:"text-danger"},Y={class:"col-md-6"},j={class:"form-group"},O=(0,t._)("label",{class:"form-label"},"Value Type",-1),F=(0,t._)("option",{value:"",selected:""},"Select Type",-1),I=(0,t._)("option",{value:"1"},"Fixed",-1),R=(0,t._)("option",{value:"2"},"Percentage of basic",-1),B=[F,I,R],Q={key:0,class:"text-danger"},X={class:"col-md-8"},$={class:"form-group"},ee=(0,t._)("label",{class:"form-label"},"Amount/Percentage",-1),le={key:0,class:"text-danger"},ae={class:"col-md-4"},te={class:"form-group"},oe=(0,t._)("label",{class:"form-label"},"Method",-1),se=(0,t._)("option",{value:"",selected:""},"Select Method",-1),de=(0,t._)("option",{value:"1"},"PERIODIC",-1),ne=(0,t._)("option",{value:"2"},"GENERAL",-1),ue=[se,de,ne],ie={key:0,class:"text-danger"},re={key:0},ce={class:"col-md-12"},pe={class:"form-group"},ve=(0,t._)("label",{class:"form-label"},"Department",-1),_e={key:0,class:"text-danger"},me={key:1},ge={class:"col-md-12"},we={class:"form-group"},ye=(0,t._)("label",{class:"form-label"},"Designation",-1),be={key:0,class:"text-danger"},fe={key:2},he={class:"col-md-12"},ke={class:"form-group"},De=(0,t._)("label",{class:"form-label"},"Employee",-1),Ve={key:0,class:"text-danger"},xe={key:3},Se={class:"row"},Ue={class:"col-md-4"},ze={class:"form-group"},qe=(0,t._)("label",{class:"form-label"},"Salary Structure",-1),He=(0,t._)("option",{value:"",selected:""},"Select Structure",-1),Ce=["value"],Me={key:0,class:"text-danger"},Pe={class:"col-md-4"},Ze={class:"form-group"},Ae=(0,t._)("label",{class:"form-label"},"Salary Grade",-1),Ee=(0,t._)("option",{value:"",selected:""},"Select Grade",-1),We=["value"],Ne={key:0,class:"text-danger"},Ge={class:"col-md-4"},Je={class:"form-group"},Te=(0,t._)("label",{class:"form-label"},"Salary Step",-1),Ke={key:0,class:"text-danger"},Le={key:4},Ye={class:"col-md-12"},je={class:"form-group"},Oe=(0,t._)("label",{class:"form-label"},"Structure ",-1),Fe={key:0,class:"text-danger"},Ie={key:5},Re={class:"row"},Be={class:"col-md-6"},Qe={class:"form-group"},Xe=(0,t._)("label",{class:"form-label"},"Start Period ",-1),$e={key:0,class:"text-danger"},el={class:"col-md-6"},ll={class:"form-group"},al=(0,t._)("label",{class:"form-label"},"End Period ",-1),tl={key:0,class:"text-danger"};var ol={__name:"UnitAllowanceView",setup(e){const l=(0,s.iH)(!1),a=()=>{l.value=!0},E=()=>{l.value=!1},W=(0,s.iH)({}),N=(0,s.iH)({allowance_pid:"",level:"",value_type:"",amount:"",method:"",period_from:"",period_to:"",departments:[],structures:[],employees:[],designations:[],grade_grade_pid:"",grade_structure_pid:"",grade_step:""}),G=e=>{N.value={allowance_pid:e.allowance_pid,level:e.level,value_type:e.value_type,amount:e.amount,method:e.method,period:e.period,period_from:e.period_from,period_to:e.period_to,departments:e.departments,structures:e.structures,employees:e.employees,designations:e.designations,grade_grade_pid:e.grade_grade_pid,grade_structure_pid:e.grade_structure_pid,grade_step:e.grade_step,pid:e.pid},l.value=!0},J=()=>{N.value={allowance_pid:"",level:"",value_type:"",amount:"",method:"",period_from:"",period_to:"",departments:"",structures:"",employees:"",designations:"",grade_grade_pid:"",grade_structure_pid:"",grade_step:"",pid:""}};function T(){W.value=[],n.Z.dispatch("postMethod",{url:"/create-unit-allowance",param:N.value}).then((e=>{422==e?.status?W.value=e.data:201==e?.status&&(J(),E(),I())})).catch((e=>{console.log(e)}))}const F=(0,s.iH)({});function I(){n.Z.dispatch("getMethod",{url:"/load-unit-allowance"}).then((e=>{200==e?.status&&(F.value=e.data)})).catch((e=>{console.log(e)}))}I();const R=(0,s.iH)([]);function se(){n.Z.dispatch("loadDropdown","allowance-names").then((({data:e})=>{R.value=e})).catch((e=>{console.log(e)}))}se();const de=(0,s.iH)([]);function ne(){n.Z.dispatch("loadDropdown","departments").then((({data:e})=>{de.value=e})).catch((e=>{console.log(e)}))}ne();const ol=(0,s.iH)([]);function sl(){n.Z.dispatch("loadDropdown","designations").then((({data:e})=>{ol.value=e})).catch((e=>{console.log(e)}))}sl();const dl=(0,s.iH)([]);function nl(){n.Z.dispatch("loadDropdown","users").then((({data:e})=>{dl.value=e})).catch((e=>{console.log(e)}))}nl();const ul=(0,s.iH)([]);function il(){n.Z.dispatch("loadDropdown","salary-structure").then((({data:e})=>{ul.value=e})).catch((e=>{console.log(e)}))}il();const rl=(0,s.iH)([]);function cl(e){n.Z.dispatch("loadDropdown","salary-grade/"+e.target.value).then((e=>{200==e?.status&&(rl.value=e.data)})).catch((e=>{console.log(e)}))}const pl=(0,s.iH)([]),vl=e=>{n.Z.dispatch("loadDropdown","grade-step/"+e.target.value).then((e=>{200==e?.status&&(pl.value=e.data)})).catch((e=>{console.log(e)}))};return(e,n)=>{const J=(0,t.up)("pagination-links");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",c,[(0,t._)("div",p,[(0,t._)("div",{class:"card-header"},[v,(0,t._)("button",{onClick:a,class:"btn btn-sm btn-primary"},"Add New")]),(0,t._)("div",_,[(0,t._)("div",m,[(0,t._)("table",g,[w,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(F.value.data,((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:a},[(0,t._)("td",null,(0,o.zw)(a+1),1),(0,t._)("td",null,(0,o.zw)(l.allowance.name),1),(0,t._)("td",null,(0,o.zw)(l.total),1),(0,t._)("td",null,(0,o.zw)(l.levels),1),(0,t._)("td",null,(0,o.zw)(l.type),1),(0,t._)("td",null,(0,o.zw)(l.methods),1),(0,t._)("td",null,[(0,t._)("div",y,[b,(0,t._)("ul",f,[(0,t._)("li",h,[(0,t._)("a",{class:"dropdown-item pointer",onClick:e=>G(l)},"Edit",8,k)]),(0,t._)("li",D,[(0,t._)("a",{class:"dropdown-item pointer",onClick:a=>e.deleteData(l.id)},"Delete",8,V)])])])])])))),128))])]),(0,t._)("div",x,[(0,t._)("nav",S,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(F.value.links,((l,a)=>((0,t.wg)(),(0,t.j4)(J,{link:l,key:a,onNext:a=>e.nextPage(l)},null,8,["link","onNext"])))),128))])])])])])]),(0,t.Wm)(r.Z,{isOpen:l.value,onSubmit:T,"modal-class":"modal-lg",title:"Unit Allowance",onModalClose:E},{content:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("form",U,[(0,t._)("div",z,[(0,t._)("div",q,[(0,t._)("div",H,[C,(0,t.Wm)((0,s.SU)(u.Z),{modelValue:N.value.allowance_pid,"onUpdate:modelValue":n[0]||(n[0]=e=>N.value.allowance_pid=e),options:R.value,settings:{width:"100%"}},null,8,["modelValue","options"]),W.value?.allowance_pid?((0,t.wg)(),(0,t.iD)("p",M,(0,o.zw)(W.value?.allowance_pid[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",P,[(0,t._)("div",Z,[A,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>N.value.level=e),class:"form-control"},K,512),[[d.bM,N.value.level]]),W.value?.level?((0,t.wg)(),(0,t.iD)("p",L,(0,o.zw)(W.value?.level[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Y,[(0,t._)("div",j,[O,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>N.value.value_type=e),class:"form-control"},B,512),[[d.bM,N.value.value_type]]),W.value?.value_type?((0,t.wg)(),(0,t.iD)("p",Q,(0,o.zw)(W.value?.value_type[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",X,[(0,t._)("div",$,[ee,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>N.value.amount=e),type:"number",placeholder:"e.g 3000.5",class:"form-control"},null,512),[[d.nr,N.value.amount]]),W.value?.amount?((0,t.wg)(),(0,t.iD)("p",le,(0,o.zw)(W.value?.amount[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",ae,[(0,t._)("div",te,[oe,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":n[4]||(n[4]=e=>N.value.method=e),class:"form-control"},ue,512),[[d.bM,N.value.method]]),W.value?.method?((0,t.wg)(),(0,t.iD)("p",ie,(0,o.zw)(W.value?.method[0]),1)):(0,t.kq)("",!0)])]),1==N.value.level?((0,t.wg)(),(0,t.iD)("fieldset",re,[(0,t._)("div",ce,[(0,t._)("div",pe,[ve,(0,t._)("div",null,[(0,t.Wm)((0,s.SU)(i.J),{modelValue:N.value.departments,"onUpdate:modelValue":n[5]||(n[5]=e=>N.value.departments=e),options:de.value,multiple:!0,"close-on-select":!0,placeholder:"Pick department",label:"text","track-by":"id"},null,8,["modelValue","options"])]),W.value?.departments?((0,t.wg)(),(0,t.iD)("p",_e,(0,o.zw)(W.value?.departments[0]),1)):(0,t.kq)("",!0)])])])):(0,t.kq)("",!0),2==N.value.level?((0,t.wg)(),(0,t.iD)("fieldset",me,[(0,t._)("div",ge,[(0,t._)("div",we,[ye,(0,t._)("div",null,[(0,t.Wm)((0,s.SU)(i.J),{modelValue:N.value.designations,"onUpdate:modelValue":n[6]||(n[6]=e=>N.value.designations=e),options:ol.value,multiple:!0,"close-on-select":!0,placeholder:"Pick Designation",label:"text","track-by":"id"},null,8,["modelValue","options"])]),W.value?.designations?((0,t.wg)(),(0,t.iD)("p",be,(0,o.zw)(W.value?.designations[0]),1)):(0,t.kq)("",!0)])])])):(0,t.kq)("",!0),3==N.value.level?((0,t.wg)(),(0,t.iD)("fieldset",fe,[(0,t._)("div",he,[(0,t._)("div",ke,[De,(0,t._)("div",null,[(0,t.Wm)((0,s.SU)(i.J),{modelValue:N.value.employees,"onUpdate:modelValue":n[7]||(n[7]=e=>N.value.employees=e),options:dl.value,multiple:!0,"close-on-select":!0,placeholder:"Pick staff",label:"text","track-by":"id"},null,8,["modelValue","options"])]),W.value?.employees?((0,t.wg)(),(0,t.iD)("p",Ve,(0,o.zw)(W.value?.employees[0]),1)):(0,t.kq)("",!0)])])])):(0,t.kq)("",!0),4==N.value.level?((0,t.wg)(),(0,t.iD)("fieldset",xe,[(0,t._)("div",Se,[(0,t._)("div",Ue,[(0,t._)("div",ze,[qe,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":n[8]||(n[8]=e=>N.value.grade_structure_pid=e),class:"form-control",onChange:n[9]||(n[9]=e=>cl(e))},[He,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(ul.value,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,Ce)))),128))],544),[[d.bM,N.value.grade_structure_pid]]),W.value?.grade_structure_pid?((0,t.wg)(),(0,t.iD)("p",Me,(0,o.zw)(W.value?.grade_structure_pid[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Pe,[(0,t._)("div",Ze,[Ae,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":n[10]||(n[10]=e=>N.value.grade_grade_pid=e),class:"form-control",onChange:n[11]||(n[11]=e=>vl(e))},[Ee,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(rl.value,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.text),9,We)))),128))],544),[[d.bM,N.value.grade_grade_pid]]),W.value?.grade_grade_pid?((0,t.wg)(),(0,t.iD)("p",Ne,(0,o.zw)(W.value?.grade_grade_pid[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",Ge,[(0,t._)("div",Je,[Te,(0,t.Wm)((0,s.SU)(i.J),{modelValue:N.value.grade_step,"onUpdate:modelValue":n[12]||(n[12]=e=>N.value.grade_step=e),options:pl.value,multiple:!0,"close-on-select":!1,placeholder:"Pick Grade Step",label:"text","track-by":"id"},null,8,["modelValue","options"]),W.value?.grade_step?((0,t.wg)(),(0,t.iD)("p",Ke,(0,o.zw)(W.value?.grade_step[0]),1)):(0,t.kq)("",!0)])])])])):(0,t.kq)("",!0),5==N.value.level?((0,t.wg)(),(0,t.iD)("fieldset",Le,[(0,t._)("div",Ye,[(0,t._)("div",je,[Oe,(0,t._)("div",null,[(0,t.Wm)((0,s.SU)(i.J),{modelValue:N.value.structures,"onUpdate:modelValue":n[13]||(n[13]=e=>N.value.structures=e),options:ul.value,multiple:!0,"close-on-select":!1,placeholder:"Pick Salary Structure",label:"text","track-by":"id"},null,8,["modelValue","options"])]),W.value?.structures?((0,t.wg)(),(0,t.iD)("p",Fe,(0,o.zw)(W.value?.structures[0]),1)):(0,t.kq)("",!0)])])])):(0,t.kq)("",!0),1==N.value.method?((0,t.wg)(),(0,t.iD)("fieldset",Ie,[(0,t._)("div",Re,[(0,t._)("div",Be,[(0,t._)("div",Qe,[Xe,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":n[14]||(n[14]=e=>N.value.period_from=e),type:"date",class:"form-control"},null,512),[[d.nr,N.value.period_from]]),W.value?.period_from?((0,t.wg)(),(0,t.iD)("p",$e,(0,o.zw)(W.value?.period_from[0]),1)):(0,t.kq)("",!0)])]),(0,t._)("div",el,[(0,t._)("div",ll,[al,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":n[15]||(n[15]=e=>N.value.period_to=e),type:"date",class:"form-control"},null,512),[[d.nr,N.value.period_to]]),W.value?.period_to?((0,t.wg)(),(0,t.iD)("p",tl,(0,o.zw)(W.value?.period_to[0]),1)):(0,t.kq)("",!0)])])])])):(0,t.kq)("",!0)])])])])),_:1},8,["isOpen"])])}}};const sl=ol;var dl=sl}}]);
//# sourceMappingURL=8773.9bbc330f.js.map